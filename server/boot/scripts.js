/* Copyright (C) 9208-9721 Quebec, Inc - All Rights Reserved
* Unauthorized copying of this file, via any medium is strictly prohibited
* Proprietary and confidential
* Written by Jason Rudland <jason.g.rudland@gmail.com>, September 2022
*/'use strict';const _0x3861db=_0x3d86;(function(_0x305b36,_0x245083){const _0x2937cd=_0x3d86,_0x19a86c=_0x305b36();while(!![]){try{const _0x3e928=-parseInt(_0x2937cd(0xec))/0x1+-parseInt(_0x2937cd(0xf8))/0x2*(parseInt(_0x2937cd(0xf5))/0x3)+parseInt(_0x2937cd(0xfa))/0x4*(-parseInt(_0x2937cd(0xf9))/0x5)+-parseInt(_0x2937cd(0xed))/0x6+-parseInt(_0x2937cd(0xe9))/0x7+parseInt(_0x2937cd(0xe8))/0x8+parseInt(_0x2937cd(0xff))/0x9;if(_0x3e928===_0x245083)break;else _0x19a86c['push'](_0x19a86c['shift']());}catch(_0x5eae97){_0x19a86c['push'](_0x19a86c['shift']());}}}(_0x52a4,0x89b6e));function _0x3d86(_0x44207c,_0x45a89e){const _0x52a4fb=_0x52a4();return _0x3d86=function(_0x3d8632,_0x492637){_0x3d8632=_0x3d8632-0xe8;let _0x5e1969=_0x52a4fb[_0x3d8632];return _0x5e1969;},_0x3d86(_0x44207c,_0x45a89e);}const dhcp=require(_0x3861db(0xfc)),locator=require(_0x3861db(0xf2)),ws=require(_0x3861db(0x100)),email=require('../utilities/email'),{compareMinerStatus,discoverMiners,setDataCenterSettings}=require(_0x3861db(0xfe)),config=require(_0x3861db(0xef)),{slackMessage,enableSlack}=require(_0x3861db(0xf4));function _0x52a4(){const _0x1fbf06=['../utilities/provision-miner','31604040EeiQGm','../utilities/ws-server','enableSlack','1606304dfpAyJ','5137678vVBUKe','enableDHCPServer','locationID','495944oDzNYM','6111186PaUcxD','updateAll','../../common/config','dataCenterSettings','start','../utilities/locator',']\x20miner\x20performance\x20inspection\x20enabled\x20at\x20','../utilities/slack-messaging','574863cmnCpI','then','resolve','8oytpFw','35ggiudx','76204BFNpKu','enableDiscoveryOnStartup','../utilities/dhcp-server','models'];_0x52a4=function(){return _0x1fbf06;};return _0x52a4();}module['exports']=function(_0x3e400){const _0x32e307=_0x3861db;var _0xd6ddca=_0x3e400[_0x32e307(0xfd)][_0x32e307(0xf0)];return _0xd6ddca[_0x32e307(0xee)]({'active':!![]},{'staticAssignment':!![],'configureMode':0x1})[_0x32e307(0xf6)](()=>_0xd6ddca['findOne']({'active':!![]}))[_0x32e307(0xf6)](_0x47c4a7=>{const _0x20513f=_0x32e307,{dhcpSettings:_0x6b8a10,networkScanInterval:_0x2860d2,useArpTable:_0x33e29b}=_0x47c4a7;ws[_0x20513f(0xf1)](),email['init'](_0x47c4a7['email']),enableSlack(_0x47c4a7[_0x20513f(0x101)]),setDataCenterSettings(_0x47c4a7);let _0x3f4978=_0x47c4a7[_0x20513f(0xfb)]?discoverMiners:function(){const _0x5bfce4=_0x20513f;return Promise[_0x5bfce4(0xf7)](null);};return _0x3f4978(_0x6b8a10)['then'](()=>{const _0x414dc5=_0x20513f;locator[_0x414dc5(0xf1)](_0x6b8a10,_0x2860d2),dhcp[_0x414dc5(0xf1)](_0x6b8a10,_0x47c4a7[_0x414dc5(0xea)]);const _0x5a55d4='['+_0x47c4a7[_0x414dc5(0xeb)]+_0x414dc5(0xf3)+_0x47c4a7['locationName'];slackMessage({'text':_0x5a55d4}),_0x2860d2&&(compareMinerStatus(_0x6b8a10,!![],!_0x33e29b),setInterval(function(){compareMinerStatus(_0x6b8a10,![],!_0x33e29b);},_0x2860d2));});});};