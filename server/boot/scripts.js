/* Copyright (C) 9208-9721 Quebec, Inc - All Rights Reserved
* Unauthorized copying of this file, via any medium is strictly prohibited
* Proprietary and confidential
* Written by Jason Rudland <jason.g.rudland@gmail.com>, September 2022
*/'use strict';function _0x4260(){const _0x5b3a74=['2476QttqNh','dataCenterSettings','../utilities/ws-server','../utilities/email','7cbviNS','179689NhvUHo','6078625yXQVCX','init','../utilities/slack-messaging','start','updateAll','../utilities/locator','then',']\x20miner\x20performance\x20inspection\x20enabled\x20at\x20','3738150vxhrNv','email','4vFxBQH','../utilities/dhcp-server','7863903CUqUYI','7570576hMPHfc','locationName','enableSlack','resolve','1737NkacRx','enableDiscoveryOnStartup','findOne','2438010KmsjcA','enableDHCPServer','models'];_0x4260=function(){return _0x5b3a74;};return _0x4260();}const _0x5bcde4=_0xe2ba;function _0xe2ba(_0x5a5bcd,_0x58bc7a){const _0x4260da=_0x4260();return _0xe2ba=function(_0xe2ba03,_0x578244){_0xe2ba03=_0xe2ba03-0x19b;let _0x3d84fe=_0x4260da[_0xe2ba03];return _0x3d84fe;},_0xe2ba(_0x5a5bcd,_0x58bc7a);}(function(_0x31ab45,_0x24c179){const _0x388c27=_0xe2ba,_0x4cb225=_0x31ab45();while(!![]){try{const _0x1743ea=parseInt(_0x388c27(0x1b7))/0x1*(parseInt(_0x388c27(0x1a5))/0x2)+parseInt(_0x388c27(0x1ac))/0x3*(-parseInt(_0x388c27(0x1b2))/0x4)+-parseInt(_0x388c27(0x19b))/0x5+parseInt(_0x388c27(0x1af))/0x6+-parseInt(_0x388c27(0x1b6))/0x7*(-parseInt(_0x388c27(0x1a8))/0x8)+parseInt(_0x388c27(0x1a7))/0x9+-parseInt(_0x388c27(0x1a3))/0xa;if(_0x1743ea===_0x24c179)break;else _0x4cb225['push'](_0x4cb225['shift']());}catch(_0x12e1e8){_0x4cb225['push'](_0x4cb225['shift']());}}}(_0x4260,0x9bba5));const dhcp=require(_0x5bcde4(0x1a6)),locator=require(_0x5bcde4(0x1a0)),ws=require(_0x5bcde4(0x1b4)),email=require(_0x5bcde4(0x1b5)),{compareMinerStatus,discoverMiners,setDataCenterSettings}=require('../utilities/provision-miner'),config=require('../../common/config'),{slackMessage,enableSlack}=require(_0x5bcde4(0x19d));module['exports']=function(_0x5889d4){const _0x4162bf=_0x5bcde4;var _0x33e7d8=_0x5889d4[_0x4162bf(0x1b1)][_0x4162bf(0x1b3)];return _0x33e7d8[_0x4162bf(0x19f)]({'active':!![]},{'staticAssignment':!![],'configureMode':0x1})[_0x4162bf(0x1a1)](()=>_0x33e7d8[_0x4162bf(0x1ae)]({'active':!![]}))[_0x4162bf(0x1a1)](_0x224e8d=>{const _0x46686b=_0x4162bf,{dhcpSettings:_0x335a18,networkScanInterval:_0x1e512d,useArpTable:_0x2adcde}=_0x224e8d;ws[_0x46686b(0x19e)](),email[_0x46686b(0x19c)](_0x224e8d[_0x46686b(0x1a4)]),enableSlack(_0x224e8d[_0x46686b(0x1aa)]),setDataCenterSettings(_0x224e8d);let _0x826237=_0x224e8d[_0x46686b(0x1ad)]?discoverMiners:function(){const _0x2b976b=_0x46686b;return Promise[_0x2b976b(0x1ab)](null);};return _0x826237(_0x335a18)[_0x46686b(0x1a1)](()=>{const _0x4351ec=_0x46686b;locator[_0x4351ec(0x19e)](_0x335a18,_0x1e512d),dhcp[_0x4351ec(0x19e)](_0x335a18,_0x224e8d[_0x4351ec(0x1b0)]);const _0x5efe26='['+_0x224e8d['locationID']+_0x4351ec(0x1a2)+_0x224e8d[_0x4351ec(0x1a9)];slackMessage({'text':_0x5efe26}),_0x1e512d&&(compareMinerStatus(_0x335a18,!![],!_0x2adcde),setInterval(function(){compareMinerStatus(_0x335a18,![],!_0x2adcde);},_0x1e512d));});});};