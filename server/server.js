/* Copyright (C) 9208-9721 Quebec, Inc - All Rights Reserved
* Unauthorized copying of this file, via any medium is strictly prohibited
* Proprietary and confidential
* Written by Jason Rudland <jason.g.rudland@gmail.com>, September 2022
*/'use strict';var _0x4f0f7d=_0x76e3;(function(_0x5c3079,_0x5ba9f5){var _0x773611=_0x76e3,_0x161f23=_0x5c3079();while(!![]){try{var _0x3e4452=parseInt(_0x773611(0xa8))/0x1*(-parseInt(_0x773611(0x8d))/0x2)+-parseInt(_0x773611(0xb8))/0x3*(-parseInt(_0x773611(0xaf))/0x4)+-parseInt(_0x773611(0x9c))/0x5*(parseInt(_0x773611(0xa2))/0x6)+-parseInt(_0x773611(0xc0))/0x7+-parseInt(_0x773611(0x99))/0x8*(-parseInt(_0x773611(0xa1))/0x9)+parseInt(_0x773611(0xcb))/0xa+parseInt(_0x773611(0x92))/0xb*(parseInt(_0x773611(0xcf))/0xc);if(_0x3e4452===_0x5ba9f5)break;else _0x161f23['push'](_0x161f23['shift']());}catch(_0x3fe177){_0x161f23['push'](_0x161f23['shift']());}}}(_0xc539,0x3782b));const dotenv=require(_0x4f0f7d(0x91))[_0x4f0f7d(0xbe)](),{arena}=require(_0x4f0f7d(0x93)),messageServices=process[_0x4f0f7d(0xba)][_0x4f0f7d(0xae)];require('./constants.js')[_0x4f0f7d(0xb3)]();function _0xc539(){var _0x20aed8=['651174GqbFMf','log','loopback','ejs','set','split','118UEZIbY','ttl','Cyan','INVALID_TOKEN','token','error','MESSAGE_SERVICES','172TLZwuE','emit','join','bright','init','get','use','started','body-parser','7599TXTKsP','loopback-component-explorer','env','apply','[env]\x20environment\x20variables\x20loaded','forEach','config','DISABLE_CONSOLE_METHODS','1603826rPxQbI','\x20\x20Message\x20services\x20in\x20use:\x20','send','replace','colorize','query','listen','accessToken','Green','dir','views','3790990zVZkZR','Browse\x20your\x20REST\x20API\x20at\x20%s%s','unhandledRejection','Ready\x20to\x20serve.','145596fAvBmt','toLowerCase','created','[env]\x20unable\x20to\x20load\x20environment\x20variables','options','2216hJtSEm','url','CONSOLE_METHODS_FILTER','path','dotenv','121axgjSx','./config.json','getTime','main','LOG_LEVEL','LEVELS','mountPath','594248nkBEGh','test','bull-arena','5HBcyYx','===\x20UNHANDLED\x20REJECTION\x20===','stack','view\x20engine','start','9VZfJIf'];_0xc539=function(){return _0x20aed8;};return _0xc539();}const consoleTen=require('console-ten');consoleTen['init'](console,consoleTen[_0x4f0f7d(0x97)][process['env'][_0x4f0f7d(0x96)]||'ALL']);const colorIt=global[_0x4f0f7d(0xc4)];dotenv[_0x4f0f7d(0xad)]?console[_0x4f0f7d(0xa3)](colorIt['Red'],_0x4f0f7d(0x8b),dotenv[_0x4f0f7d(0xad)]):(console[_0x4f0f7d(0xa3)](colorIt[_0x4f0f7d(0xc8)],_0x4f0f7d(0xbc)),messageServices&&console['log'](colorIt[_0x4f0f7d(0xb2)]['Cyan'],_0x4f0f7d(0xc1)+messageServices));const Arena=require(_0x4f0f7d(0x9b)),arenaConfig=Arena(arena[_0x4f0f7d(0xbe)],arena[_0x4f0f7d(0x8c)]);function _0x76e3(_0x40253e,_0x133f81){var _0xc53988=_0xc539();return _0x76e3=function(_0x76e3b9,_0x2aaa5c){_0x76e3b9=_0x76e3b9-0x8a;var _0x57b9b7=_0xc53988[_0x76e3b9];return _0x57b9b7;},_0x76e3(_0x40253e,_0x133f81);}if(process[_0x4f0f7d(0xba)][_0x4f0f7d(0xbf)]){const filters=process['env'][_0x4f0f7d(0x8f)]?JSON['parse'](process[_0x4f0f7d(0xba)][_0x4f0f7d(0x8f)]):{};process[_0x4f0f7d(0xba)][_0x4f0f7d(0xbf)][_0x4f0f7d(0xa7)](/\W+/)[_0x4f0f7d(0xbd)](_0xa947ab=>{var _0x9a8871=_0x4f0f7d;if(!filters[_0xa947ab])console[_0xa947ab]=function(){};else{const {key:_0xe4f5dc,matchText:_0x258925,method:_0x109a1e}=filters[_0xa947ab];let _0x392389=_0x45be5e=>new RegExp(_0x258925,'i')[_0x9a8871(0x9a)](_0x45be5e);console[_0xa947ab]=function(){var _0x4a83f6=_0x9a8871;arguments[0x0]&&arguments[0x0][_0xe4f5dc]&&_0x392389(arguments[0x0][_0xe4f5dc])&&(arguments[0x0]=colorIt[_0x4a83f6(0xb2)][_0x4a83f6(0xaa)],console[_0x109a1e][_0x4a83f6(0xbb)](null,arguments));};}});}var loopback=require(_0x4f0f7d(0xa4)),boot=require('loopback-boot'),path=require(_0x4f0f7d(0x90)),bodyParser=require(_0x4f0f7d(0xb7));const {sessionTimeout}=require('./config');var app=module['exports']=loopback();app[_0x4f0f7d(0xa6)](_0x4f0f7d(0x9f),_0x4f0f7d(0xa5)),app['set']('views',path[_0x4f0f7d(0xb1)](__dirname,_0x4f0f7d(0xca))),app[_0x4f0f7d(0xb5)](bodyParser['urlencoded']({'extended':!![]})),app['use'](loopback[_0x4f0f7d(0xac)]()),app['use'](arenaConfig),app[_0x4f0f7d(0xb5)]((_0x2848f9,_0x1d1b08,_0x4ea65d)=>{var _0x5be5af=_0x4f0f7d;for(var _0x57004c in _0x2848f9[_0x5be5af(0xc5)]){_0x2848f9[_0x5be5af(0xc5)][_0x57004c[_0x5be5af(0xd0)]()]=_0x2848f9[_0x5be5af(0xc5)][_0x57004c];}_0x4ea65d();}),app[_0x4f0f7d(0xb5)](function(_0x4031b5,_0x5a57d8,_0x16a742){var _0x192322=_0x4f0f7d,_0x4d6f43=_0x4031b5[_0x192322(0xc7)],_0xab4d=_0x4031b5['signedCookies']['access_token'];if(!_0x4d6f43||_0x4d6f43['id']!==_0xab4d)return _0x16a742();var _0x47d11d=new Date();if(_0x47d11d[_0x192322(0x94)]()-_0x4d6f43[_0x192322(0x8a)][_0x192322(0x94)]()<0x1388)return _0x16a742();_0x4d6f43[_0x192322(0x8a)]=_0x47d11d,_0x4d6f43[_0x192322(0xa9)]=sessionTimeout,_0x4d6f43['save'](_0x16a742);}),app[_0x4f0f7d(0xb5)](function(_0x3079a3,_0x28c025,_0xff2342,_0x2bc755){var _0x25cff0=_0x4f0f7d;_0x3079a3['code']==_0x25cff0(0xab)?_0xff2342[_0x25cff0(0xc2)]('<h1>Unrecognized\x20token.</h1>\x20<h3>Please\x20<a\x20href=\x27/\x27>login</a>.</h3>'):_0x2bc755();}),app['start']=function(){var _0x408c48=_0x4f0f7d;return app[_0x408c48(0xc6)](function(){var _0x194f8a=_0x408c48;app[_0x194f8a(0xb0)](_0x194f8a(0xb6));var _0x131a8c=app[_0x194f8a(0xb4)](_0x194f8a(0x8e))[_0x194f8a(0xc3)](/\/$/,'');console['log']('Web\x20server\x20listening\x20at:\x20%s',_0x131a8c);if(app[_0x194f8a(0xb4)](_0x194f8a(0xb9))){var _0x43f5a0=app[_0x194f8a(0xb4)]('loopback-component-explorer')[_0x194f8a(0x98)];console[_0x194f8a(0xa3)](_0x194f8a(0xcc),_0x131a8c,_0x43f5a0),console[_0x194f8a(0xa3)](_0x194f8a(0xce));}});},process['on'](_0x4f0f7d(0xcd),(_0x384f9c,_0x292bb1)=>{var _0x5a41c9=_0x4f0f7d;console['error'](_0x5a41c9(0x9d)),console[_0x5a41c9(0xad)](_0x384f9c),console[_0x5a41c9(0xc9)](_0x384f9c[_0x5a41c9(0x9e)]);}),boot(app,__dirname,function(_0x5a16a9){var _0x16c458=_0x4f0f7d;if(_0x5a16a9)throw _0x5a16a9;if(require[_0x16c458(0x95)]===module)app[_0x16c458(0xa0)]();});