/* Copyright (C) 9208-9721 Quebec, Inc - All Rights Reserved
* Unauthorized copying of this file, via any medium is strictly prohibited
* Proprietary and confidential
* Written by Jason Rudland <jason.g.rudland@gmail.com>, September 2022
*/'use strict';function _0x4bf5(){const _0x19b7ce=['req','body','end','102690FzJKXe','7PBnNnD','error','Auth\x20options\x20','host','Authentication\x20error:','authenticator','145596tIwdtC','Promise\x20request\x20error','request','http','184480uWoCkZ','Yellow','colorize','35ZrkPAA','connection','from','9273186rIJUWz','util','get_challenge','remotePort','inspect','err','statusCode','2098845zQmiws','debug','668932QemMbi','test','10152904TNustr'];_0x4bf5=function(){return _0x19b7ce;};return _0x4bf5();}function _0x1973(_0x13fef2,_0x1cbce8){const _0x4bf577=_0x4bf5();return _0x1973=function(_0x197327,_0x4cbc59){_0x197327=_0x197327-0x6d;let _0x479446=_0x4bf577[_0x197327];return _0x479446;},_0x1973(_0x13fef2,_0x1cbce8);}const _0x333619=_0x1973;(function(_0x521d6d,_0x16abd8){const _0x3f3871=_0x1973,_0x39eb03=_0x521d6d();while(!![]){try{const _0x1f3496=-parseInt(_0x3f3871(0x81))/0x1+-parseInt(_0x3f3871(0x7b))/0x2+parseInt(_0x3f3871(0x79))/0x3+parseInt(_0x3f3871(0x8c))/0x4+-parseInt(_0x3f3871(0x6f))/0x5*(-parseInt(_0x3f3871(0x88))/0x6)+-parseInt(_0x3f3871(0x82))/0x7*(-parseInt(_0x3f3871(0x7d))/0x8)+-parseInt(_0x3f3871(0x72))/0x9;if(_0x1f3496===_0x16abd8)break;else _0x39eb03['push'](_0x39eb03['shift']());}catch(_0x2443d1){_0x39eb03['push'](_0x39eb03['shift']());}}}(_0x4bf5,0xaf190));const wwwAuthenticate=require('www-authenticate'),http=require(_0x333619(0x8b)),util=require(_0x333619(0x73));async function authRequest(_0x1cc8e5,_0x42d16e,_0x19cce6,_0xe294a){const _0x430bbd=_0x333619,_0x4b5f6a=getAuthRequestOptions(_0x1cc8e5,_0x19cce6,_0xe294a);_0x42d16e[_0x430bbd(0x7f)]&&(_0x4b5f6a[_0x430bbd(0x7f)]=Buffer[_0x430bbd(0x71)](_0x42d16e[_0x430bbd(0x7f)]));console[_0x430bbd(0x7a)](global[_0x430bbd(0x6e)][_0x430bbd(0x6d)],_0x430bbd(0x84)+_0x19cce6+'\x20'+_0xe294a,util[_0x430bbd(0x76)](_0x4b5f6a));const _0x5ea7b0=await request({..._0x4b5f6a});return _0x5ea7b0;}function request(_0x411bb8){return new Promise((_0x2ea629,_0x23fd0c)=>{const _0x20b092=_0x1973,_0x350822=http[_0x20b092(0x8a)](_0x411bb8,_0x4b9818=>{const _0x1e0f18=_0x20b092;if(/^(2|3)\d\d/[_0x1e0f18(0x7c)](_0x4b9818[_0x1e0f18(0x78)]))return _0x2ea629(_0x4b9818);return _0x23fd0c(_0x4b9818);});_0x350822['on'](_0x20b092(0x83),_0x45ddc3=>{const _0x688cfe=_0x20b092;return console[_0x688cfe(0x83)](_0x688cfe(0x89),_0x45ddc3),_0x23fd0c(_0x45ddc3);}),_0x350822[_0x20b092(0x80)]();});}function getAuthRequestOptions(_0x3dbf75,_0x2f726e,_0x1c720b){const _0x1b1eab=_0x333619,{path:_0x2a9683,method:_0x58282d,_headers:_0x3978b5}=_0x3dbf75[_0x1b1eab(0x7e)];let _0x216d4c={'port':_0x3dbf75['req'][_0x1b1eab(0x70)][_0x1b1eab(0x75)],'host':_0x3978b5[_0x1b1eab(0x85)],'method':_0x58282d,'path':_0x2a9683,'headers':_0x3978b5};var _0x5cfbaf=wwwAuthenticate[_0x1b1eab(0x87)](_0x2f726e,_0x1c720b);_0x5cfbaf[_0x1b1eab(0x74)](_0x3dbf75),_0x5cfbaf['authenticate_request_options'](_0x216d4c);if(_0x5cfbaf[_0x1b1eab(0x77)])return console[_0x1b1eab(0x83)](_0x1b1eab(0x86),_0x5cfbaf[_0x1b1eab(0x77)]),_0x5cfbaf['err'];return _0x216d4c;}module['exports']={'authRequest':authRequest};