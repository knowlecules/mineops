/* Copyright (C) 9208-9721 Quebec, Inc - All Rights Reserved
* Unauthorized copying of this file, via any medium is strictly prohibited
* Proprietary and confidential
* Written by Jason Rudland <jason.g.rudland@gmail.com>, September 2022
*/'use strict';const _0x58b1e5=_0x542b;(function(_0x50a928,_0x3de377){const _0x3928d3=_0x542b,_0x5490d1=_0x50a928();while(!![]){try{const _0x398f47=parseInt(_0x3928d3(0x1e6))/0x1+parseInt(_0x3928d3(0x1d4))/0x2+parseInt(_0x3928d3(0x1d0))/0x3*(parseInt(_0x3928d3(0x1d1))/0x4)+parseInt(_0x3928d3(0x1d6))/0x5+parseInt(_0x3928d3(0x1e4))/0x6+-parseInt(_0x3928d3(0x1d8))/0x7*(parseInt(_0x3928d3(0x1e8))/0x8)+parseInt(_0x3928d3(0x1db))/0x9*(-parseInt(_0x3928d3(0x1e7))/0xa);if(_0x398f47===_0x3de377)break;else _0x5490d1['push'](_0x5490d1['shift']());}catch(_0x16c884){_0x5490d1['push'](_0x5490d1['shift']());}}}(_0x10ae,0x877b7));function _0x542b(_0x22d09d,_0x5310cb){const _0x10aebd=_0x10ae();return _0x542b=function(_0x542b4e,_0x357700){_0x542b4e=_0x542b4e-0x1cc;let _0x4df31d=_0x10aebd[_0x542b4e];return _0x4df31d;},_0x542b(_0x22d09d,_0x5310cb);}const _=require(_0x58b1e5(0x1d7)),nodemailer=require(_0x58b1e5(0x1e2)),smtpTransport=JSON[_0x58b1e5(0x1e3)](process[_0x58b1e5(0x1dd)][_0x58b1e5(0x1e1)]||{});let transport=nodemailer[_0x58b1e5(0x1d3)](smtpTransport),baseMailOptions={'from':_0x58b1e5(0x1dc),'to':''},mailOptions={'default':{'subject':_0x58b1e5(0x1e5),'text':_0x58b1e5(0x1df)},'offlineMiners':{'subject':'MineOps\x20alert:\x20Excessive\x20offline\x20miners\x20at\x20%INJECT%','text':_0x58b1e5(0x1cf)}};function init(_0x1ea632){const _0xf7a00=_0x58b1e5;baseMailOptions=_0x1ea632,_[_0xf7a00(0x1cd)](mailOptions,(_0x303f09,_0x580fbd)=>{mailOptions[_0x580fbd]={..._0x303f09,...baseMailOptions};});}function sendEmail(_0xcf8231){return new Promise(function(_0x13bb09,_0x2cb27d){const _0xe40303=_0x542b;transport[_0xe40303(0x1cc)](_0xcf8231,function(_0x239e20,_0x50c677){_0x239e20?_0x2cb27d(_0x239e20):_0x13bb09(_0x50c677);});});}function _0x10ae(){const _0x17eb36=['replace','Please\x20verify\x20and\x20rectify\x20offline\x20status\x20of\x20the\x20following\x20miners:\x0d%INJECT%','45zAyOyV','131332vKNzor','exports','createTransport','1984354AluqEq','subject','4750415wJGZzt','lodash','21VFfNsJ','text','%INJECT%','1017RGgRuL','noreply@mineops.com','env','html','Hello\x20world\x20âœ”','offlineMiners','smtpTransport','nodemailer','parse','2328312MCEUIa','MineOps\x20has\x20sent\x20you\x20an\x20email','419887oLaWhx','190780JQKoUV','1418520RXuVra','sendMail','forEach'];_0x10ae=function(){return _0x17eb36;};return _0x10ae();}function replaceTokens({mailOptions:_0x3adbca,subject:subject='',text:text='',html:html=''}){const _0x304116=_0x58b1e5;return _0x3adbca[_0x304116(0x1d5)]=_0x3adbca[_0x304116(0x1d5)][_0x304116(0x1ce)]('%INJECT%',subject),_0x3adbca[_0x304116(0x1d9)]&&(_0x3adbca[_0x304116(0x1d9)]=_0x3adbca[_0x304116(0x1d9)]['replace'](_0x304116(0x1da),text)),_0x3adbca[_0x304116(0x1de)]&&(_0x3adbca['html']=_0x3adbca[_0x304116(0x1de)][_0x304116(0x1ce)]('%INJECT%',html)),_0x3adbca;}async function offlineMiners({subject:_0x43a35,text:_0x9e20fa}){const _0x58f217=_0x58b1e5;var _0x2fd03e=replaceTokens({'mailOptions':mailOptions[_0x58f217(0x1e0)],'subject':_0x43a35,'text':_0x9e20fa});return sendEmail(_0x2fd03e);}module[_0x58b1e5(0x1d2)]={'offlineMiners':offlineMiners,'sendEmail':sendEmail,'init':init};