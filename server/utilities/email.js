/* Copyright (C) 9208-9721 Quebec, Inc - All Rights Reserved
* Unauthorized copying of this file, via any medium is strictly prohibited
* Proprietary and confidential
* Written by Jason Rudland <jason.g.rudland@gmail.com>, September 2022
*/'use strict';const _0x6610b1=_0x2230;function _0x2230(_0x6c4064,_0x5080c1){const _0x4de5db=_0x4de5();return _0x2230=function(_0x2230e5,_0x4fe5df){_0x2230e5=_0x2230e5-0x1c4;let _0x3903de=_0x4de5db[_0x2230e5];return _0x3903de;},_0x2230(_0x6c4064,_0x5080c1);}(function(_0x23b7f8,_0x4aeb3e){const _0x1d6d40=_0x2230,_0x1d825c=_0x23b7f8();while(!![]){try{const _0x53700c=-parseInt(_0x1d6d40(0x1d2))/0x1+parseInt(_0x1d6d40(0x1cf))/0x2*(parseInt(_0x1d6d40(0x1c8))/0x3)+parseInt(_0x1d6d40(0x1d4))/0x4*(parseInt(_0x1d6d40(0x1dc))/0x5)+-parseInt(_0x1d6d40(0x1de))/0x6+parseInt(_0x1d6d40(0x1d3))/0x7+parseInt(_0x1d6d40(0x1d1))/0x8*(-parseInt(_0x1d6d40(0x1cb))/0x9)+parseInt(_0x1d6d40(0x1dd))/0xa;if(_0x53700c===_0x4aeb3e)break;else _0x1d825c['push'](_0x1d825c['shift']());}catch(_0x48a8dd){_0x1d825c['push'](_0x1d825c['shift']());}}}(_0x4de5,0xc45a2));const _=require('lodash'),nodemailer=require(_0x6610b1(0x1d7)),smtpTransport=JSON[_0x6610b1(0x1c5)](process[_0x6610b1(0x1c4)]['smtpTransport']||{});let transport=nodemailer[_0x6610b1(0x1c7)](smtpTransport),baseMailOptions={'from':_0x6610b1(0x1cd),'to':''},mailOptions={'default':{'subject':'MineOps\x20has\x20sent\x20you\x20an\x20email','text':_0x6610b1(0x1c9)},'offlineMiners':{'subject':_0x6610b1(0x1da),'text':_0x6610b1(0x1d5)}};function init(_0x48a372){const _0x3e985c=_0x6610b1;baseMailOptions=_0x48a372,_[_0x3e985c(0x1d8)](mailOptions,(_0x104cdc,_0x48370c)=>{mailOptions[_0x48370c]={..._0x104cdc,...baseMailOptions};});}function _0x4de5(){const _0xee418=['parse','exports','createTransport','682401EkDzCB','Hello\x20world\x20âœ”','text','18xFlomF','%INJECT%','noreply@mineops.com','offlineMiners','10VhjMzL','html','6420568MTexTJ','948343WqWIyu','11132058MevKcf','3831048wGvkGl','Please\x20verify\x20and\x20rectify\x20offline\x20status\x20of\x20the\x20following\x20miners:\x0d%INJECT%','replace','nodemailer','forEach','sendMail','MineOps\x20alert:\x20Excessive\x20offline\x20miners\x20at\x20%INJECT%','subject','5aDGZfM','9209670OocfgD','7491690dmogCx','env'];_0x4de5=function(){return _0xee418;};return _0x4de5();}function sendEmail(_0x43e31e){return new Promise(function(_0xeca7d2,_0x43a331){const _0x9ce5a5=_0x2230;transport[_0x9ce5a5(0x1d9)](_0x43e31e,function(_0x400605,_0x41daba){_0x400605?_0x43a331(_0x400605):_0xeca7d2(_0x41daba);});});}function replaceTokens({mailOptions:_0x4eafba,subject:subject='',text:text='',html:html=''}){const _0x33a85a=_0x6610b1;return _0x4eafba[_0x33a85a(0x1db)]=_0x4eafba[_0x33a85a(0x1db)]['replace'](_0x33a85a(0x1cc),subject),_0x4eafba[_0x33a85a(0x1ca)]&&(_0x4eafba[_0x33a85a(0x1ca)]=_0x4eafba[_0x33a85a(0x1ca)]['replace'](_0x33a85a(0x1cc),text)),_0x4eafba[_0x33a85a(0x1d0)]&&(_0x4eafba[_0x33a85a(0x1d0)]=_0x4eafba[_0x33a85a(0x1d0)][_0x33a85a(0x1d6)](_0x33a85a(0x1cc),html)),_0x4eafba;}async function offlineMiners({subject:_0x17eaf3,text:_0xd907f9}){const _0x40d517=_0x6610b1;var _0x39086a=replaceTokens({'mailOptions':mailOptions[_0x40d517(0x1ce)],'subject':_0x17eaf3,'text':_0xd907f9});return sendEmail(_0x39086a);}module[_0x6610b1(0x1c6)]={'offlineMiners':offlineMiners,'sendEmail':sendEmail,'init':init};