/* Copyright (C) 9208-9721 Quebec, Inc - All Rights Reserved
* Unauthorized copying of this file, via any medium is strictly prohibited
* Proprietary and confidential
* Written by Jason Rudland <jason.g.rudland@gmail.com>, September 2022
*/'use strict';const _0x63ded3=_0x2b58;(function(_0x1ce678,_0x158822){const _0x292a9e=_0x2b58,_0x17f3de=_0x1ce678();while(!![]){try{const _0x1727f7=-parseInt(_0x292a9e(0x182))/0x1*(parseInt(_0x292a9e(0x185))/0x2)+parseInt(_0x292a9e(0x176))/0x3+parseInt(_0x292a9e(0x179))/0x4+parseInt(_0x292a9e(0x17b))/0x5+parseInt(_0x292a9e(0x184))/0x6*(-parseInt(_0x292a9e(0x186))/0x7)+parseInt(_0x292a9e(0x17e))/0x8*(-parseInt(_0x292a9e(0x181))/0x9)+parseInt(_0x292a9e(0x180))/0xa*(parseInt(_0x292a9e(0x17d))/0xb);if(_0x1727f7===_0x158822)break;else _0x17f3de['push'](_0x17f3de['shift']());}catch(_0x46ccbf){_0x17f3de['push'](_0x17f3de['shift']());}}}(_0x1177,0x823f7));function _0x2b58(_0x5aa9e5,_0x32d122){const _0x1177a9=_0x1177();return _0x2b58=function(_0x2b58d8,_0x44406c){_0x2b58d8=_0x2b58d8-0x173;let _0x1ad744=_0x1177a9[_0x2b58d8];return _0x1ad744;},_0x2b58(_0x5aa9e5,_0x32d122);}const _=require(_0x63ded3(0x189)),nodemailer=require(_0x63ded3(0x187)),smtpTransport=JSON[_0x63ded3(0x177)](process[_0x63ded3(0x17c)][_0x63ded3(0x17f)]||{});function _0x1177(){const _0x319358=['976643UgYUwh','exports','6uIIdHT','2XwvOEp','6664126BIDWgE','nodemailer','createTransport','lodash','replace','Please\x20verify\x20and\x20rectify\x20offline\x20status\x20of\x20the\x20following\x20miners:\x0d%INJECT%','%INJECT%','forEach','sendMail','html','2087814kinkss','parse','text','1520888RFFWps','subject','4316105jCmChq','env','1276TUzXQO','1048wsVwbo','smtpTransport','55400XhoQbL','8235uFAkXi'];_0x1177=function(){return _0x319358;};return _0x1177();}let transport=nodemailer[_0x63ded3(0x188)](smtpTransport),baseMailOptions={'from':'noreply@mineops.com','to':''},mailOptions={'default':{'subject':'MineOps\x20has\x20sent\x20you\x20an\x20email','text':'Hello\x20world\x20âœ”'},'offlineMiners':{'subject':'MineOps\x20alert:\x20Excessive\x20offline\x20miners\x20at\x20%INJECT%','text':_0x63ded3(0x18b)}};function init(_0x3442be){const _0x2d18a2=_0x63ded3;baseMailOptions=_0x3442be,_[_0x2d18a2(0x173)](mailOptions,(_0x20e5a9,_0x28395c)=>{mailOptions[_0x28395c]={..._0x20e5a9,...baseMailOptions};});}function sendEmail(_0x21a2fa){return new Promise(function(_0x5dd85d,_0x18510a){const _0x58a571=_0x2b58;transport[_0x58a571(0x174)](_0x21a2fa,function(_0x2329c9,_0x3845cc){_0x2329c9?_0x18510a(_0x2329c9):_0x5dd85d(_0x3845cc);});});}function replaceTokens({mailOptions:_0xa902a1,subject:subject='',text:text='',html:html=''}){const _0x4271bc=_0x63ded3;return _0xa902a1[_0x4271bc(0x17a)]=_0xa902a1['subject'][_0x4271bc(0x18a)]('%INJECT%',subject),_0xa902a1[_0x4271bc(0x178)]&&(_0xa902a1[_0x4271bc(0x178)]=_0xa902a1[_0x4271bc(0x178)][_0x4271bc(0x18a)](_0x4271bc(0x18c),text)),_0xa902a1['html']&&(_0xa902a1['html']=_0xa902a1[_0x4271bc(0x175)][_0x4271bc(0x18a)](_0x4271bc(0x18c),html)),_0xa902a1;}async function offlineMiners({subject:_0x38deb5,text:_0x566548}){var _0x220b09=replaceTokens({'mailOptions':mailOptions['offlineMiners'],'subject':_0x38deb5,'text':_0x566548});return sendEmail(_0x220b09);}module[_0x63ded3(0x183)]={'offlineMiners':offlineMiners,'sendEmail':sendEmail,'init':init};