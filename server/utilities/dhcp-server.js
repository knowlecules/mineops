/* Copyright (C) 9208-9721 Quebec, Inc - All Rights Reserved
* Unauthorized copying of this file, via any medium is strictly prohibited
* Proprietary and confidential
* Written by Jason Rudland <jason.g.rudland@gmail.com>, September 2022
*/'use strict';function _0x2c29(_0x10ad75,_0x2ce6e9){const _0x4cbf23=_0x4cbf();return _0x2c29=function(_0x2c293e,_0xeeb819){_0x2c293e=_0x2c293e-0x192;let _0x4e3b0e=_0x4cbf23[_0x2c293e];return _0x4e3b0e;},_0x2c29(_0x10ad75,_0x2ce6e9);}const _0x1d70c5=_0x2c29;(function(_0x47d7e0,_0x524457){const _0x2feecf=_0x2c29,_0x739d39=_0x47d7e0();while(!![]){try{const _0x4de6a0=-parseInt(_0x2feecf(0x1ac))/0x1+-parseInt(_0x2feecf(0x1a7))/0x2*(parseInt(_0x2feecf(0x1a9))/0x3)+parseInt(_0x2feecf(0x1af))/0x4*(-parseInt(_0x2feecf(0x1a4))/0x5)+parseInt(_0x2feecf(0x19e))/0x6+parseInt(_0x2feecf(0x1b0))/0x7*(-parseInt(_0x2feecf(0x19a))/0x8)+parseInt(_0x2feecf(0x196))/0x9+parseInt(_0x2feecf(0x19f))/0xa;if(_0x4de6a0===_0x524457)break;else _0x739d39['push'](_0x739d39['shift']());}catch(_0x84752d){_0x739d39['push'](_0x739d39['shift']());}}}(_0x4cbf,0xbfb50));const dhcpd=require(_0x1d70c5(0x1a0)),iprange=require(_0x1d70c5(0x192)),request=require(_0x1d70c5(0x1a8)),iface=require('./net-interfaces');let server=null,ips={};function start(_0x5cef5a,_0xed62e0){const _0x19e1d4=_0x1d70c5;if(!_0xed62e0)return console[_0x19e1d4(0x1a2)](_0x19e1d4(0x19c),'[dhcp]\x20service\x20disabled!');const _0x527651=iface['getLocalInterface'](_0x5cef5a[_0x19e1d4(0x1ab)][0x0],_0x5cef5a[_0x19e1d4(0x1ab)][0x1]);if(!_0x527651){console['log']('\x1b[31m%s\x1b[0m',_0x19e1d4(0x19b),_0x5cef5a),console[_0x19e1d4(0x1a2)](_0x19e1d4(0x19c),_0x19e1d4(0x1a6));return;}return _0x5cef5a[_0x19e1d4(0x197)]=_0x527651[_0x19e1d4(0x1b4)],_0x5cef5a[_0x19e1d4(0x195)]=_0x5cef5a[_0x19e1d4(0x195)]||_0x527651[_0x19e1d4(0x1b4)][_0x19e1d4(0x193)](/\.\d+$/,'.1'),_0x5cef5a['broadcast']=_0x5cef5a['broadcast']||_0x5cef5a[_0x19e1d4(0x1ab)][0x1][_0x19e1d4(0x193)](/\.\d+$/,_0x19e1d4(0x1ae)),server=dhcpd[_0x19e1d4(0x1a5)](_0x5cef5a),server['on'](_0x19e1d4(0x199),function(_0x476000){}),server['on'](_0x19e1d4(0x194),function(_0x48e82e){const _0x4a0b5c=_0x19e1d4;console[_0x4a0b5c(0x1a2)]('BOUND:'),console[_0x4a0b5c(0x1a2)](_0x48e82e);}),server['on'](_0x19e1d4(0x1b1),function(_0x3ae5f,_0x491bca){const _0x63b15f=_0x19e1d4;console[_0x63b15f(0x1a2)](_0x3ae5f,_0x491bca);}),server['on'](_0x19e1d4(0x1a3),function(_0x4338c9){const _0x5bf9f1=_0x19e1d4;var _0xe527a1=_0x4338c9[_0x5bf9f1(0x1b4)]();console[_0x5bf9f1(0x1a2)](_0x5bf9f1(0x1b2),_0x5bf9f1(0x1a1)+_0xe527a1['address']+':'+_0xe527a1[_0x5bf9f1(0x198)]);}),server['on'](_0x19e1d4(0x1ad),function(){}),server['listen'](),process['on'](_0x19e1d4(0x1aa),()=>{const _0x23bf70=_0x19e1d4;server[_0x23bf70(0x1ad)]();}),server;}function upsertLease(_0x120e46,_0x7d250){const _0x258416=_0x1d70c5;if(!server)return;server[_0x258416(0x1b3)]({'ipAddress':_0x7d250,'mac':_0x120e46});}function _0x4cbf(){const _0x3e0571=['[dhcpd]\x20service\x20disabled!','222qUwXoQ','request','22170WFglsH','SIGINT','range','580735KuSSsi','close','.255','8yoLCKq','7GtUjpW','error','\x1b[32m%s\x1b[0m','allocateIP','address','iprange','replace','bound','router','12266163eUsfwo','server','port','message','2881968QnSXHi','[dhcpd]\x20Network\x20interface\x20not\x20found.\x20Verify\x20the\x20dhcpSettings\x20in\x20the\x20dataCenterSettings.\x20The\x20server\x20ip\x20must\x20fall\x20within\x20the\x20dhcp\x20range!','\x1b[31m%s\x1b[0m','exports','924306xvHcaA','15686330tjOzCD','dhcp','[dhcpd]\x20UDP\x20server\x20listening\x20to:\x20','log','listening','1347720dmeXNM','createServer'];_0x4cbf=function(){return _0x3e0571;};return _0x4cbf();}module[_0x1d70c5(0x19d)]={'start':start,'upsertLease':upsertLease};