/* Copyright (C) 9208-9721 Quebec, Inc - All Rights Reserved
* Unauthorized copying of this file, via any medium is strictly prohibited
* Proprietary and confidential
* Written by Jason Rudland <jason.g.rudland@gmail.com>, September 2022
*/'use strict';const _0x31b103=_0x3d52;(function(_0x34a286,_0x1e7b1c){const _0x3d5185=_0x3d52,_0x1c7cf9=_0x34a286();while(!![]){try{const _0x370cd6=-parseInt(_0x3d5185(0x1b4))/0x1*(-parseInt(_0x3d5185(0x1c0))/0x2)+-parseInt(_0x3d5185(0x1ab))/0x3+parseInt(_0x3d5185(0x1bc))/0x4*(parseInt(_0x3d5185(0x1a3))/0x5)+-parseInt(_0x3d5185(0x1b2))/0x6+-parseInt(_0x3d5185(0x19f))/0x7+parseInt(_0x3d5185(0x1a5))/0x8*(-parseInt(_0x3d5185(0x1a6))/0x9)+-parseInt(_0x3d5185(0x1af))/0xa*(-parseInt(_0x3d5185(0x1b9))/0xb);if(_0x370cd6===_0x1e7b1c)break;else _0x1c7cf9['push'](_0x1c7cf9['shift']());}catch(_0x1ff5c1){_0x1c7cf9['push'](_0x1c7cf9['shift']());}}}(_0x5dcd,0x1b7f9));function _0x3d52(_0x2e3576,_0x26cc6e){const _0x5dcd22=_0x5dcd();return _0x3d52=function(_0x3d52fb,_0x4944bb){_0x3d52fb=_0x3d52fb-0x19f;let _0x426eba=_0x5dcd22[_0x3d52fb];return _0x426eba;},_0x3d52(_0x2e3576,_0x26cc6e);}function _0x5dcd(){const _0x3bf95f=['7576TNbMrR','947576OQUJec','connection','keys','../config.json','34395hmCSIb','hello','1448OMYEtT','1206IsRIjT','\x1b[32m%s\x1b[0m','socketPort','Server','createServer','485466wQTcdM','parse','readyState','address','2410vZXNfq','forEach','[web-sockets]\x20connected\x20to\x20session:\x20','979374HHQKwc','[web-sockets]\x20server\x20listening\x20','29JSnYwP','access_token','../../common/config.json','url','express','21307hRHrod','OPEN','listen','12rfvkjI','send','exports','port'];_0x5dcd=function(){return _0x3bf95f;};return _0x5dcd();}const express=require(_0x31b103(0x1b8)),http=require('http'),url=require('url'),WebSocket=require('ws'),config=require(_0x31b103(0x1b6)),svrConfig=require(_0x31b103(0x1a2));let sockets={};function start(){const _0x479425=_0x31b103,_0x522be3=express();_0x522be3['use'](function(_0x1d5364,_0x528083){const _0x28dd23=_0x3d52;_0x528083['send']({'msg':_0x28dd23(0x1a4)});});const _0x3e42e4=http[_0x479425(0x1aa)](_0x522be3),_0x1e9599=new WebSocket[(_0x479425(0x1a9))]({'server':_0x3e42e4});_0x1e9599['on'](_0x479425(0x1a0),function _0x4273a3(_0x28a94c,_0x9e7cf7){const _0x18bc44=_0x479425,_0x802dd=url[_0x18bc44(0x1ac)](_0x9e7cf7[_0x18bc44(0x1b7)],!![]),_0x1c758e=_0x802dd['query'][_0x18bc44(0x1b5)];sockets[_0x1c758e]=_0x28a94c,socketSend({'text':'MineOps\x20sockets\x20connected.','accessToken':_0x1c758e}),console['log'](_0x18bc44(0x1b1)+_0x1c758e);}),_0x3e42e4[_0x479425(0x1bb)](config[_0x479425(0x1a8)],function _0x5308b2(){const _0x4ffb68=_0x479425,_0x263afc=_0x3e42e4[_0x4ffb68(0x1ae)]();console['log'](_0x4ffb68(0x1a7),_0x4ffb68(0x1b3)+_0x263afc[_0x4ffb68(0x1ae)]+':'+_0x263afc[_0x4ffb68(0x1bf)]);});}function socketSend({text:_0x46bac2,accessToken:_0x2c4e6f}){const _0x5de1de=_0x31b103;function _0x203205(_0xaba5a,_0x1bedaf){const _0x3e9d26=_0x3d52;sockets[_0x1bedaf][_0x3e9d26(0x1ad)]===WebSocket[_0x3e9d26(0x1ba)]?sockets[_0x1bedaf][_0x3e9d26(0x1bd)](_0xaba5a):delete sockets[_0x1bedaf];}_0x2c4e6f?_0x203205(_0x46bac2,_0x2c4e6f):Object[_0x5de1de(0x1a1)](sockets)[_0x5de1de(0x1b0)](_0xdf1c28=>{_0x203205(_0x46bac2,_0xdf1c28);});}module[_0x31b103(0x1be)]={'socketSend':socketSend,'start':start};