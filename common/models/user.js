/* Copyright (C) 9208-9721 Quebec, Inc - All Rights Reserved
* Unauthorized copying of this file, via any medium is strictly prohibited
* Proprietary and confidential
* Written by Jason Rudland <jason.g.rudland@gmail.com>, September 2022
*/'use strict';var _0x3e624d=_0x330b;function _0x121c(){var _0x28acee=['email','8sDHNwY','host','setPassword','2127888YWadUw','Log\x20in','Your\x20password\x20has\x20been\x20reset\x20successfully','models','783477ZVFrjK','Password\x20changed\x20successfully','/verified','/reset-password','Click\x20<a\x20href=\x22','resolve','port','to\x20your\x20email\x20successfully','afterRemote','prototype.verify','1138350fXUsdw','Thanks\x20for\x20registering.','1008450niLzFb','50tscSJj','423024nwcLgl','log','2NKEInL','exports','send','Email','1985634MIpGrh','changePassword','app','http://','Please\x20login\x20again\x20with\x20new\x20password','Please\x20check\x20your\x20email\x20and\x20click\x20on\x20the\x20verification\x20link\x20','res','A\x20Link\x20to\x20reverify\x20your\x20identity\x20has\x20been\x20sent\x20','\x22>here</a>\x20to\x20reset\x20your\x20password','verify','render','322241Lknafb','before\x20logging\x20in','../../server/views/verify.ejs','response','deleteById'];_0x121c=function(){return _0x28acee;};return _0x121c();}(function(_0x5775a1,_0x521c0e){var _0x1cb886=_0x330b,_0x797619=_0x5775a1();while(!![]){try{var _0x4ec659=parseInt(_0x1cb886(0xae))/0x1*(parseInt(_0x1cb886(0x9f))/0x2)+parseInt(_0x1cb886(0x9d))/0x3*(-parseInt(_0x1cb886(0xb4))/0x4)+parseInt(_0x1cb886(0x99))/0x5+parseInt(_0x1cb886(0x9b))/0x6+-parseInt(_0x1cb886(0xa3))/0x7+-parseInt(_0x1cb886(0xb7))/0x8+parseInt(_0x1cb886(0x8f))/0x9*(parseInt(_0x1cb886(0x9c))/0xa);if(_0x4ec659===_0x521c0e)break;else _0x797619['push'](_0x797619['shift']());}catch(_0x1f3174){_0x797619['push'](_0x797619['shift']());}}}(_0x121c,0x4e833));function _0x330b(_0x3728dc,_0xd7a4a6){var _0x121c29=_0x121c();return _0x330b=function(_0x330b42,_0x5eecf1){_0x330b42=_0x330b42-0x8d;var _0x2538a8=_0x121c29[_0x330b42];return _0x2538a8;},_0x330b(_0x3728dc,_0xd7a4a6);}var config=require('../../server/config.json'),path=require('path'),senderAddress='noreply@investments.org';module[_0x3e624d(0xa0)]=function(_0x36c9c1){var _0x49a0aa=_0x3e624d;_0x36c9c1[_0x49a0aa(0x97)]('create',function(_0x554e6d,_0x1b8f16,_0x444a9e){var _0x91aaf4=_0x49a0aa,_0x1a898d={'type':_0x91aaf4(0xb3),'to':_0x1b8f16[_0x91aaf4(0xb3)],'from':senderAddress,'subject':_0x91aaf4(0x9a),'template':path[_0x91aaf4(0x94)](__dirname,_0x91aaf4(0xb0)),'redirect':_0x91aaf4(0x91),'user':_0x1b8f16};_0x1b8f16[_0x91aaf4(0xac)](_0x1a898d,function(_0x2b2506,_0x191a42){var _0x3c79e6=_0x91aaf4;if(_0x2b2506)return _0x36c9c1[_0x3c79e6(0xb2)](_0x1b8f16['id']),_0x444a9e(_0x2b2506);_0x554e6d[_0x3c79e6(0xa9)][_0x3c79e6(0xad)](_0x3c79e6(0xb1),{'title':'Signed\x20up\x20successfully','content':_0x3c79e6(0xa8)+'before\x20logging\x20in.','redirectTo':'/','redirectToLinkText':_0x3c79e6(0xb8)});});}),_0x36c9c1[_0x49a0aa(0x97)](_0x49a0aa(0x98),function(_0x2e0496,_0x3909f6,_0x5989d6){var _0x57252f=_0x49a0aa;_0x2e0496[_0x57252f(0xa9)][_0x57252f(0xad)](_0x57252f(0xb1),{'title':_0x57252f(0xaa)+_0x57252f(0x96),'content':_0x57252f(0xa8)+_0x57252f(0xaf),'redirectTo':'/','redirectToLinkText':'Log\x20in'});}),_0x36c9c1['on']('resetPasswordRequest',function(_0x2cce04){var _0x1e29d8=_0x49a0aa,_0x5b89ac=_0x1e29d8(0xa6)+config[_0x1e29d8(0xb5)]+':'+config[_0x1e29d8(0x95)]+_0x1e29d8(0x92),_0x2ce4b0=_0x1e29d8(0x93)+_0x5b89ac+_0x1e29d8(0xab);_0x36c9c1[_0x1e29d8(0xa5)][_0x1e29d8(0x8e)][_0x1e29d8(0xa2)][_0x1e29d8(0xa1)]({'to':_0x2cce04[_0x1e29d8(0xb3)],'from':senderAddress,'subject':'Password\x20reset','html':_0x2ce4b0},function(_0x529e1f){var _0x1cb22c=_0x1e29d8;if(_0x529e1f)return console['log']('>\x20error\x20sending\x20password\x20reset\x20email');console[_0x1cb22c(0x9e)]('>\x20sending\x20password\x20reset\x20email\x20to:',_0x2cce04['email']);});}),_0x36c9c1[_0x49a0aa(0x97)](_0x49a0aa(0xa4),function(_0x3f5039,_0x31696a,_0x50b42f){var _0x5bcbf4=_0x49a0aa;_0x3f5039[_0x5bcbf4(0xa9)][_0x5bcbf4(0xad)](_0x5bcbf4(0xb1),{'title':_0x5bcbf4(0x90),'content':_0x5bcbf4(0xa7),'redirectTo':'/','redirectToLinkText':_0x5bcbf4(0xb8)});}),_0x36c9c1[_0x49a0aa(0x97)](_0x49a0aa(0xb6),function(_0x140647,_0x59876e,_0x2104b0){var _0x31d0d2=_0x49a0aa;_0x140647['res'][_0x31d0d2(0xad)]('response',{'title':'Password\x20reset\x20success','content':_0x31d0d2(0x8d),'redirectTo':'/','redirectToLinkText':'Log\x20in'});});};