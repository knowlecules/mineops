/* Copyright (C) 9208-9721 Quebec, Inc - All Rights Reserved
* Unauthorized copying of this file, via any medium is strictly prohibited
* Proprietary and confidential
* Written by Jason Rudland <jason.g.rudland@gmail.com>, September 2022
*/'use strict';const _0x4a42a3=_0x4259;(function(_0x2ee106,_0x59408d){const _0x28920c=_0x4259,_0x4383ac=_0x2ee106();while(!![]){try{const _0xe9ca95=-parseInt(_0x28920c(0x1de))/0x1*(-parseInt(_0x28920c(0x1dd))/0x2)+-parseInt(_0x28920c(0x1e5))/0x3+parseInt(_0x28920c(0x1cb))/0x4+-parseInt(_0x28920c(0x1c6))/0x5+-parseInt(_0x28920c(0x1bb))/0x6+-parseInt(_0x28920c(0x1cc))/0x7+parseInt(_0x28920c(0x1ee))/0x8;if(_0xe9ca95===_0x59408d)break;else _0x4383ac['push'](_0x4383ac['shift']());}catch(_0x58adf8){_0x4383ac['push'](_0x4383ac['shift']());}}}(_0x1ffa,0xa4da1));const rp=require(_0x4a42a3(0x1d0)),fetch=require('node-fetch'),{FormData}=require(_0x4a42a3(0x1f2)),pool={'maxSockets':0xc8},Queue=require(_0x4a42a3(0x1ec)),{promisify}=require(_0x4a42a3(0x1ed)),messageServices=process[_0x4a42a3(0x1e8)][_0x4a42a3(0x1e9)],sendQueue=new Queue(_0x4a42a3(0x1d1)),receiveQueue=new Queue(_0x4a42a3(0x1c2)),errorQueue=new Queue(_0x4a42a3(0x1c0)),DigestFetch=require('digest-fetch'),querystring=require('querystring');let callbacks={},cbIndex=parseInt(Number(process[_0x4a42a3(0x1c7)][_0x4a42a3(0x1b5)]())/0x3e8);receiveQueue[_0x4a42a3(0x1d8)](async _0x27f06b=>{const _0x4148f6=_0x4a42a3,_0x4319d3=_0x27f06b[_0x4148f6(0x1f1)][_0x4148f6(0x1bd)],_0x294aff=_0x4319d3[_0x4148f6(0x1d7)];console[_0x4148f6(0x1c5)](_0x4148f6(0x1d4),_0x294aff),console['debug'](_0x4148f6(0x1e0),_0x4319d3);if(callbacks[_0x294aff])return console[_0x4148f6(0x1c5)](_0x4148f6(0x1ba),_0x294aff),callbacks[_0x294aff](_0x4319d3[_0x4148f6(0x1f7)],_0x4319d3['response']),delete callbacks[_0x294aff];else console[_0x4148f6(0x1cf)](_0x4148f6(0x1e3),_0x294aff,_0x4148f6(0x1b6));return _0x4319d3;}),errorQueue[_0x4a42a3(0x1d8)](async _0x247f5f=>{const _0x2c55b0=_0x4a42a3;console['error'](_0x2c55b0(0x1f4),_0x247f5f);}),errorQueue['on'](_0x4a42a3(0x1c8),(_0xd4cdf8,_0x2e6a33)=>{const _0xf32d0=_0x4a42a3;console[_0xf32d0(0x1f7)](_0xf32d0(0x1f8)[_0xf32d0(0x1db)],_0x2e6a33);}),errorQueue['on'](_0x4a42a3(0x1e6),(_0x21c2b8,_0x5f516c)=>{const _0x21190f=_0x4a42a3;console[_0x21190f(0x1f7)](_0x21190f(0x1df)[_0x21190f(0x1db)],_0x5f516c);});const publish=/^\b(web-requester)\b$/['test'](messageServices)?promisify(pub):fetchWrapper;async function fetchWrapper(_0x43bbfb){const _0x2db7c9=_0x4a42a3,{auth:_0x37207d}=_0x43bbfb,{user:_0x489d4d,pass:_0x5e1cd4,digestOptions:_0x59800d}=_0x37207d||{},{uri:_0x22e8a8,headers:headers={},method:_0x48f067,form:_0x41fe43}=_0x43bbfb,_0x5ab96b=headers[_0x2db7c9(0x1d3)],_0x5cfa68=/json/i['test'](_0x5ab96b),_0x2a6e91=/multipart/i[_0x2db7c9(0x1e4)](_0x5ab96b),_0x5b6698={'headers':headers,'method':_0x48f067};if(_0x41fe43){if(_0x2a6e91){_0x43bbfb[_0x2db7c9(0x1bc)]=JSON[_0x2db7c9(0x1b9)](JSON[_0x2db7c9(0x1da)](querystring['parse'](_0x41fe43)));;delete _0x43bbfb[_0x2db7c9(0x1eb)],delete _0x43bbfb[_0x2db7c9(0x1bf)];}else{if(/string/i[_0x2db7c9(0x1e4)](typeof _0x41fe43))_0x5b6698[_0x2db7c9(0x1ea)]=_0x41fe43;else{const _0x6847e0=_0x5cfa68?JSON:querystring;_0x5b6698[_0x2db7c9(0x1ea)]=_0x6847e0[_0x2db7c9(0x1da)](_0x41fe43);}}}let _0x4e951e;if(_0x59800d&&!_0x2a6e91){const _0x4dde17=new DigestFetch(_0x489d4d,_0x5e1cd4,_0x59800d);_0x4e951e=await _0x4dde17['fetch'](_0x22e8a8,_0x5b6698);}else/\/luci(\/|$)/i['test'](_0x22e8a8)?(_0x43bbfb[_0x2db7c9(0x1b7)]=_0x5cfa68,_0x4e951e=await rp(_0x43bbfb)['then'](_0x17aaa5=>{return _0x17aaa5;})[_0x2db7c9(0x1f0)](_0x325df4=>{const _0x469923=_0x2db7c9,_0x45ea7f=_0x325df4[_0x469923(0x1f5)]||_0x325df4,_0x525f14=_0x45ea7f[_0x469923(0x1dc)];return!/^\s*30[27]/[_0x469923(0x1e4)](_0x525f14)&&console[_0x469923(0x1cf)](_0x469923(0x1d9),_0x43bbfb,_0x325df4),_0x45ea7f;})):_0x4e951e=await fetch(_0x22e8a8,_0x5b6698);return _0x4e951e;}async function ensureJson(_0x4152bc){const _0xc82b94=_0x4a42a3,{headers:headers={},statusCode:_0x36d3ba}=_0x4152bc,_0x197ccb=headers['get']?headers[_0xc82b94(0x1c9)](_0xc82b94(0x1d3)):headers['content-type'],_0x130562=/json/[_0xc82b94(0x1e4)](_0x197ccb);let _0x16e69f='';if(_0x130562)_0x16e69f=await _0x4152bc[_0xc82b94(0x1b7)]();else{if(_0x4152bc[_0xc82b94(0x1ef)]){_0x16e69f=await _0x4152bc[_0xc82b94(0x1ef)]();if(/^\s*{/[_0xc82b94(0x1e4)](_0x16e69f))try{_0x16e69f=JSON[_0xc82b94(0x1b9)](_0x16e69f);}catch(_0xa91a07){_0x16e69f={'statusCode':_0x36d3ba,'response':_0x16e69f};}else _0x16e69f={'statusCode':_0x36d3ba,'response':_0x16e69f};}}return _0x16e69f;}async function ensureText(_0x13cfd0){const _0x8e969e=_0x4a42a3;let _0x1dbcd4;return _0x1dbcd4=_0x13cfd0[_0x8e969e(0x1ef)]?await _0x13cfd0['text']():_0x13cfd0[_0x8e969e(0x1ca)]||_0x13cfd0,_0x1dbcd4;}function _0x4259(_0x372c6e,_0x54c496){const _0x1ffa38=_0x1ffa();return _0x4259=function(_0x4259a3,_0x239d3c){_0x4259a3=_0x4259a3-0x1b4;let _0x1d5afc=_0x1ffa38[_0x4259a3];return _0x1d5afc;},_0x4259(_0x372c6e,_0x54c496);}async function setAuthHeader(_0x46e8fc){const _0xdf52dc=_0x4a42a3,_0x1b5824=_0x46e8fc['uri'],{auth:_0x2f3dc8}=_0x46e8fc,{user:_0x59103e,pass:_0x16c429}=_0x2f3dc8;if(/basic/[_0xdf52dc(0x1e4)](_0x2f3dc8['type'])){let _0x31bc01=_0xdf52dc(0x1cd)+Buffer['from'](_0x59103e+':'+_0x16c429,'binary')['toString'](_0xdf52dc(0x1be));!_0x46e8fc[_0xdf52dc(0x1d2)]&&(_0x46e8fc[_0xdf52dc(0x1d2)]={}),_0x46e8fc[_0xdf52dc(0x1d2)][_0xdf52dc(0x1c4)]=_0x31bc01;}else{let _0x28e024=_0x46e8fc[_0xdf52dc(0x1b8)][_0xdf52dc(0x1f3)](_0xdf52dc(0x1f9));_0x46e8fc[_0xdf52dc(0x1b8)]=_0x28e024[0x0]+_0xdf52dc(0x1f9)+_0x59103e+':'+_0x16c429+'@'+_0x28e024[0x1];}}async function pub(_0x4f4601,_0x3f0a6e){const _0x5697c5=_0x4a42a3,_0x3273f2=++cbIndex;console[_0x5697c5(0x1c5)](_0x5697c5(0x1d6),_0x3273f2),console[_0x5697c5(0x1f6)](_0x5697c5(0x1ce),_0x3273f2,_0x4f4601);const _0x14f012=_0x4f4601[_0x5697c5(0x1e7)]||'',_0x1135c6={'jobid':_0x3273f2,'options':_0x4f4601,'parser':_0x14f012};callbacks[_0x3273f2]=_0x3f0a6e,sendQueue[_0x5697c5(0x1d5)](_0x1135c6);}function _0x1ffa(){const _0x182692=['Flushed\x20global\x20error\x20queue\x20failure:','://','exports','bigint','.\x20The\x20server\x20probably\x20restarted.','json','uri','parse','Called\x20back\x20jobid:','4496754MQmczd','formData','payload','base64','auth','web-error','url','web-response','POST','Authorization','trace','4428290hHJNKr','hrtime','global:failed','get','message','3943232XrXvMj','1356362VTjZHP','Basic\x20','Published\x20job:','warn','request-promise-native','web-request','headers','Content-Type','Job\x20received\x20jobid:','add','Published\x20jobid:','jobid','process','Error\x20calling\x20remote\x20server\x20','stringify','job','statusCode','434866ZvoRYj','3cLTfWe','Flushed\x20global\x20error\x20queue\x20error:','Job\x20received\x20job:','sendImmediately','then','No\x20callback\x20for\x20Jobid:','test','2170392eHAYRe','global:error','parser','env','MESSAGE_SERVICES','body','form','bull','util','12715784kDNtpL','text','catch','data','formdata-node','split','Flushed\x20queue\x20error\x20to\x20console:','response','debug','error'];_0x1ffa=function(){return _0x182692;};return _0x1ffa();}async function getHTML(_0xd5b965={}){const _0x1f4be6=_0x4a42a3,_0x4dff57={'pool':pool,'timeout':0x1f40,..._0xd5b965},_0x54a510=await publish(_0x4dff57)[_0x1f4be6(0x1e2)](async _0x27a8bc=>{const _0x588ec2=await ensureText(_0x27a8bc);return _0x588ec2;})[_0x1f4be6(0x1f0)](_0x17ba77=>{return _0x17ba77;});return _0x54a510;}async function getJSON(_0x53c040={}){const _0x17a82d=_0x4a42a3,_0x231a84={'pool':pool,'timeout':0x1f40,..._0x53c040,'json':!![]},_0x2b2c82=await publish(_0x231a84)[_0x17a82d(0x1e2)](async _0x28dc3a=>{const _0x2b521c=await ensureJson(_0x28dc3a);return _0x2b521c;})[_0x17a82d(0x1f0)](_0x146595=>{return _0x146595;});return _0x2b2c82;}async function postJSON(_0x1b5323){const _0xd22b17=_0x4a42a3,_0x9c4046={'method':_0xd22b17(0x1c3),..._0x1b5323,'json':!![]},_0x2d0d2b=await publish(_0x9c4046)['then'](async _0x183f51=>{const _0x14a98f=await ensureJson(_0x183f51);return _0x14a98f;})['catch'](_0x3e4f21=>{return _0x3e4f21;});return _0x2d0d2b;}async function formPost(_0x2a9e66){const _0x39e6cd=_0x4a42a3,_0x559c1e={'timeout':0x1d4c0,..._0x2a9e66,'method':_0x39e6cd(0x1c3)},_0x3b0c97=await publish(_0x559c1e)['then'](async _0x11e4a3=>{const {headers:_0xac61ca,statusCode:_0x175854}=_0x11e4a3,_0x5ae770={'headers':_0xac61ca,'body':await ensureJson(_0x11e4a3),'statusCode':_0x175854};return _0x5ae770;})['catch'](_0x2c75fa=>{return _0x2c75fa;});return _0x3b0c97;}async function filePost(_0x43ec9a){const _0xc21dc5=_0x4a42a3,_0x348253={'timeout':0x1d4c0,..._0x43ec9a,'method':_0xc21dc5(0x1c3)},_0x51a162=await fetch(_0x348253)['catch'](_0x38d8c5=>_0x38d8c5);return _0x51a162;}async function requestPost(_0x12bfcc){const _0x2bb5ed=_0x4a42a3,_0x2b2b2b=alignPostOptions(_0x12bfcc);_0x2b2b2b[_0x2bb5ed(0x1ea)]=_0x12bfcc[_0x2bb5ed(0x1ea)];const {body:_0x5d3deb}=await formPost(_0x2b2b2b);return _0x5d3deb;}function alignPostOptions(_0x105894){const _0x103b64=_0x4a42a3,_0x448053=_0x105894[_0x103b64(0x1c1)],_0x36a045={'Content-Type':_0x105894[_0x103b64(0x1d2)]['Content-Type']};var _0x3e9865={'uri':_0x448053,'headers':_0x36a045};return _0x105894['auth']&&(_0x3e9865['auth']=_0x105894[_0x103b64(0x1bf)],_0x3e9865[_0x103b64(0x1bf)][_0x103b64(0x1e1)]=![]),_0x3e9865;}module[_0x4a42a3(0x1b4)]={'formPost':formPost,'filePost':filePost,'getJSON':getJSON,'postJSON':postJSON,'getHTML':getHTML,'requestPost':requestPost};