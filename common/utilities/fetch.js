/* Copyright (C) 9208-9721 Quebec, Inc - All Rights Reserved
* Unauthorized copying of this file, via any medium is strictly prohibited
* Proprietary and confidential
* Written by Jason Rudland <jason.g.rudland@gmail.com>, September 2022
*/'use strict';const _0x488fbd=_0x45f0;(function(_0x524bf0,_0x34a201){const _0x2d86ee=_0x45f0,_0x12a418=_0x524bf0();while(!![]){try{const _0x30d9c1=parseInt(_0x2d86ee(0xb7))/0x1*(-parseInt(_0x2d86ee(0xe1))/0x2)+-parseInt(_0x2d86ee(0xba))/0x3*(-parseInt(_0x2d86ee(0xc0))/0x4)+-parseInt(_0x2d86ee(0xdb))/0x5*(parseInt(_0x2d86ee(0xc4))/0x6)+-parseInt(_0x2d86ee(0xbc))/0x7*(-parseInt(_0x2d86ee(0xae))/0x8)+parseInt(_0x2d86ee(0xe0))/0x9*(parseInt(_0x2d86ee(0xab))/0xa)+parseInt(_0x2d86ee(0xb4))/0xb+-parseInt(_0x2d86ee(0xdf))/0xc;if(_0x30d9c1===_0x34a201)break;else _0x12a418['push'](_0x12a418['shift']());}catch(_0x2f91fa){_0x12a418['push'](_0x12a418['shift']());}}}(_0x42cb,0x49e30));const rp=require(_0x488fbd(0xb5)),fetch=require(_0x488fbd(0xed)),{FormData}=require('formdata-node'),pool={'maxSockets':0xc8},Queue=require(_0x488fbd(0xe3)),{promisify}=require(_0x488fbd(0xb3)),messageServices=process[_0x488fbd(0xd9)][_0x488fbd(0xb0)],sendQueue=new Queue(_0x488fbd(0xac)),receiveQueue=new Queue(_0x488fbd(0xe6)),errorQueue=new Queue(_0x488fbd(0xda)),DigestFetch=require(_0x488fbd(0xc3)),querystring=require(_0x488fbd(0xc1));let callbacks={},cbIndex=parseInt(Number(process[_0x488fbd(0xe5)]['bigint']())/0x3e8);receiveQueue[_0x488fbd(0xde)](async _0xcddc15=>{const _0x36846a=_0x488fbd,_0x491652=_0xcddc15[_0x36846a(0xcf)][_0x36846a(0xd4)],_0x4984f5=_0x491652[_0x36846a(0xea)];console[_0x36846a(0xd5)](_0x36846a(0xc9),_0x4984f5),console['debug'](_0x36846a(0xb2),_0x491652);if(callbacks[_0x4984f5])return console['trace'](_0x36846a(0xd2),_0x4984f5),callbacks[_0x4984f5](_0x491652[_0x36846a(0xc2)],_0x491652[_0x36846a(0xb9)]),delete callbacks[_0x4984f5];else console[_0x36846a(0xd3)](_0x36846a(0xbf),_0x4984f5,_0x36846a(0xc6));return _0x491652;}),errorQueue[_0x488fbd(0xde)](async _0x43f8a5=>{const _0x3809a4=_0x488fbd;console[_0x3809a4(0xc2)](_0x3809a4(0xaa),_0x43f8a5);}),errorQueue['on'](_0x488fbd(0xcd),(_0x2ddbfc,_0x10a2b8)=>{const _0xc1abdc=_0x488fbd;console[_0xc1abdc(0xc2)](_0xc1abdc(0xeb)['job'],_0x10a2b8);}),errorQueue['on']('global:error',(_0x16d2e5,_0x4c67f9)=>{const _0x4262f8=_0x488fbd;console['error']('Flushed\x20global\x20error\x20queue\x20error:'[_0x4262f8(0xe9)],_0x4c67f9);});const publish=/^\b(web-requester)\b$/[_0x488fbd(0xdc)](messageServices)?promisify(pub):fetchWrapper;async function fetchWrapper(_0x321419){const _0x47b6e5=_0x488fbd,{auth:_0x143b62}=_0x321419,{user:_0xe02da8,pass:_0x2a1834,digestOptions:_0x4f857b}=_0x143b62||{},{uri:_0x323087,headers:headers={},method:_0x54339a,form:_0x3ede27}=_0x321419,_0x341474=headers[_0x47b6e5(0xbe)],_0x217179=/json/i[_0x47b6e5(0xdc)](_0x341474),_0x3b0dba=/multipart/i[_0x47b6e5(0xdc)](_0x341474),_0x3d7d93={'headers':headers,'method':_0x54339a};if(_0x3ede27){if(_0x3b0dba){_0x321419['formData']=JSON[_0x47b6e5(0xec)](JSON[_0x47b6e5(0xee)](querystring[_0x47b6e5(0xec)](_0x3ede27)));;delete _0x321419[_0x47b6e5(0xcc)],delete _0x321419['auth'];}else{if(/string/i['test'](typeof _0x3ede27))_0x3d7d93['body']=_0x3ede27;else{const _0x4c0492=_0x217179?JSON:querystring;_0x3d7d93[_0x47b6e5(0xe2)]=_0x4c0492[_0x47b6e5(0xee)](_0x3ede27);}}}let _0x5e521a;if(_0x4f857b&&!_0x3b0dba){const _0x47d141=new DigestFetch(_0xe02da8,_0x2a1834,_0x4f857b);_0x5e521a=await _0x47d141[_0x47b6e5(0xc5)](_0x323087,_0x3d7d93);}else/\/luci(\/|$)/i[_0x47b6e5(0xdc)](_0x323087)?(_0x321419[_0x47b6e5(0xf0)]=_0x217179,_0x5e521a=await rp(_0x321419)['then'](_0x3c4cbc=>{return _0x3c4cbc;})['catch'](_0x52c319=>{const _0x1a031a=_0x47b6e5,_0x3573b3=_0x52c319['response']||_0x52c319,_0x97a352=_0x3573b3[_0x1a031a(0xca)];return!/^\s*30[27]/[_0x1a031a(0xdc)](_0x97a352)&&console['warn'](_0x1a031a(0xef),_0x321419,_0x52c319),_0x3573b3;})):_0x5e521a=await fetch(_0x323087,_0x3d7d93);return _0x5e521a;}async function ensureJson(_0x4169eb){const _0x1eaadd=_0x488fbd,{headers:headers={},statusCode:_0x59eb03}=_0x4169eb,_0x20cabb=headers['get']?headers[_0x1eaadd(0xdd)](_0x1eaadd(0xbe)):headers[_0x1eaadd(0xce)],_0x15a411=/json/[_0x1eaadd(0xdc)](_0x20cabb);let _0x10cba6='';if(_0x15a411)_0x10cba6=await _0x4169eb['json']();else{if(_0x4169eb[_0x1eaadd(0xd7)]){_0x10cba6=await _0x4169eb[_0x1eaadd(0xd7)]();if(/^\s*{/[_0x1eaadd(0xdc)](_0x10cba6))try{_0x10cba6=JSON[_0x1eaadd(0xec)](_0x10cba6);}catch(_0x359d76){_0x10cba6={'statusCode':_0x59eb03,'response':_0x10cba6};}else _0x10cba6={'statusCode':_0x59eb03,'response':_0x10cba6};}}return _0x10cba6;}async function ensureText(_0x37919d){const _0x217c95=_0x488fbd;let _0x2430a7;return _0x2430a7=_0x37919d['text']?await _0x37919d[_0x217c95(0xd7)]():_0x37919d['message']||_0x37919d,_0x2430a7;}async function setAuthHeader(_0x4af498){const _0x12d43e=_0x488fbd,_0x12aca6=_0x4af498[_0x12d43e(0xbb)],{auth:_0x1ae93a}=_0x4af498,{user:_0x4baac7,pass:_0x33b92f}=_0x1ae93a;if(/basic/[_0x12d43e(0xdc)](_0x1ae93a['type'])){let _0x44045b=_0x12d43e(0xe7)+Buffer[_0x12d43e(0xd1)](_0x4baac7+':'+_0x33b92f,_0x12d43e(0xad))[_0x12d43e(0xb8)](_0x12d43e(0xcb));!_0x4af498['headers']&&(_0x4af498['headers']={}),_0x4af498[_0x12d43e(0xb6)]['Authorization']=_0x44045b;}else{let _0x143101=_0x4af498[_0x12d43e(0xbb)][_0x12d43e(0xc7)](_0x12d43e(0xe8));_0x4af498['uri']=_0x143101[0x0]+_0x12d43e(0xe8)+_0x4baac7+':'+_0x33b92f+'@'+_0x143101[0x1];}}function _0x45f0(_0x5ae899,_0x54b331){const _0x42cbe1=_0x42cb();return _0x45f0=function(_0x45f021,_0x573836){_0x45f021=_0x45f021-0xaa;let _0x3e746c=_0x42cbe1[_0x45f021];return _0x3e746c;},_0x45f0(_0x5ae899,_0x54b331);}async function pub(_0x53e808,_0x306499){const _0x2e5454=_0x488fbd,_0x36b199=++cbIndex;console[_0x2e5454(0xd5)](_0x2e5454(0xaf),_0x36b199),console['debug'](_0x2e5454(0xb1),_0x36b199,_0x53e808);const _0x5e1ebb=_0x53e808['parser']||'',_0x52c965={'jobid':_0x36b199,'options':_0x53e808,'parser':_0x5e1ebb};callbacks[_0x36b199]=_0x306499,sendQueue['add'](_0x52c965);}async function getHTML(_0x26bc23={}){const _0x280acf=_0x488fbd,_0xb75867={'pool':pool,'timeout':0x1f40,..._0x26bc23},_0x801672=await publish(_0xb75867)[_0x280acf(0xd0)](async _0x2792c6=>{const _0x477486=await ensureText(_0x2792c6);return _0x477486;})[_0x280acf(0xd8)](_0x480503=>{return _0x480503;});return _0x801672;}async function getJSON(_0x287977={}){const _0x52621f=_0x488fbd,_0x45fe81={'pool':pool,'timeout':0x1f40,..._0x287977,'json':!![]},_0x51487c=await publish(_0x45fe81)[_0x52621f(0xd0)](async _0x462c9c=>{const _0x1d9ac2=await ensureJson(_0x462c9c);return _0x1d9ac2;})[_0x52621f(0xd8)](_0xef2c79=>{return _0xef2c79;});return _0x51487c;}async function postJSON(_0x382bad){const _0x1575e3=_0x488fbd,_0x515f41={'method':'POST',..._0x382bad,'json':!![]},_0x4687a7=await publish(_0x515f41)[_0x1575e3(0xd0)](async _0x411000=>{const _0x1cf497=await ensureJson(_0x411000);return _0x1cf497;})[_0x1575e3(0xd8)](_0x2f9c03=>{return _0x2f9c03;});return _0x4687a7;}async function formPost(_0x1b2474){const _0x578acb=_0x488fbd,_0x5e27a4={'timeout':0x1d4c0,..._0x1b2474,'method':_0x578acb(0xe4)},_0x5e0f0a=await publish(_0x5e27a4)[_0x578acb(0xd0)](async _0x2b5f2e=>{const {headers:_0x548979,statusCode:_0x17593a}=_0x2b5f2e,_0x4e97c1={'headers':_0x548979,'body':await ensureJson(_0x2b5f2e),'statusCode':_0x17593a};return _0x4e97c1;})[_0x578acb(0xd8)](_0x10930d=>{return _0x10930d;});return _0x5e0f0a;}async function filePost(_0x4fbf1c){const _0x538ecd=_0x488fbd,_0x1b0474={'timeout':0x1d4c0,..._0x4fbf1c,'method':_0x538ecd(0xe4)},_0x43c5dd=await fetch(_0x1b0474)[_0x538ecd(0xd8)](_0x1f8db3=>_0x1f8db3);return _0x43c5dd;}async function requestPost(_0x614bd3){const _0x55f103=_0x488fbd,_0x434b0f=alignPostOptions(_0x614bd3);_0x434b0f[_0x55f103(0xe2)]=_0x614bd3[_0x55f103(0xe2)];const {body:_0xb52106}=await formPost(_0x434b0f);return _0xb52106;}function _0x42cb(){const _0x1474a9=['://','job','jobid','Flushed\x20global\x20error\x20queue\x20failure:','parse','node-fetch','stringify','Error\x20calling\x20remote\x20server\x20','json','Flushed\x20queue\x20error\x20to\x20console:','1297910SORMGL','web-request','binary','4554248dJwGZh','Published\x20jobid:','MESSAGE_SERVICES','Published\x20job:','Job\x20received\x20job:','util','6481552UpQKDX','request-promise-native','headers','1852zUoRAq','toString','response','6siXBgn','uri','7NtfzMU','sendImmediately','Content-Type','No\x20callback\x20for\x20Jobid:','555048OSUFnk','querystring','error','digest-fetch','685470GakeFh','fetch','.\x20The\x20server\x20probably\x20restarted.','split','auth','Job\x20received\x20jobid:','statusCode','base64','form','global:failed','content-type','data','then','from','Called\x20back\x20jobid:','warn','payload','trace','exports','text','catch','env','web-error','10rCkbum','test','get','process','6949272pNOozd','9yTZXPJ','492JnwLRz','body','bull','POST','hrtime','web-response','Basic\x20'];_0x42cb=function(){return _0x1474a9;};return _0x42cb();}function alignPostOptions(_0x3dce4a){const _0x189f01=_0x488fbd,_0x51a972=_0x3dce4a['url'],_0x3bbbfd={'Content-Type':_0x3dce4a[_0x189f01(0xb6)][_0x189f01(0xbe)]};var _0x26dc4c={'uri':_0x51a972,'headers':_0x3bbbfd};return _0x3dce4a[_0x189f01(0xc8)]&&(_0x26dc4c['auth']=_0x3dce4a[_0x189f01(0xc8)],_0x26dc4c[_0x189f01(0xc8)][_0x189f01(0xbd)]=![]),_0x26dc4c;}module[_0x488fbd(0xd6)]={'formPost':formPost,'filePost':filePost,'getJSON':getJSON,'postJSON':postJSON,'getHTML':getHTML,'requestPost':requestPost};