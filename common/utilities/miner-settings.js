/* Copyright (C) 9208-9721 Quebec, Inc - All Rights Reserved
* Unauthorized copying of this file, via any medium is strictly prohibited
* Proprietary and confidential
* Written by Jason Rudland <jason.g.rudland@gmail.com>, September 2022
*/'use strict';const _0x1e1f7a=_0x4ef4;(function(_0x5c25a6,_0x2c4dcd){const _0x477e2b=_0x4ef4,_0x3566b1=_0x5c25a6();while(!![]){try{const _0xa4cfc7=-parseInt(_0x477e2b(0x19d))/0x1+-parseInt(_0x477e2b(0x2ca))/0x2+-parseInt(_0x477e2b(0x1d9))/0x3*(parseInt(_0x477e2b(0x1b6))/0x4)+-parseInt(_0x477e2b(0x179))/0x5*(parseInt(_0x477e2b(0x27f))/0x6)+parseInt(_0x477e2b(0x2b1))/0x7*(parseInt(_0x477e2b(0x149))/0x8)+parseInt(_0x477e2b(0x163))/0x9*(-parseInt(_0x477e2b(0x16f))/0xa)+-parseInt(_0x477e2b(0x21a))/0xb*(-parseInt(_0x477e2b(0x2c6))/0xc);if(_0xa4cfc7===_0x2c4dcd)break;else _0x3566b1['push'](_0x3566b1['shift']());}catch(_0xdb3a92){_0x3566b1['push'](_0x3566b1['shift']());}}}(_0x5e37,0x7ed37));const loopback=require(_0x1e1f7a(0x221)),{sendCommand,getVersionInfo}=require(_0x1e1f7a(0x2b3)),{isGeneratedMacAddress,ipToMacAddress}=require(_0x1e1f7a(0x201)),{getJSON,getHTML,filePost,formPost,postJSON}=require(_0x1e1f7a(0x2d7)),config=require(_0x1e1f7a(0x2d4)),_=require(_0x1e1f7a(0x2d0)),{minerTypeMap,minerApis}=config;for(let minerApi in minerApis){minerApis[minerApi[_0x1e1f7a(0x20d)]()]=minerApis[minerApi];}const {getTokenValueMapper,replaceTokensWithValues}=require('./templating'),fs=require('fs'),path=require(_0x1e1f7a(0x1f6)),SSH=require(_0x1e1f7a(0x2c7)),{inspect,promisify}=require(_0x1e1f7a(0x22a)),writeFile=promisify(fs[_0x1e1f7a(0x16d)]),portScanner=require(_0x1e1f7a(0x187)),{api}=require(_0x1e1f7a(0x2a8)),SSH_PORT_STATE=global['SSH_PORT_STATE'],softwareVersions=global[_0x1e1f7a(0x242)],MAX_POOLS=0x3,CONSUMPTION_DEFAULT=0x8ae,CONFIGURE_MODE_PROVISION=0x2;let minerVersionsLookup={},uniqWorker={'names':{},'addrs':{},'highestIndex':0x1};const reKnownFirmwareUpdateErrors=/(Cannot\s+Find\s+Signature|Incorrect\s+firmware|Cannot\s+Downgrade|Installer\s+Not\s+Sign(a?tur)ed?)/i;init();function init(){generateMinerVersionLookup();}const average=_0x2b0239=>(_0x2b0239?.['length']?_0x2b0239:[0x0])['reduce']((_0x312621=0x0,_0xf757a3=0x0)=>parseFloat(_0xf757a3)+parseFloat(_0x312621))/(_0x2b0239?.[_0x1e1f7a(0x25f)]||0x1);function escapeRegex(_0x4226e1){return _0x4226e1['replace'](/[.*+?^${}()|[\]\\]/g,'\x5c$&');}function generateMinerVersionLookup(){const _0x9ca3ee=_0x1e1f7a;if(Object['keys'](minerVersionsLookup)[_0x9ca3ee(0x25f)])return;Object[_0x9ca3ee(0x1ed)](minerTypeMap)[_0x9ca3ee(0x1f2)](_0x39afa8=>{const _0x2121e1=_0x9ca3ee,{firmwareLookup:_0x29cf90,brand:_0x115293,apiVersion:_0x6a689,modelType:_0x5260f1}=minerTypeMap[_0x39afa8];_0x29cf90&&_0x29cf90[_0x2121e1(0x1ed)][_0x2121e1(0x1f2)](_0x3d157a=>{const _0x3acacf=_0x2121e1;let _0x4a05a7={..._0x29cf90['versionData']};_0x4a05a7[_0x3acacf(0x2d9)]=_0x5260f1||_0x39afa8,_0x4a05a7['minerType']=_0x39afa8,_0x4a05a7[_0x3acacf(0x209)]=_0x115293,_0x4a05a7['apiVersion']=_0x6a689||_0x115293,minerVersionsLookup[_0x3d157a]=_0x4a05a7,minerVersionsLookup[_0x3d157a+_0x39afa8]=_0x4a05a7;});});}function buildTemplatedRequestBody(_0x79bbbf=[],_0xb616e7=[],_0x549fe5,_0xdfd533,_0x251780=_0x1e1f7a(0x2a1)){const _0x4412d5=_0x1e1f7a,_0x14ca1d=_0x549fe5[_0x4412d5(0x1a3)][_0x4412d5(0x207)](/([^\/]+)$/)[0x1]+_0x4412d5(0x278),_0x917f1e=minerApis[(_0x251780||'')[_0x4412d5(0x20d)]()][_0x4412d5(0x249)],_0x5f5aa7=(_0xdfd533[_0x4412d5(0x24d)]||'')+(_0x917f1e||'')+_0x14ca1d,_0x32b6aa=getTemplateLiteral(_0x5f5aa7,_0x14ca1d),_0x28e49e=new Function(..._0x79bbbf,_0x4412d5(0x15a)+_0x32b6aa+'`'),_0x2064a9=_0x28e49e(..._0xb616e7),_0x14547d=_0x2064a9['replace'](/\n+/g,'');return _0x14547d;}function buildSetMinerSettingsRequestBody({pools:pools=null,minerConfigOptions:minerConfigOptions={},html:html='',uri:_0x159326,minerTyped:_0x307c63,apiVersion:_0x234778}={}){const _0x5a0529=_0x1e1f7a;if(!pools?.[0x0])throw new Error('Specify\x20at\x20least\x20one\x20pool.');pools['push']({},{});const _0x3c67cb=minerConfigOptions;return buildTemplatedRequestBody([_0x5a0529(0x1a2),_0x5a0529(0x2ae),'html'],[pools,_0x3c67cb,html],_0x159326,_0x307c63,_0x234778);}function buildSetNetworkSettingsRequestBody({network:network=null,minerInfo:minerInfo={},uri:_0x4ef319,minerTyped:_0x98b29c,apiVersion:_0x46e258}={}){const _0x5993a1=_0x1e1f7a;return buildTemplatedRequestBody([_0x5993a1(0x193),_0x5993a1(0x1df)],[network,minerInfo],_0x4ef319,_0x98b29c,_0x46e258);}function buildNetworkDiagnosticRequestBody({diagnostic:diagnostic={},uri:_0x20b421,minerTyped:_0x10d2ae,apiVersion:_0x47ac9d}={}){const _0xd38e8f=_0x1e1f7a;return buildTemplatedRequestBody([_0xd38e8f(0x2af)],[diagnostic],_0x20b421,_0x10d2ae,_0x47ac9d);}function buildStateSyncRequestBody({html:_0x1a6cf4,uri:_0x369ab4,minerTyped:_0x174144,apiVersion:_0x5a7c44}={}){const _0x246f3d=_0x1e1f7a;return buildTemplatedRequestBody([_0x246f3d(0x1b8)],[_0x1a6cf4],_0x369ab4,_0x174144,_0x5a7c44);}function validateMinerUpsert({minerInfo:_0x4cbc23}){const _0x44e6a7=_0x1e1f7a,{workerName:_0x44176c,macAddress:_0x5ec7d5,ipAddress:_0x3adcbe,condition:_0x355d4a}=_0x4cbc23,{pools:pools=[]}=_0x355d4a,_0xb21331=pools[_0x44e6a7(0x23b)](_0x47b624=>_0x47b624[_0x44e6a7(0x16a)])['join'](','),_0x34b699=new RegExp(_0x44176c,'i');if(!_0xb21331||_0x34b699[_0x44e6a7(0x1bd)](_0xb21331))return![];return![];}async function trendsAggregate({accountName:_0x404b83,minerType:_0x1b08a6,period:period=_0x1e1f7a(0x2ad),ipAddresses:_0x4ad304,isStacked:_0x56917f}){const _0x217495=_0x1e1f7a,_0x3fde8c=loopback[_0x217495(0x194)](_0x217495(0x1df)),_0x37aa38=0x28;function _0x289b7e(_0x32d9bc,_0x16a6e1,_0x5a718c){const _0x4483df=_0x217495,_0x1d1305=JSON['parse'](_0x59310d[_0x4483df(0x2de)](/priorHours/ig,_0x32d9bc)),_0x5dcff3=_0x1d1305['aggregate'][0x1][_0x4483df(0x15f)];return _0x5dcff3['ts'][_0x4483df(0x237)]['$dateToString']['format']=_0x16a6e1,_0x5dcff3['ts'][_0x4483df(0x237)][_0x4483df(0x169)][_0x4483df(0x17f)][_0x4483df(0x27c)][0x0]=new Date(0x0),_0x5a718c?_0x5dcff3[_0x4483df(0x140)][_0x4483df(0x28f)]=[_0x4483df(0x1dc)+_0x32d9bc+_0x4483df(0x241),'_']:(_0x5dcff3[_0x4483df(0x140)]['$concat'][0x0][_0x4483df(0x169)][_0x4483df(0x172)]=_0x16a6e1,_0x5dcff3['_id'][_0x4483df(0x28f)][0x0][_0x4483df(0x169)][_0x4483df(0x17f)][_0x4483df(0x27c)][0x0]=new Date(0x0)),_0x1d1305;}let _0x1d604a='';!_0x56917f&&(_0x1d604a=_0x217495(0x1cc)+_0x37aa38+'\x20}');let _0x59310d=_0x217495(0x205)+_0x1d604a+']}',_0x5a62d2;if(/^fine/i['test'](period))_0x5a62d2=_0x289b7e(_0x217495(0x2ad),_0x217495(0x18c),!![]);else{if(/^minut/i['test'](period))_0x5a62d2=_0x289b7e(_0x217495(0x270),'%Y-%m-%dT%H:%M',!![]);else{if(/^hour/i['test'](period))_0x5a62d2=_0x289b7e('hourly',_0x217495(0x1ac));else/^da[iy]/i[_0x217495(0x1bd)](period)&&(_0x5a62d2=_0x289b7e(_0x217495(0x17e),_0x217495(0x260)));}}let _0xcab41a;if(_0x4ad304&&_0x4ad304[_0x217495(0x25f)])_0xcab41a={'ipAddress':{'inq':_0x4ad304[_0x217495(0x2bf)](/\s*,\s*/)}};else{if(_0x404b83){_0xcab41a={'accountName':_0x404b83};if(_0x1b08a6)_0xcab41a[_0x217495(0x24c)]=_0x1b08a6;else _0x56917f&&_0x5a62d2['aggregate'][0x1][_0x217495(0x15f)]['_id']['$concat'][_0x217495(0x26b)]('$minerType');}else _0x1b08a6&&(_0xcab41a={'minerType':_0x1b08a6},_0x56917f&&_0x5a62d2[_0x217495(0x294)][0x1][_0x217495(0x15f)][_0x217495(0x140)][_0x217495(0x28f)][_0x217495(0x26b)](_0x217495(0x1c5)));}_0xcab41a&&(_0x5a62d2[_0x217495(0x192)]=_0xcab41a);console[_0x217495(0x1f0)](_0x217495(0x2d2),inspect(_0x5a62d2,![],0x5,!![]));const _0x32a7ea=await _0x3fde8c[_0x217495(0x294)](_0x5a62d2,{'build':![]});return _0x32a7ea;}async function upsertMinerInfo({minerInfo:_0x112b52,configureMode:configureMode=0x0}){const _0xd8b788=_0x1e1f7a,_0x271031=loopback[_0xd8b788(0x194)]('minerInfo'),_0x483b66={'timestamp':_0x112b52[_0xd8b788(0x186)]?new Date(_0x112b52[_0xd8b788(0x186)]):new Date(),'accountName':_0x112b52[_0xd8b788(0x1d3)]},_0x48c23e=validateMinerUpsert({'minerInfo':_0x112b52});if(_0x48c23e)return console['warn'](_0xd8b788(0x165),_0x48c23e,JSON[_0xd8b788(0x1b4)](_0x112b52)['substr'](0x0,0x64)),_0x112b52;if(!_0x112b52[_0xd8b788(0x2a9)])_0x483b66['estimate']=!![],_0x112b52[_0xd8b788(0x2a9)]={'initial':_0x483b66,'latest':_0x483b66,'history':[_0x483b66]};else{if(_0x112b52['deployments']['latest']['accountName']!==_0x483b66[_0xd8b788(0x1d3)])_0x112b52[_0xd8b788(0x2a9)][_0xd8b788(0x2c4)]=_0x483b66,_0x112b52['deployments']['history'][_0xd8b788(0x26b)](_0x483b66);else _0x112b52[_0xd8b788(0x186)]&&(_0x112b52[_0xd8b788(0x2a9)][_0xd8b788(0x2ba)]=_0x483b66,_0x112b52['deployments'][_0xd8b788(0x2c4)]=_0x483b66,_0x112b52[_0xd8b788(0x2a9)][_0xd8b788(0x269)][_0xd8b788(0x26b)](_0x483b66));}delete _0x112b52[_0xd8b788(0x186)];const {placement:placement={}}=_0x112b52;return placement[_0xd8b788(0x27e)]&&configureMode===CONFIGURE_MODE_PROVISION&&await _0x271031[_0xd8b788(0x14f)]({'placement':placement},{'placement':null}),console['debug']({'logType':'upsert'},_0xd8b788(0x217)+_0x112b52['workerName']+_0xd8b788(0x261)+_0x112b52[_0xd8b788(0x277)]),_0x112b52=await _0x271031[_0xd8b788(0x167)](_0x112b52)['catch'](_0x1fe5c4=>{const _0x36981a=_0xd8b788;console['error'](_0x36981a(0x21c),_0x112b52,_0x1fe5c4);}),_0x112b52;}async function getMinerLayoutFields(_0x1d1947={}){const _0x3d3967=_0x1e1f7a,_0x3ebc80=loopback[_0x3d3967(0x194)](_0x3d3967(0x1df));let _0x15938f={'fields':{'accountName':!![],'workerName':!![],'workerTypeNumber':!![],'placement':!![],'model':!![],'modelType':!![],'minerType':!![],'runtimeState':!![],'condition':!![],'conditionPrime':!![],'intakeSpeed':!![],'exhaustSpeed':!![],'logStates':!![],'ipAddress':!![],'macAddress':!![],'serialNumber':!![],'psuSerialNumber':!![],'psuModel':!![],'breakerPanelId':!![],'powerBarId':!![],'powerPhase':!![],'transformerLow':!![],'transformerMed':!![],'networkSwitchRef':!![]},'order':[_0x3d3967(0x229),_0x3d3967(0x250),_0x3d3967(0x28c),_0x3d3967(0x1a5)]};_0x15938f={..._0x15938f,..._0x1d1947};let _0x41e683=await _0x3ebc80[_0x3d3967(0x2a5)](_0x15938f),_0x4af40c=_[_0x3d3967(0x25b)](_0x41e683,_0x426324=>_0x426324?.[_0x3d3967(0x262)]?.[_0x3d3967(0x1da)]||_0x3d3967(0x29a));return _0x4af40c;}function _0x4ef4(_0x4eb111,_0x535d74){const _0x5e370c=_0x5e37();return _0x4ef4=function(_0x4ef436,_0x55d787){_0x4ef436=_0x4ef436-0x13f;let _0x5befac=_0x5e370c[_0x4ef436];return _0x5befac;},_0x4ef4(_0x4eb111,_0x535d74);}async function updateMinerInfo({record:_0x5cbc4d,keyField:_0x335c1a,keyFieldName:_0x42d6fd}){const _0x25dbe1=_0x1e1f7a,_0x57ccf6=loopback[_0x25dbe1(0x194)]('minerInfo'),_0x156a31=_0x5cbc4d[_0x42d6fd],_0x282b84={'where':{}};let {placement:placement='',minerType:_0x2148cf,ipAddress:_0x30a4cd,macAddress:_0x4f455b,serialNumber:_0xbb61ad,psuSerialNumber:_0x5c1d50,psuModel:_0x106089,networkSwitchRef:_0x591259,breakerPanelId:_0x38b03e,powerBarId:_0x2a6362,powerPhase:_0x113326,transformerLow:_0x110a0f,transformerMed:_0x28fced}=_0x5cbc4d;!placement&&(placement=JSON['stringify'](_0x5cbc4d)[_0x25dbe1(0x207)](/placement":"?([^,'"]*)"?(,|$)/)[0x1]);if(placement[_0x25dbe1(0x25f)]>0x4){const _0x29c32b=placement[_0x25dbe1(0x207)](/^(?:(.+)\.)?([^\.]+)\.(\d+)\.(\d+)(\.true|false)?$/);if(!_0x29c32b&&_0x29c32b[_0x25dbe1(0x25f)])return console[_0x25dbe1(0x2a6)]('During\x20edit,\x20cannot\x20extract\x20placement['+placement+_0x25dbe1(0x160)),_0x598396;const _0x110b17=parseInt(_0x29c32b[0x3],0xa),_0x57a7c7=parseInt(_0x29c32b[0x4],0xa),_0x172215=/^\d+$/[_0x25dbe1(0x1bd)](_0x29c32b[0x2])?parseInt(_0x29c32b[0x2],0xa):_0x29c32b[0x2],_0x233133=_0x29c32b[0x5]||![];placement={'hall':_0x29c32b[0x1]||'','rack':_0x172215,'shelf':_0x110b17,'position':_0x57a7c7,'upright':_0x233133};}const _0x2c033d={'placement':placement,'minerType':_0x2148cf,'ipAddress':_0x30a4cd,'macAddress':_0x4f455b,'serialNumber':_0xbb61ad,'psuSerialNumber':_0x5c1d50,'psuModel':_0x106089,'networkSwitchRef':_0x591259,'breakerPanelId':_0x38b03e,'powerBarId':_0x2a6362,'powerPhase':_0x113326,'transformerLow':_0x110a0f,'transformerMed':_0x28fced};_0x282b84['where'][_0x335c1a]=new RegExp(escapeRegex(_0x156a31),'i');let _0x598396=await _0x57ccf6[_0x25dbe1(0x248)](_0x282b84);!process[_0x25dbe1(0x263)]['UNSAFE_EDITS']&&delete _0x2c033d[_0x335c1a];const _0x359951=validateMinerUpsert({'minerInfo':_0x598396});if(_0x359951)return console[_0x25dbe1(0x2a6)](_0x25dbe1(0x1be),_0x359951,JSON[_0x25dbe1(0x1b4)](_0x598396)['substr'](0x0,0x64)),_0x598396;return console[_0x25dbe1(0x1a8)]({'logType':'edit'},'Editing\x20info\x20for\x20miner\x20\x20'+_0x598396[_0x25dbe1(0x252)]+_0x25dbe1(0x261)+_0x598396['ipAddress']),_0x598396=Object[_0x25dbe1(0x1c6)](_0x598396,_0x2c033d),_0x598396=await _0x57ccf6['upsert'](_0x598396)[_0x25dbe1(0x2c2)](_0x3c4bf6=>{const _0x3e94dc=_0x25dbe1;console[_0x3e94dc(0x1a6)](_0x3e94dc(0x2dd),_0x598396,_0x3c4bf6);}),_0x598396;}async function createMinerInfo({minerInfo:_0x2be77b,placement:_0x410bba,minerIndex:_0x47655d,accountName:_0x490729,minerTyped:_0x2f49e8}){const _0x45cec1=_0x1e1f7a,_0x1a3642=loopback['getModel'](_0x45cec1(0x1df)),{name:_0x41e89f,code:_0x24bfb9}=_0x2f49e8,{ipAddress:_0x31dc7e,workerName:_0x32c3f6}=_0x2be77b,_0x345e02={'timestamp':new Date(),'accountName':_0x490729},_0x16d365={'minerIndex':_0x47655d,'code':_0x24bfb9,'name':_0x41e89f,..._0x2be77b,'placement':_0x410bba};return _0x490729&&(_0x2be77b['accountName']=_0x490729),!_0x16d365[_0x45cec1(0x1d5)]&&(_0x16d365[_0x45cec1(0x1d5)]=ipToMacAddress(_0x31dc7e)),_0x490729&&(_0x16d365[_0x45cec1(0x2a9)]={'initial':_0x345e02,'latest':_0x345e02,'history':[_0x345e02]}),console['debug']({'logType':_0x45cec1(0x1f9)},_0x45cec1(0x2df)+_0x32c3f6+_0x45cec1(0x261)+_0x31dc7e),_0x1a3642[_0x45cec1(0x1f9)]([_0x16d365])[_0x45cec1(0x178)](_0xdffb49=>{return _0xdffb49?_0xdffb49[0x0]:null;})[_0x45cec1(0x2c2)](_0x2bf0f3=>{const _0x490138=_0x45cec1;console[_0x490138(0x16c)](_0x490138(0x274)+_0x32c3f6+',\x20\x20'+_0x31dc7e);throw _0x2bf0f3;});}let reWorker=null;const indexPad=_0x1e1f7a(0x158);function getUniqueWorkerName(_0x240ca4,_0x1e0565){const _0x4a930c=_0x1e1f7a;!reWorker&&(reWorker=new RegExp('\x5cW(\x5cw+)'+_0x1e0565[_0x4a930c(0x1de)]+_0x4a930c(0x148)+indexPad[_0x4a930c(0x25f)]+'})(?:\x5cW|$)','i'));const {workerName:_0x10e943,macAddress:_0x26f531}=_0x240ca4;let _0x1554b5=uniqWorker[_0x4a930c(0x256)][_0x10e943],_0x241ec5=reWorker[_0x4a930c(0x1bd)](_0x10e943);return(!_0x241ec5||_0x1554b5!==_0x26f531)&&(_0x10e943=(indexPad+ ++uniqWorker[_0x4a930c(0x23e)])[_0x4a930c(0x16e)](indexPad[_0x4a930c(0x25f)])),uniqWorker[_0x4a930c(0x256)][_0x10e943]=_0x26f531,_0x10e943;}async function getMinerInfo({macAddress:_0x49d620,accountName:_0x48b7ef,workerName:_0x35011a,ipAddress:_0x5689a8}){const _0x44d50e=_0x1e1f7a;let _0x4e2a11;if(_0x49d620)_0x5689a8&&isGeneratedMacAddress(_0x49d620)?_0x4e2a11={'or':[{'ipAddress':_0x5689a8},{'macAddress':_0x49d620}]}:_0x4e2a11={'macAddress':_0x49d620};else{if(_0x5689a8)_0x4e2a11={'ipAddress':_0x5689a8};else{if(_0x48b7ef&&_0x35011a)_0x4e2a11={'accountName':{'like':new RegExp('^'+_0x48b7ef+'$','i')},'workerName':{'like':new RegExp(_0x35011a,'i')}};else return null;}}const _0x172145=loopback[_0x44d50e(0x194)]('minerInfo');return console['debug'](arguments[0x0],'MinerInfo\x20lookup',_0x49d620,_0x48b7ef,_0x35011a,_0x4e2a11),_0x172145['find']({'where':_0x4e2a11})['then'](async _0x29bad0=>{const _0x5b2918=_0x44d50e;if(_0x29bad0[_0x5b2918(0x25f)]===0x1)return _0x29bad0[0x0];if(_0x29bad0[_0x5b2918(0x25f)]>0x1)return await mergeMinerInfos(_0x29bad0,{'macAddress':_0x49d620,'accountName':_0x48b7ef,'workerName':_0x35011a,'ipAddress':_0x5689a8});if(_0x49d620&&_0x5689a8&&_0x48b7ef&&_0x35011a)return _0x4e2a11={'ipAddress':_0x5689a8,'accountName':{'like':new RegExp('^'+_0x48b7ef+'$','i')},'workerName':{'like':new RegExp('^'+_0x35011a+'$','i')}},_0x172145['find']({'where':_0x4e2a11})[_0x5b2918(0x178)](async _0x25c847=>{if(_0x25c847['length']>0x1)return await mergeMinerInfos(_0x25c847,{'accountName':_0x48b7ef,'workerName':_0x35011a,'ipAddress':_0x5689a8});return _0x25c847[0x0]||null;});});}async function mergeMinerInfos(_0x539b9c,{macAddress:_0x21884c,accountName:_0x5c9abb,workerName:_0x251ab6,ipAddress:_0x475d65}){const _0x50687f=_0x1e1f7a,_0x4f080c=loopback[_0x50687f(0x194)]('minerInfo');let _0x5e9535,_0x592f7b=[];return _0x539b9c[_0x50687f(0x1f2)](_0x130b40=>{const _0x498fd1=_0x50687f;!_0x5e9535&&_0x21884c&&_0x21884c['toLowerCase']()==_0x130b40[_0x498fd1(0x1d5)][_0x498fd1(0x20d)]()?_0x5e9535=_0x130b40:_0x592f7b[_0x498fd1(0x26b)](_0x130b40);}),!_0x5e9535&&(_0x5e9535=_0x592f7b['shift']()),_0x592f7b[_0x50687f(0x1f2)](_0x52987b=>{const _0x531efd=_0x50687f;_0x4f080c[_0x531efd(0x24e)](_0x52987b['id']);}),_0x5e9535;}function getApiUrl(_0x534ca6=null,_0x559d4a,_0x4ba698){const _0x3b6ca9=_0x1e1f7a;if(_0x534ca6===null)throw new Error('Miner\x20IP\x20address\x20cannot\x20be\x20null.');if(!_0x559d4a)throw new Error(_0x3b6ca9(0x243));const _0x1ab4d3=minerApis[(_0x559d4a||'')[_0x3b6ca9(0x20d)]()];if(!_0x1ab4d3)throw new Error(_0x3b6ca9(0x22c)+_0x534ca6+_0x3b6ca9(0x1d0)+_0x559d4a+_0x3b6ca9(0x20e));var {routes:_0x5bc897,protocol:protocol=_0x3b6ca9(0x245)}=_0x1ab4d3;if(!_0x5bc897[_0x4ba698])return null;var _0x25ed37={..._0x5bc897[_0x4ba698]};if(!_0x25ed37[_0x3b6ca9(0x1a3)])return _0x25ed37;return _0x25ed37[_0x3b6ca9(0x1a3)]=protocol+'://'+_0x534ca6+_0x25ed37[_0x3b6ca9(0x1a3)],_0x25ed37;}async function createRequestOptions({uri:_0x234873,minerTyped:_0x132d24,apiVersion:_0x1edd5e,maxSockets:_0x3c9403,timeout:_0x2c5ce0,headers:headers={},body:_0x3d41db,form:_0x1ff9d3,followRedirect:followRedirect=![]}){const _0x4df134=_0x1e1f7a,_0x21a9ef=(_0x1edd5e||'')[_0x4df134(0x20d)](),_0x121444=minerApis[_0x21a9ef],_0x5f05c1=_0x121444[_0x4df134(0x1a0)][_0x4df134(0x2d6)],{user:_0x1b08e1,password:_0x1921dc}=_0x121444;let _0x336043={'uri':_0x234873[_0x4df134(0x1a3)][_0x4df134(0x2de)](_0x4df134(0x29b),Math['random']()[_0x4df134(0x18f)]()[_0x4df134(0x218)](0x8)),'method':_0x234873['method'],'rejectUnauthorized':![],'headers':Object[_0x4df134(0x1ed)](headers)[_0x4df134(0x25f)]?headers:{..._0x234873[_0x4df134(0x1ce)]}||{}};if(_0x234873[_0x4df134(0x1c8)]||_0x234873[_0x4df134(0x234)])_0x336043[_0x4df134(0x1ae)]={'user':_0x1b08e1,'pass':_0x1921dc,'sendImmediately':!_0x234873[_0x4df134(0x234)],'digestOptions':_0x234873[_0x4df134(0x1e4)]||{'basic':![]}},headers&&(_0x336043[_0x4df134(0x1ce)]=headers);else{if(_0x5f05c1){let _0x5ea3c1='';if(!(_0x336043[_0x4df134(0x1ce)]['Cookie']||_0x336043[_0x4df134(0x1ce)][_0x4df134(0x296)])){const _0x369a5c={'form':_0x5f05c1[_0x4df134(0x29e)],'method':_0x5f05c1[_0x4df134(0x211)],'headers':_0x5f05c1['headers'],'rejectUnauthorized':![],'uri':_0x234873[_0x4df134(0x1a3)]['match'](/(https?:\/\/[^\/]+)\//)[0x1]+_0x5f05c1['url']},{headers:_0x208c93,body:body={},statusCode:_0x17cf46}=await formPost(_0x369a5c);if(/^\s*[45]/[_0x4df134(0x1bd)](_0x17cf46)){let _0x21c103=_0x4df134(0x1d1)+_0x369a5c['uri']+'.\x20apiVersion:'+_0x1edd5e;return console[_0x4df134(0x2a6)](_0x21c103,_0x369a5c),_0x336043;}_0x208c93[_0x4df134(0x283)]&&(_0x336043[_0x4df134(0x1ce)][_0x4df134(0x2bd)]=_0x208c93[_0x4df134(0x283)][_0x4df134(0x198)](';')[_0x4df134(0x2de)](/(;\s*path=.*?(?:;|$))/g,';')[_0x4df134(0x2de)](/;$/,'')),body[_0x4df134(0x2bc)]&&(_0x336043[_0x4df134(0x1ce)][_0x4df134(0x296)]=_0x4df134(0x23f)+body['jwt']),_0x5ea3c1=_0x208c93['location'];}if(followRedirect&&_0x5ea3c1){const _0x4a1331={..._0x336043};_0x4a1331[_0x4df134(0x2b7)]=_0x234873[_0x4df134(0x1a3)]['match'](/(https?:\/\/[^\/]+)\//)[0x1]+_0x5ea3c1,_0x4a1331[_0x4df134(0x211)]='GET';const _0x53aafa=await getHTML(_0x4a1331);_0x1ff9d3=buildStateSyncRequestBody({'html':_0x53aafa,'uri':_0x234873,'minerTyped':_0x132d24,'apiVersion':_0x1edd5e}),_0x336043[_0x4df134(0x1ce)]={..._0x234873[_0x4df134(0x1ce)],..._0x336043[_0x4df134(0x1ce)]};}}}/post/i['test'](_0x234873[_0x4df134(0x211)])?(_0x1ff9d3&&(_0x336043[_0x4df134(0x29e)]=_0x1ff9d3),_0x3d41db&&(_0x336043['body']=_0x3d41db)):delete _0x336043[_0x4df134(0x1ce)][_0x4df134(0x170)];if(_0x234873[_0x4df134(0x254)])_0x336043[_0x4df134(0x254)]=_0x2c5ce0;else _0x2c5ce0&&(_0x336043[_0x4df134(0x254)]=_0x2c5ce0);return _0x3c9403&&(_0x336043[_0x4df134(0x17d)]={'maxSockets':_0x3c9403}),_0x234873['noAuth']&&delete _0x336043['auth'],console[_0x4df134(0x1a8)]({'method':'createRequestOptions','uri':_0x234873,'apiVersion':_0x1edd5e},_0x4df134(0x143),_0x336043),_0x336043;}function getUpdateMinerSettingsUrl(_0x532512,_0xb0c56){const _0x1b068e=_0x1e1f7a;return getApiUrl(_0x532512,_0xb0c56,_0x1b068e(0x1e3));}function getMinerSettingsUrl(_0x537897,_0x50a811){const _0x21dad4=_0x1e1f7a;return getApiUrl(_0x537897,_0x50a811,_0x21dad4(0x22b));}function getNetworkSettingsUrl(_0x3f4617,_0x4821df){const _0x4ff9d6=_0x1e1f7a;return getApiUrl(_0x3f4617,_0x4821df,_0x4ff9d6(0x216));}function getNetworkDiagnosticsUrl(_0x470f61,_0x1af3eb){const _0x3ca704=_0x1e1f7a;return getApiUrl(_0x470f61,_0x1af3eb,_0x3ca704(0x1ea));}function getMinerStatusUrl(_0x4f3410,_0x45a579){const _0x213f9d=_0x1e1f7a;return getApiUrl(_0x4f3410,_0x45a579,_0x213f9d(0x219));}function getMinerLoginUrl(_0xa6e61b,_0x2ea36f){const _0xa9f4b7=_0x1e1f7a;return getApiUrl(_0xa6e61b,_0x2ea36f,_0xa9f4b7(0x2d6));}function getMinerSystemInfoUrl(_0x6fb58f,_0x5adec3){return getApiUrl(_0x6fb58f,_0x5adec3,'getMinerSystemInfo');}function getMinerRebootUrl(_0x1fe9a8,_0x1d4332){const _0x2f3526=_0x1e1f7a;return getApiUrl(_0x1fe9a8,_0x1d4332,_0x2f3526(0x2a7));}function getMinerResetUrl(_0x46ac89,_0x4cd6c4){const _0x4c4447=_0x1e1f7a;return getApiUrl(_0x46ac89,_0x4cd6c4,_0x4c4447(0x2cc));}function getPoolRestartUrl(_0x3a8960,_0x5be88a){const _0x567c96=_0x1e1f7a;return getApiUrl(_0x3a8960,_0x5be88a,_0x567c96(0x1e5));}function getMinerKillUrl(_0xe127,_0x2a9eee){const _0x325d84=_0x1e1f7a;return getApiUrl(_0xe127,_0x2a9eee,_0x325d84(0x1fa));}function getKernelLogsUrl(_0x2b0023,_0x238305){const _0x1fce54=_0x1e1f7a;return getApiUrl(_0x2b0023,_0x238305,_0x1fce54(0x18a));}function getMinerFirmwareUpdateUrl(_0x7840c,_0x173c62){const _0x3fbe59=_0x1e1f7a;return getApiUrl(_0x7840c,_0x173c62,_0x3fbe59(0x15e));}function getEnableSSHUrl(_0x1ef0b6,_0x1dc134){const _0x30a8a0=_0x1e1f7a;return getApiUrl(_0x1ef0b6,_0x1dc134,_0x30a8a0(0x14d));}function getMinerLandingPageUrl(_0x5060eb=null,_0x3eb766){const _0x2d5f4b=_0x1e1f7a;if(_0x5060eb===null)throw new Error(_0x2d5f4b(0x282));var _0x28f14c={...minerApis[(_0x3eb766||'')['toLowerCase']()][_0x2d5f4b(0x1a0)]['minerLandingPage']}||{'method':_0x2d5f4b(0x1cb),'url':''};return _0x28f14c[_0x2d5f4b(0x1a3)]='http://'+_0x5060eb+_0x28f14c[_0x2d5f4b(0x1a3)],_0x28f14c;}async function getMinerSystemInfo({ipAddress:ipAddress=null,minerTyped:_0x87860b,apiVersion:_0x40b42d,maxSockets:_0x76e4ae,timeout:timeout=0x1f40},_0x3d406b){const _0x4e226d=_0x1e1f7a;_0x40b42d=_0x40b42d||(_0x3d406b||{})['apiVersion']||deriveApiVersion({'minerTyped':_0x87860b});let _0x573508=_0x3d406b||(!isCommandAvailable(_0x40b42d,'version')?null:await getVersionInfo(ipAddress)[_0x4e226d(0x2c2)](_0x58cce5=>{const _0x438c22=_0x4e226d;return console[_0x438c22(0x1a8)]('[getMinerSystemInfo]\x20ignoring\x20cgminer\x20version\x20command\x20error\x20for:\x20'+ipAddress,_0x58cce5),null;})),_0x3ba866=null;_0x573508&&!/unavailable/i[_0x4e226d(0x1bd)](_0x3d406b)&&(_0x3ba866=completeMinerVersion(_0x573508),_0x40b42d=_0x3ba866['apiVersion']);!_0x87860b&&_0x3ba866&&(_0x87860b=getMinerTypeMap(_0x3ba866)||null);const _0x2c55be=getMinerSystemInfoUrl(ipAddress,_0x40b42d);let _0x548f9b;console[_0x4e226d(0x1a8)]({'ipAddress':ipAddress,'minerTyped':_0x87860b,'apiVersion':_0x40b42d},_0x4e226d(0x1c1),_0x548f9b);let _0x3a9ac6={},_0x2f14f4;if(_0x2c55be[_0x4e226d(0x1a3)]){_0x2f14f4=await createRequestOptions({'uri':_0x2c55be,'minerTyped':_0x87860b,'apiVersion':_0x40b42d,'maxSockets':_0x76e4ae,'timeout':timeout}),_0x3a9ac6=await getJSON(_0x2f14f4);let _0x35d6ab=_0x3a9ac6[_0x4e226d(0x1d4)]==0x1f4||/(TIMEDOUT|UNREACH)/i['test'](_0x3a9ac6[_0x4e226d(0x20f)])||_0x3a9ac6[_0x4e226d(0x1d4)]&&_0x3ba866;if(!_0x35d6ab&&_0x3a9ac6['statusCode'])throw _0x3a9ac6;if(!_0x35d6ab){if(_0x3a9ac6[_0x4e226d(0x20f)]){let _0x337645=null;if(/certificate has expired/i['test'](_0x3a9ac6[_0x4e226d(0x20f)])&&!/whatsminer/i[_0x4e226d(0x1bd)](_0x40b42d))_0x337645=config['minerTypeMap']['Whatsminer\x20M20S'];else{if(/invalid request/i[_0x4e226d(0x1bd)](_0x3a9ac6[_0x4e226d(0x20f)])){if(!/innosilicon/i['test'](_0x40b42d))_0x337645=config[_0x4e226d(0x2cf)][_0x4e226d(0x2bb)];else!/whatsminer/i[_0x4e226d(0x1bd)](_0x40b42d)&&(_0x337645=config[_0x4e226d(0x2cf)][_0x4e226d(0x1e6)]);}}if(_0x337645){const _0x5863f4=await getMinerSystemInfo({'ipAddress':ipAddress,'minerTyped':_0x337645,'apiVersion':_0x337645['apiVersion']||_0x337645[_0x4e226d(0x209)],'maxSockets':_0x76e4ae},_0x3d406b);return _0x5863f4;}}else _0x548f9b=parseMinerSystemInfo(_0x3a9ac6,_0x40b42d);}}if(_0x3ba866){if(!_0x548f9b){const _0x396702=_0x87860b&&_0x87860b[_0x4e226d(0x1bb)]?_0x87860b[_0x4e226d(0x209)]+'\x20'+_0x87860b[_0x4e226d(0x14c)]:'';_0x548f9b={'minerType':_0x396702,'ipAddress':ipAddress,..._0x3ba866};}else Object[_0x4e226d(0x1ed)]({..._0x548f9b,..._0x3ba866})['map'](_0x401c4c=>{_0x548f9b[_0x401c4c]=_0x548f9b[_0x401c4c]||_0x3ba866[_0x401c4c];});}if(!_0x548f9b){!_0x3a9ac6[_0x4e226d(0x20f)]&&(_0x3a9ac6['message']=_0x4e226d(0x182));throw new Error(_0x3a9ac6);}return console[_0x4e226d(0x1a8)]({'ipAddress':ipAddress,'minerTyped':_0x87860b,'apiVersion':_0x40b42d},_0x4e226d(0x2a4),_0x2f14f4,_0x548f9b),_0x548f9b;}function isCommandAvailable(_0x371d95,_0x34c652){const _0x8c34b9=_0x1e1f7a;var {cgminerCommands:_0x404f27}=minerApis[(_0x371d95||'')[_0x8c34b9(0x20d)]()]||{};return _0x404f27?_0x404f27[_0x8c34b9(0x2ce)](_0x34c652)>=0x0:!![];}async function getRemotesPools(_0x5d1eed,_0x20d02f,_0x14573e){const _0x5eb16c=_0x1e1f7a,{ipAddress:_0x17d3d1,macAddress:_0x42735d}=_0x5d1eed;let _0x4b79e3=[];_0x14573e=_0x14573e||deriveApiVersion({'minerInfo':_0x5d1eed,'minerTyped':_0x20d02f});const _0x5f073f=isCommandAvailable(_0x14573e,'pools');if(_0x5f073f){const _0x1eca3e=await sendCommand(_0x17d3d1,_0x5eb16c(0x1a2))[_0x5eb16c(0x2c2)](_0x42f77a=>{const _0x1e78ef=_0x5eb16c;return console[_0x1e78ef(0x2a6)](_0x1e78ef(0x2c3)+_0x17d3d1+'\x20['+_0x42735d+']',_0x42f77a),[];});_0x1eca3e['forEach'](_0x5d2f1b=>{const _0x33dc59=_0x5eb16c,{User:_0x464fad,URL:_0x16ed7f}=_0x5d2f1b;_0x4b79e3[_0x33dc59(0x26b)]({'user':_0x464fad,'url':_0x16ed7f});});if(_0x4b79e3[_0x5eb16c(0x25f)])return console[_0x5eb16c(0x1a8)](_0x5eb16c(0x202),_0x17d3d1,_0x4b79e3),{'pools':_0x4b79e3};}const _0x177842=await getMinerSettings(_0x17d3d1,_0x20d02f,_0x14573e);return _0x177842?.[_0x5eb16c(0x1a2)]?.[_0x5eb16c(0x25f)]&&console['debug'](_0x5eb16c(0x18e),_0x17d3d1,_0x4b79e3),_0x177842||{'pools':_0x4b79e3};}async function getSummaryAndPools(_0x4c2872,_0x210cca){const _0x287b3c=_0x1e1f7a,_0x544966=['summary','pools',_0x287b3c(0x2d8),'stats'];return await getAllMinerStateByCommands(_0x4c2872,_0x544966,_0x210cca);}async function getAllMinerStateByCommands(_0x4055f3,_0x35b21b,_0x50b5fd){const _0xd602d3=_0x1e1f7a,_0x47fbb4={};/all/i[_0xd602d3(0x1bd)](_0x35b21b)&&(_0x35b21b=['summary',_0xd602d3(0x1a2),_0xd602d3(0x2d8),'stats',_0xd602d3(0x150),_0xd602d3(0x2ae),_0xd602d3(0x153)]);for(const _0x5c55f8 of _0x35b21b){_0x47fbb4[_0x5c55f8]=await sendCommand(_0x4055f3,_0x5c55f8)[_0xd602d3(0x2c2)](_0x27ceba=>{const _0x31f237=_0xd602d3,_0x570666=_0x5c55f8+_0x31f237(0x28a)+_0x4055f3;return console[_0x31f237(0x2a6)](_0x570666,_0x27ceba),{'message':_0x570666,'err':inspect(_0x27ceba,![],0x5,!![])};});}const {version:_0xcff43f,summary:_0x47c18f,pools:_0x2debea}=_0x47fbb4;return console[_0xd602d3(0x1a8)]({'ipAddress':_0x4055f3},_0xd602d3(0x222)+_0x4055f3,_0xcff43f,_0x47c18f,_0x2debea),_0x47fbb4;}async function getMinerStatus({ipAddress:ipAddress=null,minerTyped:_0x16a584,apiVersion:_0x45e705,maxSockets:_0x5e13db}){const _0x235a9a=_0x1e1f7a;if(!_0x16a584&&!_0x45e705)throw new Error('Miner\x20type\x20is\x20a\x20required\x20property\x20for\x20getMinerStatus\x20method.');_0x45e705=_0x45e705||deriveApiVersion({'minerTyped':_0x16a584});const _0x4598a5=getMinerStatusUrl(ipAddress,_0x45e705)||{};let _0x2a2d41=_0x4598a5['url']?{}:await getSummaryAndPools(ipAddress,_0x45e705)||{},_0x14d0fe=null;if(_0x4598a5[_0x235a9a(0x1a3)]&&!_0x2a2d41[_0x235a9a(0x176)]){_0x14d0fe=await createRequestOptions({'uri':_0x4598a5,'minerTyped':_0x16a584,'apiVersion':_0x45e705,'maxSockets':_0x5e13db}),_0x2a2d41=await getJSON(_0x14d0fe);if(_0x2a2d41[_0x235a9a(0x1d4)]==0x1f4||/(TIMEDOUT|UNREACH)/i[_0x235a9a(0x1bd)](_0x2a2d41[_0x235a9a(0x20f)]))_0x2a2d41=null;else{if(_0x2a2d41[_0x235a9a(0x1d4)]||_0x2a2d41[_0x235a9a(0x284)])throw _0x2a2d41;}let _0x3d719f=_0x2a2d41[_0x235a9a(0x1a2)]?_0x235a9a(0x1a2):_0x235a9a(0x1f1);if(!_0x2a2d41[_0x3d719f]||!_0x2a2d41[_0x3d719f][_0x235a9a(0x25f)]){const _0x375b66=await getRemotesPools({'ipAddress':ipAddress},_0x16a584);!_0x375b66?.[_0x235a9a(0x25f)]&&(_0x2a2d41[_0x3d719f]=_0x375b66);}}let _0x20c4be=null;return _0x2a2d41&&(_0x20c4be=await parseMinerStatus({'minerStatus':_0x2a2d41,'minerTyped':_0x16a584,'apiVersion':_0x45e705})),console['info'](_0x235a9a(0x2e1),ipAddress,_0x45e705,_0x16a584[_0x235a9a(0x209)]),console[_0x235a9a(0x1a8)]({'ipAddress':ipAddress,'minerTyped':_0x16a584,'apiVersion':_0x45e705},_0x235a9a(0x17c),_0x14d0fe,_0x45e705,_0x16a584,_0x20c4be),_0x20c4be;}async function getMinerSettings(_0x4d1b4c=null,_0x160178,_0x587a96,_0x26fb48){const _0x367866=_0x1e1f7a;if(!_0x160178&&!_0x587a96)throw new Error(_0x367866(0x13f)+_0x4d1b4c+_0x367866(0x1c7),_0x160178);_0x587a96=_0x587a96||deriveApiVersion({'minerTyped':_0x160178});const _0x4e1f05=getMinerSettingsUrl(_0x4d1b4c,_0x587a96)||{},_0x3d0df5=await createRequestOptions({'uri':_0x4e1f05,'minerTyped':_0x160178,'apiVersion':_0x587a96,'maxSockets':_0x26fb48});let _0x43cf0d=await getJSON(_0x3d0df5);if(_0x43cf0d[_0x367866(0x1d4)]==0x1f4||/(TIMEDOUT|UNREACH)/i[_0x367866(0x1bd)](_0x43cf0d[_0x367866(0x20f)]))_0x43cf0d=null;else{if(_0x43cf0d[_0x367866(0x1d4)])throw _0x43cf0d;}let _0x1bd499=null;return _0x43cf0d&&(_0x1bd499=await parseMinerSettings(_0x43cf0d,_0x160178,_0x587a96)),console['info']('Miner\x20settings\x20request\x20ip\x20address:',_0x4d1b4c,_0x587a96,_0x160178['brand']),console[_0x367866(0x1a8)]({'ipAddress':_0x4d1b4c,'minerTyped':_0x160178,'apiVersion':_0x587a96},_0x367866(0x17c),_0x3d0df5,_0x587a96,_0x160178,_0x1bd499),_0x1bd499;}async function getMinerReboot(_0x28d6b3,_0x7c1c16,_0x3d7bbe,_0x64ae46,_0x405ffd){const _0x5845fe=_0x1e1f7a;if(!_0x7c1c16&&!_0x3d7bbe)throw new Error(_0x5845fe(0x212));const {ipAddress:_0x4acf54,macAddress:macAddress=''}=_0x28d6b3;_0x3d7bbe=_0x3d7bbe||deriveApiVersion({'minerInfo':_0x28d6b3,'minerTyped':_0x7c1c16});const _0x23087c=getMinerRebootUrl(_0x4acf54,_0x3d7bbe)||{};if(!_0x23087c[_0x5845fe(0x1a3)])return null;const _0x57eb59=!![],_0x67b39f=await createRequestOptions({'uri':_0x23087c,'minerTyped':_0x7c1c16,'apiVersion':_0x3d7bbe,'maxSockets':_0x405ffd,'followRedirect':_0x57eb59});let _0x54da4c=await getJSON(_0x67b39f);if(_0x54da4c[_0x5845fe(0x1d4)]==0x1f4||/(TIMEDOUT|UNREACH)/i[_0x5845fe(0x1bd)](_0x54da4c['message']))_0x54da4c=null;else{if(_0x54da4c['statusCode'])throw _0x54da4c;}return console[_0x5845fe(0x1f0)](_0x5845fe(0x183)+_0x28d6b3[_0x5845fe(0x252)]+'\x20['+_0x4acf54+',\x20'+macAddress+_0x5845fe(0x14a),_0x54da4c),_0x54da4c;}async function getMinerReset(_0x5061e9,_0x4dacbb,_0x4337ba,_0x395f7b){const _0x5e3652=_0x1e1f7a;if(!_0x4dacbb&&!_0x4337ba)throw new Error('Miner\x20type\x20is\x20a\x20required\x20property\x20for\x20getMinerReset\x20method.');const {ipAddress:ipAddress=null,macAddress:macAddress=''}=_0x5061e9;_0x4337ba=_0x4337ba||deriveApiVersion({'minerInfo':_0x5061e9,'minerTyped':_0x4dacbb});const _0xadefa=getMinerResetUrl(ipAddress,_0x4337ba)||{};if(!_0xadefa[_0x5e3652(0x1a3)])return null;const _0x3ff21f=await createRequestOptions({'uri':_0xadefa,'minerTyped':_0x4dacbb,'apiVersion':_0x4337ba,'maxSockets':_0x395f7b});let _0x1af350=await getJSON(_0x3ff21f);if(_0x1af350[_0x5e3652(0x1d4)]==0x1f4||/(TIMEDOUT|UNREACH)/i[_0x5e3652(0x1bd)](_0x1af350['message']))_0x1af350=null;else{if(_0x1af350['statusCode'])throw _0x1af350;}return console[_0x5e3652(0x1f0)](_0x5e3652(0x1b1)+ipAddress),console[_0x5e3652(0x1a8)](_0x5e3652(0x1ba)+_0x5061e9[_0x5e3652(0x252)]+'\x20['+ipAddress+',\x20'+macAddress+_0x5e3652(0x225)+_0x1af350),_0x1af350;}async function getMinerKill(_0x57b039,_0x219731,_0x2bb155,_0x405175){const _0x354d2d=_0x1e1f7a;if(!_0x219731&&!_0x2bb155)throw new Error(_0x354d2d(0x190));const {ipAddress:ipAddress=null,macAddress:macAddress=''}=_0x57b039;_0x2bb155=_0x2bb155||deriveApiVersion({'minerInfo':_0x57b039,'minerTyped':_0x219731});const _0x512ef1=getMinerKillUrl(ipAddress,_0x2bb155)||{};if(!_0x512ef1[_0x354d2d(0x1a3)])return null;const _0x4ef8ce={'Content-Type':'text/plain'},_0xfdd949=await createRequestOptions({'uri':_0x512ef1,'minerTyped':_0x219731,'apiVersion':_0x2bb155,'maxSockets':_0x405175,'headers':_0x4ef8ce}),_0x277354=await getHTML(_0xfdd949)[_0x354d2d(0x2c2)](_0x6e0008=>{const _0x365c30=_0x354d2d;if(_0x6e0008[_0x365c30(0x1d4)]===0x1f4)return!![];else throw _0x6e0008;});return console[_0x354d2d(0x1a8)](_0x354d2d(0x1e2)+_0x57b039['workerName']+'\x20['+ipAddress+',\x20'+macAddress+_0x354d2d(0x225)+_0x277354),_0x277354;}async function getKernelLogs({minerInfo:_0x3e4c61,minerTyped:minerTyped={},apiVersion:_0x14692f,maxSockets:_0x106735,filepath:_0x5d2ccf}){const _0x5cabab=_0x1e1f7a,{ipAddress:ipAddress=null}=_0x3e4c61;_0x14692f=_0x14692f||deriveApiVersion({'minerInfo':_0x3e4c61,'minerTyped':minerTyped});const _0x1ba0de=getKernelLogsUrl(ipAddress,_0x14692f)||{};if(!_0x1ba0de['url'])return null;const _0x2fb614={},_0x3d9cf8=await createRequestOptions({'uri':_0x1ba0de,'minerTyped':minerTyped,'apiVersion':_0x14692f,'maxSockets':_0x106735,'headers':_0x2fb614}),_0x158148=await getHTML(_0x3d9cf8)[_0x5cabab(0x2c2)](_0x3d2133=>{const _0x391686=_0x5cabab;return console['warn'](_0x391686(0x1d8),_0x3d2133),'';});let _0x5b9277=null;return _0x158148&&(_0x158148[_0x5cabab(0x20f)]?(console[_0x5cabab(0x1a6)](_0x3e4c61,_0x158148),_0x5b9277=''):(console['debug'](_0x5cabab(0x289)+ipAddress+',\x20'+_0x14692f+_0x5cabab(0x2a3)+(_0x5d2ccf||_0x5cabab(0x24f))+'.'),_0x5d2ccf&&await writeFile(_0x5d2ccf,_0x158148)['catch'](_0x176a2e=>console[_0x5cabab(0x1a6)](_0x176a2e)),_0x5b9277=parseKernelLogs(_0x158148,_0x14692f,_0x1ba0de['docType']))),console[_0x5cabab(0x1a8)]('Kernel\x20logs\x20requests\x20',_0x3d9cf8,_0x5b9277),_0x5b9277;}async function updateMinerSettings({minerInfo:_0x2076b9,minerTyped:_0x3a2a71,pools:_0x1896f1,minerConfigOptions:_0x17d7a4,apiVersion:_0x5010eb}){const _0x411984=_0x1e1f7a;let _0x164507=[..._0x1896f1];_0x1896f1[0x0]['url']&&(_0x164507=_[_0x411984(0x23b)](_0x1896f1,(_0x1efe1b,_0x248552)=>{const _0x55652b=_0x411984;return{'index':_0x248552+0x1,'stratum':_0x1efe1b[_0x55652b(0x1a3)],'username':_0x1efe1b['user'],'password':'x'};}));const {ipAddress:_0x3d38a0}=_0x2076b9;_0x5010eb=(_0x5010eb||deriveApiVersion({'minerInfo':_0x2076b9,'minerTyped':_0x3a2a71}))[_0x411984(0x20d)]();const _0x228e6a=minerApis[_0x5010eb];let _0x2c2cb3=getUpdateMinerSettingsUrl(_0x3d38a0,_0x5010eb)||{};const _0x5249d3=isCommandAvailable(_0x5010eb,_0x411984(0x1a2));if(!_0x2c2cb3[_0x411984(0x1a3)]){if(!_0x5249d3){let _0xf16557='[miner-settings]\x20Unable\x20to\x20update\x20pools\x20for,\x20'+_0x3d38a0+'.\x20apiVersion:'+_0x5010eb+'.\x20cgminer\x20\x22pools\x22\x20command\x20not\x20supported\x20nor\x20URI\x20in\x20config.';return console['error'](_0xf16557),null;}const _0x9471f2=await sendCommand(_0x3d38a0,_0x411984(0x1a2)),_0x6f0a8d={'remove':[],'add':[]};for(let _0x5034ef of _0x164507){const _0x4a123a=_0x5034ef[_0x411984(0x299)]+','+(_0x5034ef[_0x411984(0x155)]||_0x411984(0x2cd))+','+(_0x5034ef[_0x411984(0x226)]||'x'),_0x43f14a=await sendCommand(_0x3d38a0,_0x411984(0x236),_0x4a123a);_0x6f0a8d['add']['push'](_0x43f14a);}const _0x39aaac=_0x9471f2[_0x9471f2[_0x411984(0x25f)]-0x1][_0x411984(0x204)]+0x1,_0x98c8c0=await sendCommand(_0x3d38a0,_0x411984(0x1ad),_0x39aaac);for(let _0x2e2435 of _0x9471f2){const _0x213dc8=await sendCommand(_0x3d38a0,_0x411984(0x29d),_0x2e2435['POOL']);_0x6f0a8d[_0x411984(0x1c2)][_0x411984(0x26b)](_0x213dc8);}return await sendCommand(_0x3d38a0,'restart'),_0x6f0a8d;}let _0x5851a9={};const _0x1b94c9=_0x228e6a[_0x411984(0x1a0)][_0x411984(0x2d6)];let _0x579c3f='';if(_0x1b94c9&&_0x1b94c9['url']){const _0x14c25b=await createRequestOptions({'uri':_0x2c2cb3,'minerTyped':_0x3a2a71,'apiVersion':_0x5010eb,'headers':_0x5851a9});_0x14c25b[_0x411984(0x1ce)]&&(_0x5851a9[_0x411984(0x2bd)]=_0x14c25b[_0x411984(0x1ce)][_0x411984(0x2bd)]);_0x14c25b[_0x411984(0x211)]=_0x411984(0x1cb),_0x579c3f=await getHTML({..._0x14c25b});if(_0x579c3f[_0x411984(0x1a6)])return inspect(_0x579c3f,![],0x5,!![]);}!_0x579c3f&&console[_0x411984(0x27a)]('Not\x20getting\x20miner\x20settings\x20html',_0x2076b9,_0x3a2a71,_0x1896f1,_0x17d7a4,_0x5010eb);const _0x170737=buildSetMinerSettingsRequestBody({'pools':_0x164507,'minerConfigOptions':_0x17d7a4,'html':_0x579c3f,'apiVersion':_0x5010eb,'minerTyped':_0x3a2a71,'uri':_0x2c2cb3}),{headers:_0x3054fd={}}=_0x228e6a['routes']['setMinerSettings'];_0x5851a9={..._0x5851a9,..._0x3054fd},_0x5851a9[_0x411984(0x170)]=_0x5851a9[_0x411984(0x170)]||_0x411984(0x18d);const _0x527a0c=await createRequestOptions({'uri':_0x2c2cb3,'minerTyped':_0x3a2a71,'apiVersion':_0x5010eb,'headers':_0x5851a9,'form':_0x170737});let {body:_0x2b60e1}=await formPost({..._0x527a0c});console[_0x411984(0x1a8)]({'ipAddress':_0x3d38a0,'minerTyped':_0x3a2a71,'apiVersion':_0x5010eb},_0x411984(0x227),_0x527a0c,_0x2b60e1);if(/reboot/[_0x411984(0x1bd)](_0x2b60e1)||_0x228e6a['rebootOnUpdate']){const _0x50a860=await getMinerReboot(_0x2076b9,_0x3a2a71,_0x5010eb);_0x50a860?_0x2b60e1+=_0x50a860:await sendCommand(_0x3d38a0,_0x411984(0x208));}return _0x2b60e1;}async function updateMinerNetworkSettings({minerInfo:_0x425925,network:_0x2bb2e9,minerTyped:_0x628ab0,apiVersion:_0x8c7165}){const _0xd28234=_0x1e1f7a;_0x8c7165=_0x8c7165||deriveApiVersion({'minerInfo':_0x425925,'minerTyped':_0x628ab0});const _0x262629=getNetworkSettingsUrl(_0x425925[_0xd28234(0x277)],_0x8c7165)||{};if(!_0x262629[_0xd28234(0x1a3)])return null;const _0x41268b=buildSetNetworkSettingsRequestBody({'minerInfo':_0x425925,'network':_0x2bb2e9,'apiVersion':_0x8c7165,'minerTyped':_0x628ab0,'uri':_0x262629}),_0x4e2c0c={'Content-Type':_0xd28234(0x18d)},_0x253ba3=await createRequestOptions({'uri':_0x262629,'minerTyped':_0x628ab0,'apiVersion':_0x8c7165,'headers':_0x4e2c0c,'form':_0x41268b}),{body:_0x453246}=await formPost({..._0x253ba3});return console['debug'](_0xd28234(0x188),_0x253ba3,_0x453246),_0x453246;}async function retrieveMinerNetworkDiagnostics({minerInfo:_0x209540,diagnostic:_0x4f01c5,minerTyped:_0x5628fc,apiVersion:_0xde5c2f}){const _0x4b24be=_0x1e1f7a;_0xde5c2f=_0xde5c2f||deriveApiVersion({'minerInfo':_0x209540,'minerTyped':_0x5628fc});const _0x3d2d06=getNetworkDiagnosticsUrl(_0x209540[_0x4b24be(0x277)],_0xde5c2f)||{};if(!_0x3d2d06[_0x4b24be(0x1a3)])return null;const _0x2987eb=buildNetworkDiagnosticRequestBody({'diagnostic':_0x4f01c5,'apiVersion':_0xde5c2f,'minerTyped':_0x5628fc,'uri':_0x3d2d06}),_0x17ed66={'Content-Type':_0x4b24be(0x18d)},_0x3c6781=await createRequestOptions({'uri':_0x3d2d06,'minerTyped':_0x5628fc,'apiVersion':_0xde5c2f,'headers':_0x17ed66,'form':_0x2987eb}),{body:_0x144be6}=await formPost({..._0x3c6781});console['debug'](_0x4b24be(0x297),_0x3c6781,_0x144be6);let _0x3d2c0d=parseNetworkDiagnostic(_0x144be6);if(!_0x3d2c0d||!_0x3d2c0d['diagnosticResponse'])throw new Error(_0x3d2c0d);return{..._0x4f01c5,..._0x3d2c0d};}async function removeMinerUpgradeCheck({minerInfo:_0x4e7605,minerTyped:_0x4325aa,apiVersion:_0x34faf7,filenames:filenames=[_0x1e1f7a(0x29c),'upgrade_clear.cgi']}){const _0x425044=_0x1e1f7a,{ipAddress:_0x2d57f1}=_0x4e7605;_0x34faf7=(_0x34faf7||deriveApiVersion({'minerInfo':_0x4e7605,'minerTyped':_0x4325aa}))[_0x425044(0x20d)]();const _0x5b1a08=minerApis[_0x34faf7],_0x373898=new SSH({'host':_0x2d57f1,'user':_0x5b1a08[_0x425044(0x147)],'pass':_0x5b1a08['sshPassword']});return new Promise(function(_0x1b2ea3,_0x1d7dfc){const _0x3997d8=_0x425044,_0x572435={'out':console[_0x3997d8(0x1f0)][_0x3997d8(0x232)](console),'err':console[_0x3997d8(0x1a6)]['bind'](console),'exit':(_0x5b1e5a,_0x54cac6,_0x1ac6f7)=>{const _0x12d76b=_0x3997d8;_0x5b1e5a===0x1&&(console[_0x12d76b(0x2a6)](_0x12d76b(0x20a),_0x5b1e5a,_0x54cac6,_0x1ac6f7),_0x1d7dfc(_0x1ac6f7));}};_0x373898['exec']('rm\x20-rf\x20/tmp/mem;'),filenames[_0x3997d8(0x1f2)](_0x586c26=>{const _0x41ef17=_0x3997d8;_0x373898[_0x41ef17(0x1cd)](_0x41ef17(0x273)+_0x586c26,_0x572435);}),console[_0x3997d8(0x1f0)](_0x3997d8(0x144)+filenames[_0x3997d8(0x198)](',')+_0x3997d8(0x2db)+_0x2d57f1),_0x373898['on'](_0x3997d8(0x1a6),function(_0x382b0c){const _0x315251=_0x3997d8;var _0x39906d=_0x315251(0x181)+filenames[_0x315251(0x198)](',')+'\x20for\x20'+_0x2d57f1;console[_0x315251(0x1f0)](_0x39906d,_0x382b0c),_0x1d7dfc(_0x39906d);}),_0x373898['on'](_0x3997d8(0x258),function(){const _0x2bb375=_0x3997d8;_0x1b2ea3(_0x2bb375(0x197)+filenames[_0x2bb375(0x198)](',')+'\x20for\x20'+_0x2d57f1);}),_0x373898[_0x3997d8(0x281)]();});}async function enableFirmwareUpload({minerInfo:_0x56d63d,minerTyped:_0xc39f5e,apiVersion:_0x3015d7}){const _0x48bbad=_0x1e1f7a,_0x5c4a84=await updateEnableSSH({'minerInfo':_0x56d63d,'minerTyped':_0xc39f5e,'apiVersion':_0x3015d7});if(_0x5c4a84!==SSH_PORT_STATE[_0x48bbad(0x19c)])return _0x5c4a84;return removeMinerUpgradeCheck({'minerInfo':_0x56d63d,'minerTyped':_0xc39f5e,'apiVersion':_0x3015d7})['then'](()=>{const _0x48c1ce=_0x48bbad;return SSH_PORT_STATE[_0x48c1ce(0x19c)];})['catch'](_0x13923c=>{const _0x2a3af9=_0x48bbad;return console[_0x2a3af9(0x2a6)](_0x2a3af9(0x1bf),_0x13923c),SSH_PORT_STATE[_0x2a3af9(0x191)];});}function _0x5e37(){const _0x3a1459=['jwt','Cookie','\x0d\x0a\x0d\x0a','split','type','filter','catch','RPC\x20\x22pools\x22\x20command\x20failed\x20for\x20','latest','\x5cW(\x5cw*','24cbqOpU','simple-ssh','minertype','cardChipCount','1729610rbggTc','Post\x20scanning\x20failed:','resetMiner','knowlecules','indexOf','minerTypeMap','lodash','trim','Trend\x20clause','=([^,]+),','../config','accepted','getMinerLogin','./fetch','devs','modelType','wallet','\x20for\x20','GHS\x205s','Unable\x20to\x20edit\x20minerInfo\x20fields','replace','Creating\x20miner\x20','freqNamesRE','Miner\x20status\x20request\x20ip\x20address:','Miner\x20type\x20is\x20a\x20required\x20property\x20for\x20getMinerSettings\x20method\x20','_id','Device\x20Elapsed','values','createRequestOptions','Removing\x20signature\x20check\x20in\x20','hashRateAvg','SSH\x20enabled\x20for\x20','sshUser','(0\x5cd{','656GpcovZ',']\x20responded\x20with:','Firmware\x20updated\x20for\x20','name','enableSSH','freq','updateAll','version','keyBy','StuMiner','devdetails','hwver','username','Magenta','temp_chip','00000','Unparseable\x20card\x20data','return\x20`','parseMinerSettings.\x20Unknown\x20apiVersion:','AvalonMiner11','remotesPools','minerFirmwareUpdate','$group','].\x20Should\x20be\x203\x20or\x204\x20parts\x20delimited\x20by\x20period.\x20eg\x20\x22DataHall_1.Rack3.4.5.\x20Use\x20codes\x20to\x20help\x20rendering.\x20eg\x20\x22DH1.3.4.5','Unknown\x20API','reMatches','1106595mLFZNr','Content-Type:application/','Cannot\x20upsert\x20minerInfo:\x20validation\x20issues,','g19','upsert','Whatsminer','$dateToString','user','$1,','trace','writeFile','slice','50iuHaim','Content-Type','includes','format','minerSystemInfo','dev_accepted','mac','summary','Green','then','5MizqGw','\x5cw*)(?:\x5cW|$)','hashRate','Miner\x20status\x20requests\x20','pool','daily','date','chain','Removing\x20signature\x20check\x20failed\x20in\x20','Empty\x20response\x20from\x20server!','Reboot\x20','API\x20version\x20lookup\x20failed!\x20Key\x20not\x20found:','fan7','deployedOn','portscanner','Update\x20miner\x20network\x20settings\x20','fan3','getKernelLogs','Getworks','%Y-%m-%dT%H:%M:%S','application/x-www-form-urlencoded','Miner\x20pools\x20by\x20API\x20','toString','Miner\x20type\x20is\x20a\x20required\x20property\x20for\x20getMinerKill\x20method.','LOCKED','where','network','getModel','minerInfo\x20is\x20not\x20available!\x20Run\x20discovery\x20routine.','fan4','Signature\x20check\x20removed\x20in\x20','join','StrongU\x20parsing\x20miner\x20status\x20result','stratum+tcp://','Innosilicon','OPEN','158637yFwNfG','temp','User','routes','Firmware\x20update\x20unlock\x20failed.\x20Attempting\x20to\x20disable\x20signature\x20check\x20for\x20','pools','url','temp2','placement.position\x20ASC','error','Dragonming','debug','CLOSED','Antminer_updater','Dragonmint','%Y-%m-%dT%H:00','switchpool','auth','Whatsminer_CG',']\x20to\x20','Miner\x20reset:','Template\x20not\x20found:\x20','zzz_AvalonMiner','stringify','bitmain-voltage','3737764TwQUAj','Kill\x20firmware\x20failed\x20(trying\x20upgrade\x20anyway)\x20','html','chain_vol','Reset\x20','model','Antminer_X19','test','Cannot\x20edit\x20minerInfo:\x20validation\x20issues,','Unable\x20to\x20remove\x20firware\x20upload\x20lock:','Not\x20reading\x20logs!\x20minerInfo\x20is\x20not\x20available.','cgminer\x20version\x20command\x20response\x20','remove','data','0.0','$accountName','assign','.\x20MinerTyped:','insecure','dev_freq','Unknown\x20model','GET',',\x20{\x20\x22$limit\x22:\x20','exec','headers','=(\x5cd+),',']\x20apiversion\x20\x22','[createRequestOptions]\x20Login\x20attempt\x20failed\x20\x20for,\x20','volts','accountName','statusCode','macAddress','parse','SSH\x20NOT\x20enabled\x20for\x20','Kernel\x20logs\x20unavailable.','3Wpkifs','hall','from','$trends.','reduce','locationID','minerInfo','fan5','max','Kill\x20','setMinerSettings','digestOptions','restartPool','Whatsminer\x20M20S','updater','group','utf8','getNetworkDiagnostics','multipart/form-data;\x20boundary=','Kernel\x20log\x20error\x20parsed:\x20','keys','DEVS','SSH\x20enabling\x20error','log','POOLS','forEach','\x22:\x22','readFileSync','\x5cb(','path','FAILED','elapsed','create','killMiner','ZigMiner','fan1','Not\x20possible\x20using\x20pool\x20data\x20in\x20minerInfo\x20nor\x20cgminer\x20pools\x20command!','Firmware\x20update\x20failed\x20for\x20','cardIDs','remotePools','../../server/utilities/arpscan','Miner\x20pools\x20by\x20RPC\x20','dev_rejected','POOL','{\x22where\x22:\x20{},\x20\x22aggregate\x22:[\x0a\x20\x20\x20\x20{\x20\x22$unwind\x22:\x20\x22$trends.priorHours\x22},\x0a\x20\x20\x20\x20{\x20\x22$group\x22:\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x22_id\x22:\x20{\x22$concat\x22\x20:\x20[{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22$dateToString\x22:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22format\x22:\x20\x22%Y-%m-%dT%H\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22date\x22:\x20{\x22$add\x22:\x20[\x22\x22,\x20\x22$trends.priorHours.x\x22]}\x20}},\x22_\x22]},\x0a\x20\x20\x20\x20\x20\x20\x22ts\x22:\x20{\x22$first\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20{\x22$dateToString\x22:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22format\x22:\x20\x22%Y-%m-%dT%H\x22,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22date\x22:\x20{\x22$add\x22:\x20[\x22\x22,\x20\x22$trends.priorHours.x\x22]}}}},\x0a\x20\x20\x20\x20\x20\x20\x22hashRateAll\x22:\x20{\x20\x22$sum\x22:\x20\x22$trends.priorHours.hashRate\x22},\x0a\x20\x20\x20\x20\x20\x20\x22temperatureAvg\x22:\x20{\x20\x22$avg\x22:\x20\x22$trends.priorHours.tempAvg\x22},\x0a\x20\x20\x20\x20\x20\x20\x22consumptionAll\x22:\x20{\x20\x22$sum\x22:\x20\x22$trends.priorHours.power\x22},\x0a\x20\x20\x20\x20\x20\x20\x22accountName\x22\x20:\x20{\x22$first\x22:\x20\x22$accountName\x22},\x0a\x20\x20\x20\x20\x20\x20\x22minerType\x22\x20:\x20{\x22$first\x22:\x20\x22$minerType\x22},\x0a\x20\x20\x20\x20\x20\x20\x22count\x22:\x20{\x20\x22$sum\x22:\x201\x20}\x0a\x20\x20\x20\x20}},\x0a\x20\x20\x20\x20{\x20\x22$sort\x22:\x20{\x20\x22_id\x22:\x201\x20}\x20}\x20','response','match','restart','brand','exit\x20on\x20code','MHS\x20av','checkPortStatus','toLowerCase','\x22.\x20NB.\x20Is\x20case-sensitive!','message','minerStatus','method','Miner\x20type\x20is\x20a\x20required\x20property\x20for\x20getMinerReboot\x20method.','antpool','pools_details','firmwareContentType','setNetworkSettings','Updating\x20deployment\x20info\x20for\x20miner\x20\x20','substr','getMinerStatus','13712083ivksuD','macaddr','Unable\x20to\x20update\x20minerInfo','minerInfo\x20is\x20not\x20available!\x20Run\x20discovery\x20routine.\x20\x0a\x20/scan?settings={\x22range\x22:[\x22','chain_acs','\x22:\x22$1\x22$2',')\x5cb','loopback','Every\x20miner\x20summary\x20(devs)\x20by\x20RPC\x20for\x20','ipaddress','AvalonMiner',']\x20responsed\x20with:\x20','password','Update\x20miner\x20settings\x20','dev_temp','placement.hall\x20DESC','util','getMinerSettings','Missing\x20configuration\x20data\x20for\x20[','walletID','bmminer_version','fan6','condition','\x0d\x0a--','bind','parseMinerSystemInfo.\x20Unknown\x20apiVersion:','preAuth','chain_consumption','addpool','$first','Parsing\x20miner\x20status\x20summary','Accepted','Kernel\x20log\x20generic\x20errors','map','\x22,\x22','getMinerStatus\x20requires\x20apiVersion.\x20Version\x20command\x20probably\x20failed.\x20Try\x20&brand=???\x20in\x20the\x20querystring','highestIndex','Bearer\x20','poolsReset','.syncId','softwareVersions','Miner\x20apiVersion\x20cannot\x20be\x20null.','STATS','http','fansNamesRE','No\x20pool\x20templates\x20found\x20with\x20IDs:','findOne','qualifier','API\x20version\x20lookup\x20failed!\x20Model\x20type\x20has\x20no\x20configuration:','powerEfficiency','minerType','firmwareUpdatePrefix','deleteById','NOT','placement.rack\x20ASC','Temperature','workerName','hardwareErrors','timeout','Firmware\x20update\x20requested\x20for\x20','addrs','commands','end','DEAD','logErrors','groupBy','FsMiner','bmminer\x20','dev_ghs15m','length','%Y-%m-%d',',\x20\x20','placement','env','Content-Disposition:\x20form-data;\x20name=\x22datafile\x22;\x20filename=\x22','activePools','ethaddr','getRemotesPools\x20failed!!!','chain_acn','history','uniq','push','isArray','\x22],\x22netmask\x22:\x22255.255.242.0\x22,\x22scanThrottleCount\x22:20}&mode=discoverhttp','getworks','platform_v','minutes','=0,','versionInfo','sed\x20-ir\x20\x27s/!\x5cs-f\x5csrunme.sh.sig/1\x20-eq\x200/g;\x20s/\x5c$res\x5cs-eq\x5cs1/1\x20-eq\x200/g\x27\x20/www/pages/cgi-bin/','Miner\x20create\x20failed\x20for\x20','exports','resolve','ipAddress','.txt','.\x20Will\x20attempt\x20to\x20find\x20alternate:\x20','info','freq\x22:\x22','$add','SSH\x20disabled\x20for\x20','position','2176482yFAfsk','fan2','start','Miner\x20IP\x20address\x20cannot\x20be\x20null.','set-cookie','errno','tempNamesRE','Update\x20enable\x20SSH\x20for\x20updater\x20','Unknown','colorize','Kernel\x20logs\x20parsing\x20for\x20','\x20command\x20failed\x20for\x20','Fan\x20duty','placement.shelf\x20ASC','Purple','Utility','$concat','soc','random','stack','getRemotePools\x20requires\x20apiVersion.\x20Version\x20command\x20probably\x20failed.\x20Try\x20&brand=???\x20in\x20the\x20querystring','aggregate','cgminer\x20','Authorization','Retrieve\x20miner\x20network\x20diagnostics\x20','concat','stratum','Not\x20assigned','<%=randnum%>','upgrade.cgi','removepool','form','apiVersion','reTests','Antminer','stats','\x20persisting\x20to\x20','Miner\x20system\x20info\x20request\x20','find','warn','rebootMiner','slack','deployments','Parsing\x20miner\x20status\x20result','MineOpsBoundary','build_date','fine','config','diagnostic','utility','82103cWGLfP','system_logic_version','../../server/utilities/cgminer-api','frequency','system_filesystem_version','foundblocks','uri','hwtype','ghs5s','initial','Innosilicon\x20T3S'];_0x5e37=function(){return _0x3a1459;};return _0x5e37();}let firmwareBuffers={};function getFirmwareBuffer(_0x28dc36,_0x3736ff,_0x60a782){const _0x593cfd=_0x1e1f7a;if(!firmwareBuffers[_0x28dc36]){let _0x32559b='octet-stream';_0x60a782&&_0x60a782[_0x593cfd(0x215)]&&(_0x32559b=_0x60a782[_0x593cfd(0x215)]);var _0x33985d=fs[_0x593cfd(0x1f4)](path[_0x593cfd(0x276)](global['firmwareFolderPath']+'/'+_0x28dc36)),_0x5bdc11='';_0x5bdc11+='--'+_0x3736ff+'\x0d\x0a',_0x5bdc11+=_0x593cfd(0x264)+_0x28dc36+'\x22\x0d\x0a',_0x5bdc11+=_0x593cfd(0x164)+_0x32559b+_0x593cfd(0x2be),firmwareBuffers[_0x28dc36]=Buffer[_0x593cfd(0x298)]([Buffer[_0x593cfd(0x1db)](_0x5bdc11,'utf8'),Buffer[_0x593cfd(0x1db)](_0x33985d,'binary'),Buffer[_0x593cfd(0x1db)](_0x593cfd(0x231)+_0x3736ff+'\x0d\x0a','utf8')]);}return firmwareBuffers[_0x28dc36];}let templateLiterals={};function getTemplateLiteral(_0x45d9d0,_0x5402c7){function _0xde24a2(_0x59cb32){const _0xc6cae2=_0x4ef4;try{templateLiterals[_0x59cb32]=fs[_0xc6cae2(0x1f4)](path['resolve']('./files/templates/'+_0x59cb32),_0xc6cae2(0x1e9));}catch(_0x548d7e){templateLiterals[_0x59cb32]='',console[_0xc6cae2(0x1a8)](_0xc6cae2(0x1b2)+_0x59cb32+_0xc6cae2(0x279)+(_0x5402c7||'NOT\x20PROVIDED!')+'.');};}return!templateLiterals[_0x45d9d0]&&!templateLiterals[_0x5402c7]&&(_0xde24a2(_0x45d9d0),_0x5402c7&&_0xde24a2(_0x5402c7)),templateLiterals[_0x45d9d0]||templateLiterals[_0x5402c7];}async function updateMinerFirmware({minerInfo:_0x16afd5,minerTyped:_0x5c43d5,firmwareFileName:_0x487826,apiVersion:_0x1b423b,recursed:recursed=![]}){const _0x8851d1=_0x1e1f7a;_0x1b423b=_0x1b423b||deriveApiVersion({'minerInfo':_0x16afd5,'minerTyped':_0x5c43d5});const {ipAddress:_0x497742,macAddress:_0x28b231,workerName:_0x5bb756}=_0x16afd5;!recursed&&console['log'](_0x8851d1(0x255)+_0x5bb756+'\x20['+_0x497742+',\x20'+_0x28b231+_0x8851d1(0x1b0)+_0x487826);var _0x3c01a4=_0x8851d1(0x2ab)+Math[_0x8851d1(0x291)]()[_0x8851d1(0x18f)](0x24)[_0x8851d1(0x218)](0x2);const _0x2e9d59=getMinerFirmwareUpdateUrl(_0x497742,_0x1b423b)||{};if(!_0x2e9d59[_0x8851d1(0x1a3)])return SSH_PORT_STATE[_0x8851d1(0x1f7)];const _0x21f45e=getFirmwareBuffer(_0x487826,_0x3c01a4,_0x5c43d5),_0x3e3e4a={'Content-Type':_0x8851d1(0x1eb)+_0x3c01a4,'Content-Length':_0x21f45e[_0x8851d1(0x25f)]},_0x5adbbd=await createRequestOptions({'uri':_0x2e9d59,'minerTyped':_0x5c43d5,'apiVersion':_0x1b423b,'headers':_0x3e3e4a,'body':_0x21f45e,'timeout':0x493e0});!/^(L3|S9)/i['test'](_0x16afd5[_0x8851d1(0x14c)])&&!recursed&&await getMinerKill(_0x16afd5,_0x5c43d5,_0x1b423b)['then'](_0xcbc1d1=>{const _0x21f0ff=_0x8851d1;console[_0x21f0ff(0x1f0)]('Killed\x20firmware\x20to\x20allow\x20upgrade\x20'+_0x5bb756+'\x20['+_0x497742+',\x20'+_0x28b231+']\x20',_0xcbc1d1);})[_0x8851d1(0x2c2)](_0x47b16f=>{const _0x3a3a8a=_0x8851d1;console[_0x3a3a8a(0x1f0)](_0x3a3a8a(0x1b7)+_0x5bb756+'\x20['+_0x497742+',\x20'+_0x28b231+']\x20',_0x47b16f);});let _0x3a1b2b='';const _0x930c9=await filePost({..._0x5adbbd})[_0x8851d1(0x2c2)](_0x2efea0=>{const _0x5b720f=_0x8851d1;if(_0x2efea0[_0x5b720f(0x1d4)]===0x1f4||/TIMEDOUT/i[_0x5b720f(0x1bd)](_0x2efea0[_0x5b720f(0x20f)]))return _0x3a1b2b=_0x2efea0[_0x5b720f(0x292)]+'\x0a\x20Message:'+inspect(_0x2efea0),![];else throw _0x2efea0;});if(_0x930c9){if(/System Upgrade Succ/i[_0x8851d1(0x1bd)](_0x930c9))return console[_0x8851d1(0x1f0)](_0x8851d1(0x14b)+_0x5bb756+'\x20['+_0x497742+',\x20'+_0x28b231+_0x8851d1(0x1b0)+_0x487826),setTimeout(function(){getMinerReboot(_0x16afd5,_0x5c43d5,_0x1b423b);},0x7d0),SSH_PORT_STATE[_0x8851d1(0x19c)];else{if(reKnownFirmwareUpdateErrors[_0x8851d1(0x1bd)](_0x930c9)){let _0x5c528c=_0x930c9[_0x8851d1(0x207)](reKnownFirmwareUpdateErrors);if(_0x5c528c){_0x3a1b2b=_0x5c528c[0x1];if(/sign/i[_0x8851d1(0x1bd)](_0x3a1b2b)){const _0x20466d=await enableFirmwareUpload({'minerInfo':_0x16afd5,'minerTyped':_0x5c43d5,'apiVersion':_0x1b423b});if(_0x20466d==SSH_PORT_STATE['OPEN']&&!recursed)return console[_0x8851d1(0x1f0)]('Firmware\x20unlock\x20re-attempting\x20to\x20disable\x20signature\x20check\x20for\x20'+_0x5bb756+'\x20['+_0x497742+',\x20'+_0x28b231+_0x8851d1(0x1b0)+_0x487826),updateMinerFirmware({'minerInfo':_0x16afd5,'minerTyped':_0x5c43d5,'firmwareFileName':_0x487826,'apiVersion':_0x1b423b,'recursed':!![]});else!recursed&&console['log'](_0x8851d1(0x1a1)+_0x5bb756+'\x20['+_0x497742+',\x20'+_0x28b231+_0x8851d1(0x1b0)+_0x487826);}_0x3a1b2b=_0x5c528c[0x1];}else _0x3a1b2b=_0x930c9;}else _0x3a1b2b=_0x930c9;}}return console[_0x8851d1(0x1f0)](_0x8851d1(0x1fe)+_0x5bb756+'\x20['+_0x497742+',\x20'+_0x28b231+']\x20to\x20'+_0x487826,_0x3a1b2b),SSH_PORT_STATE[_0x8851d1(0x1f7)];}async function updateEnableSSH({minerInfo:_0x1bf016,minerTyped:_0xc20673,firmwareFilename:_0x58cb28,apiVersion:_0x4566e5}){const _0x3e8fe2=_0x1e1f7a,{ipAddress:_0x57d92c}=_0x1bf016;let _0x5236c3=portScanner[_0x3e8fe2(0x20c)](0x16,_0x57d92c)[_0x3e8fe2(0x178)](_0x334fd6=>{const _0x1bce1d=_0x3e8fe2;if(_0x334fd6==SSH_PORT_STATE[_0x1bce1d(0x19c)])return _0x334fd6;return/updater/i['test'](_0x58cb28)?updateEnableSSHupdater({'minerInfo':_0x1bf016,'minerTyped':_0xc20673,'apiVersion':_0x4566e5}):_0x334fd6;})[_0x3e8fe2(0x2c2)](_0x38962f=>{const _0x3b41a1=_0x3e8fe2;return console[_0x3b41a1(0x1a6)](_0x3b41a1(0x2cb),_0x38962f),![];});return _0x5236c3;}async function updateEnableSSHupdater({minerInfo:_0x51ca47,minerTyped:_0x3b8871,apiVersion:_0x5ecdb8}){const _0x50a9f5=_0x1e1f7a,{ipAddress:_0x49e8d1}=_0x51ca47;_0x5ecdb8=_0x5ecdb8||deriveApiVersion({'minerInfo':_0x51ca47,'minerTyped':_0x3b8871});const _0x2b90b9=getEnableSSHUrl(_0x49e8d1,_0x5ecdb8)||{};if(!_0x2b90b9[_0x50a9f5(0x1a3)])return SSH_PORT_STATE[_0x50a9f5(0x1f7)];const _0x440090=_0x2b90b9[_0x50a9f5(0x1c3)],_0x3df9c8={'Content-Type':_0x50a9f5(0x18d)},_0x54d11f=await createRequestOptions({'uri':_0x2b90b9,'minerTyped':_0x3b8871,'apiVersion':_0x5ecdb8,'headers':_0x3df9c8,'form':_0x440090}),{body:_0x448f3d}=await formPost({..._0x54d11f})[_0x50a9f5(0x178)](_0x208565=>_0x208565)[_0x50a9f5(0x2c2)](_0x5025f4=>{const _0x2d66f2=_0x50a9f5;return console['warn'](_0x2d66f2(0x1ef),_0x5025f4),![];});return console[_0x50a9f5(0x1a8)](_0x50a9f5(0x286),_0x54d11f,_0x448f3d),/Start\s+ssh/i['test'](_0x448f3d)?(console['log'](_0x50a9f5(0x146)+_0x49e8d1),SSH_PORT_STATE[_0x50a9f5(0x19c)]):(console[_0x50a9f5(0x1f0)](_0x50a9f5(0x27d)+_0x49e8d1,_0x448f3d),SSH_PORT_STATE[_0x50a9f5(0x1a9)]);}async function updateEnableSSHAntminer({minerInfo:_0x5e47d3,minerTyped:_0x7fc354,apiVersion:_0x52bb38}){const _0x181980=_0x1e1f7a,{ipAddress:_0x1fea8b}=_0x5e47d3;_0x52bb38=_0x52bb38||deriveApiVersion({'minerInfo':_0x5e47d3,'minerTyped':_0x7fc354});const _0x582b5f=getEnableSSHUrl(_0x1fea8b,_0x52bb38)||{};if(!_0x582b5f[_0x181980(0x1a3)])return null;const {data:_0x31574a}=_0x582b5f,_0x49b174=await createRequestOptions({'uri':_0x582b5f,'minerTyped':_0x7fc354,'apiVersion':_0x52bb38,'body':_0x31574a}),{body:_0x55a913}=await formPost({..._0x49b174})['then'](_0x39006e=>_0x39006e)[_0x181980(0x2c2)](_0x2aebbd=>{const _0xc73310=_0x181980;return console['warn'](_0xc73310(0x1ef),_0x2aebbd),![];});return/busybox/i[_0x181980(0x1bd)](_0x55a913)?(console[_0x181980(0x1f0)](_0x181980(0x146)+_0x1fea8b),await getMinerReboot(_0x5e47d3,_0x7fc354,_0x52bb38),SSH_PORT_STATE[_0x181980(0x19c)]):(console[_0x181980(0x1f0)](_0x181980(0x1d7)+_0x1fea8b,_0x55a913),SSH_PORT_STATE[_0x181980(0x1a9)]);}let walletsCache={};async function getWallets(_0xbda063){const _0x2a5feb=_0x1e1f7a;if(walletsCache[_0xbda063])return walletsCache[_0xbda063];const _0x11fbe4=loopback['getModel'](_0x2a5feb(0x2da));return _0x11fbe4[_0x2a5feb(0x2a5)]()['then'](_0x46c419=>{const _0x57fb1e=_0x2a5feb;return walletsCache=_[_0x57fb1e(0x25b)](_0x46c419,_0x57fb1e(0x1d3)),walletsCache[_0xbda063];});}let walletInfoCache={};async function getWalletInfo(_0x269ffe){const _0x560a58=_0x1e1f7a;if(Object[_0x560a58(0x1ed)](walletInfoCache)['length'])return walletInfoCache[_0x269ffe];const _0x216f9f=loopback[_0x560a58(0x194)](_0x560a58(0x2da));return _0x216f9f[_0x560a58(0x2a5)]()[_0x560a58(0x178)](_0x158795=>{const _0x3fc70b=_0x560a58;return walletInfoCache=_['keyBy'](_0x158795,_0x3fc70b(0x22d)),walletInfoCache[_0x269ffe];});}let poolTemplates={};async function getPoolTemplates(_0x5cb8a7,_0x2ee97e,_0x3f14c4){const _0x502694=_0x1e1f7a,_0x2e448b=_0x2ee97e&&_0x2ee97e[0x0],_0x21c111=_0x2e448b?_0x2ee97e[_0x502694(0x198)](','):_0x5cb8a7;if(_0x3f14c4&&poolTemplates[_0x21c111])return poolTemplates[_0x21c111];var _0x179a7f;_0x2e448b?_0x179a7f={'where':{'ID':{'inq':_0x2ee97e}}}:_0x179a7f={'where':{'and':[{'hashAlgorithm':_0x5cb8a7},{'priority':{'lt':0x4}}]},'order':'priority'};const _0x2c0ae5=loopback[_0x502694(0x194)](_0x502694(0x17d));return _0x2c0ae5[_0x502694(0x2a5)](_0x179a7f)[_0x502694(0x178)](_0x3c8f0f=>{const _0x15ae7c=_0x502694;if(_0x3c8f0f[_0x15ae7c(0x25f)]===0x0){if(_0x2e448b)throw new Error(_0x15ae7c(0x247)+_0x2ee97e);throw new Error('No\x20pool\x20templates\x20found\x20for\x20algorithm:'+_0x5cb8a7);}if(_0x2e448b){const _0x77cc5c=_[_0x15ae7c(0x151)](_0x3c8f0f,'id');poolTemplates[_0x21c111]=[];for(var _0x4b15c8=0x0;_0x4b15c8<_0x2ee97e[_0x15ae7c(0x25f)];_0x4b15c8++){_0x77cc5c[_0x2ee97e[_0x4b15c8]]&&poolTemplates[_0x21c111]['push'](_0x77cc5c[_0x2ee97e[_0x4b15c8]]);}}else poolTemplates[_0x21c111]=_0x3c8f0f;return poolTemplates[_0x21c111];});}async function getRemotesPoolConfig({minerInfo:_0x49f3ec,minerTyped:_0x354fb7,ignoreCache:_0x177b5f,apiVersion:_0xaea5f9}){const _0x4afc9b=_0x1e1f7a;if(!_0x49f3ec)return null;const {ipAddress:_0x30d171}=_0x49f3ec;if(_0x30d171&&(_0x177b5f||!_0x49f3ec[_0x4afc9b(0x230)]||!_0x49f3ec[_0x4afc9b(0x230)][_0x4afc9b(0x1a2)])){const _0x2c7236=await getMinerStatus({'ipAddress':_0x30d171,'minerTyped':_0x354fb7,'apiVersion':_0xaea5f9});if(!_0x2c7236)return{'pools':[],'frequency':0x0};else{if(!_0x2c7236['elapsed'])return null;}_0x49f3ec[_0x4afc9b(0x230)]=_0x2c7236;}let {pools:_0x433ca4,frequency:_0x3f3b5a,volts:_0x2d157a}=_0x49f3ec[_0x4afc9b(0x230)];return _0x433ca4=_0x433ca4[_0x4afc9b(0x23b)](_0x205919=>{const _0xb502b8=_0x4afc9b;return{'url':_0x205919[_0xb502b8(0x1a3)],'user':_0x205919['user']};}),{'pools':_0x433ca4,'frequency':_0x3f3b5a,'volts':_0x2d157a};}function havePoolConfigsChanged({poolConfig:poolConfig={},expectedPoolConfig:expectedPoolConfig={}}){const _0x34a9aa=_0x1e1f7a;if(poolConfig[_0x34a9aa(0x2b4)]&&expectedPoolConfig[_0x34a9aa(0x2b4)]&&poolConfig[_0x34a9aa(0x2b4)]!=expectedPoolConfig[_0x34a9aa(0x2b4)])return!![];if(poolConfig[_0x34a9aa(0x1d2)]&&expectedPoolConfig[_0x34a9aa(0x1d2)]&&poolConfig[_0x34a9aa(0x1d2)]!=expectedPoolConfig['volts'])return!![];if(!poolConfig[_0x34a9aa(0x1a2)]||poolConfig['pools']['length']<expectedPoolConfig['pools'][_0x34a9aa(0x25f)])return!![];for(var _0x288869=0x0;_0x288869<expectedPoolConfig[_0x34a9aa(0x1a2)]['length'];_0x288869++){let _0x48b2d4=poolConfig[_0x34a9aa(0x1a2)][_0x288869]||{'url':'','user':''},_0x4b6197=expectedPoolConfig[_0x34a9aa(0x1a2)][_0x288869]||{'stratum':'','username':''};if(!_0x48b2d4[_0x34a9aa(0x1a3)]&&!_0x4b6197['stratum'])continue;if(_0x48b2d4[_0x34a9aa(0x1a3)][_0x34a9aa(0x20d)]()[_0x34a9aa(0x2ce)](_0x4b6197[_0x34a9aa(0x299)][_0x34a9aa(0x20d)]()[_0x34a9aa(0x2de)](/[^\/]*\/\//,''))<0x0||_0x48b2d4[_0x34a9aa(0x16a)]!==_0x4b6197['username'])return!![];}return![];}async function validateMinerConfig({minerInfo:_0xc6d83c,apiVersion:_0xeeaf09,dataCenterSettings:_0xb199d1,minerConfigOptions:minerConfigOptions=null,poolIDs:poolIDs=null,isBulk:_0x49e099}){const _0xd4a8d3=_0x1e1f7a,{accountName:_0x448e1c}=_0xc6d83c,_0x253f94=getMinerTypeMap(_0xc6d83c),{hashingAlgorithm:_0x3a3dd2}=_0x253f94||{};let _0x28ae42;if(!minerConfigOptions){const {frequency:_0x289f94,volts:_0xba143}=_0xc6d83c[_0xd4a8d3(0x230)];minerConfigOptions={'frequency':_0x289f94,'volts':_0xba143};}const _0x6e3940=await getPoolTemplates(_0x3a3dd2,poolIDs,_0x49e099),_0x3947d0=await getWallets(_0x448e1c);_0x28ae42=getPoolConfigs({'rawPools':_0x6e3940,'dataCenterSettings':_0xb199d1,'wallets':_0x3947d0,'minerInfo':_0xc6d83c,'minerTyped':_0x253f94});const {pools:_0x216a40,workerName:_0x4fdfb3}=_0x28ae42,{frequency:_0x4a165e,volts:_0x26ea1d}=minerConfigOptions,_0x12b063={'pools':_0x216a40,'frequency':_0x4a165e,'volts':_0x26ea1d},_0x117c37=await getRemotesPoolConfig({'minerInfo':_0xc6d83c,'minerTyped':_0x253f94,'ignoreCache':!_0x49e099,'apiVersion':_0xeeaf09});let _0x25a307=![];return _0x4fdfb3&&_0x4fdfb3!==_0xc6d83c[_0xd4a8d3(0x252)]?_0x25a307=!![]:_0x25a307=!_0x117c37||havePoolConfigsChanged({'poolConfig':_0x117c37,'expectedPoolConfig':_0x12b063}),{'poolsAreDifferent':_0x25a307,'remotesPools':_0x117c37,'poolsConfig':_0x12b063,'workerName':_0x4fdfb3};}async function extractAccountAndWorkerNumber({poolWorkers:poolWorkers=[]}){const _0x6a8678=_0x1e1f7a;if(!poolWorkers['length']||!poolWorkers[0x0])return null;let _0x48fd38=null,_0x4151c1=null,_0x20bcd8=null;const _0x456a40=/^([^\.]+)\.((?:[^\.#]*?)(\d+))(#|$)/,_0x6c12a5=/^([^\.]+)\.((?:[^#]*?))(#|$)/;let _0x98a8f5=poolWorkers[0x0][_0x6a8678(0x207)](_0x456a40);if(_0x98a8f5)_0x4151c1=_0x98a8f5[0x1],_0x20bcd8=_0x98a8f5[0x2],_0x48fd38=_0x98a8f5[0x3];else{if(/_\d+$/[_0x6a8678(0x1bd)](poolWorkers[0x0])){const _0x5cbebe=poolWorkers[0x0][_0x6a8678(0x2bf)]('_');_0x4151c1=_0x5cbebe[0x0],_0x20bcd8=poolWorkers[0x0],_0x48fd38=_0x5cbebe[0x1];}else{if(_0x6c12a5['test'](poolWorkers[0x0])){_0x98a8f5=poolWorkers[0x0]['match'](_0x6c12a5),_0x4151c1=_0x98a8f5[0x1],_0x20bcd8=_0x98a8f5[0x2];const _0x1942fd=_0x98a8f5[0x2][_0x6a8678(0x207)](/\D(\d+)$/);_0x48fd38=_0x1942fd?_0x1942fd[0x1]:0x270f;}else{if(poolWorkers[0x1])_0x98a8f5=poolWorkers[0x1][_0x6a8678(0x207)](_0x456a40),_0x98a8f5&&(_0x4151c1=_0x98a8f5[0x1],_0x20bcd8=_0x98a8f5[0x2],_0x48fd38=_0x98a8f5[0x3]);else poolWorkers[0x0]['length']&&(_0x4151c1=poolWorkers[0x0],_0x20bcd8='',_0x48fd38=0x0);}}}let _0x3a413a=await getWalletInfo(_0x4151c1);return _0x3a413a&&(_0x4151c1=_0x3a413a['accountName']),_0x48fd38?{'accountName':_0x4151c1,'workerName':_0x20bcd8,'workerTypeNumber':_0x48fd38}:null;}function getPoolConfigs({rawPools:_0xab069,dataCenterSettings:_0x3a0e70,wallets:_0x5c98b6,minerInfo:_0x4a939b,minerTyped:_0x4f054a}){const _0x3b07a9=_0x1e1f7a,_0x5b03a5=getTokenValueMapper({'dataCenterSettings':_0x3a0e70,'wallets':_0x5c98b6,'minerInfo':_0x4a939b,'minerTyped':_0x4f054a});let _0x5392db='';const _0xa2baa=_0xab069[_0x3b07a9(0x23b)]((_0x150867,_0x5649ef)=>{const _0x1c158c=_0x3b07a9,_0xf5b5eb=replaceTokensWithValues(_0x150867[_0x1c158c(0x155)],_0x5b03a5),_0x297988=replaceTokensWithValues(_0x150867[_0x1c158c(0x226)],_0x5b03a5),_0x41b12c=_0x150867[_0x1c158c(0x299)];if(!_0x5392db){const _0x402c9a=_0xf5b5eb['split']('.')[0x1]||'';if(_0x402c9a[_0x1c158c(0x2ce)](_0x3a0e70[_0x1c158c(0x1de)])>-0x1)_0x5392db=_0x402c9a;else{const _0x46d227=new RegExp(_0x1c158c(0x2c5)+_0x3a0e70['locationID']+_0x1c158c(0x17a),'i'),_0x3c6310=_0x297988[_0x1c158c(0x207)](_0x46d227);_0x3c6310&&(_0x5392db=_0x3c6310[0x1]||'');}}return{'index':_0x5649ef+0x1,'stratum':_0x41b12c,'username':_0xf5b5eb,'password':_0x297988};});return{'pools':_0xa2baa,'workerName':_0x5392db};}async function getPoolIDs(_0x307b23){const _0x2327cc=_0x1e1f7a;let _0x157caa=[];const _0x32c380=loopback[_0x2327cc(0x194)](_0x2327cc(0x17d));for(var _0x533075=0x0;_0x533075<0x3;_0x533075++){_0x307b23[_0x2327cc(0x230)]&&_0x307b23[_0x2327cc(0x230)][_0x2327cc(0x1a2)]&&_0x307b23[_0x2327cc(0x230)][_0x2327cc(0x1a2)][_0x533075]?_0x157caa[_0x533075]=await _0x32c380[_0x2327cc(0x2a5)]({'where':{'stratum':_0x307b23['condition']['pools'][_0x533075][_0x2327cc(0x1a3)][_0x2327cc(0x2de)](_0x2327cc(0x19a),'')}})[_0x2327cc(0x178)](_0x45b359=>{return _0x45b359[0x0]?_0x45b359[0x0]['id']:0x0;}):_0x157caa[_0x533075]=0x0;}return _0x157caa;}function deriveOverclockApi(_0x7c02d8,_0x5bd704){const _0xc42b2b=_0x1e1f7a;if(softwareVersions[_0xc42b2b(0x1e7)]['includes'](_0x7c02d8))return'Antminer_updater';else{if(softwareVersions[_0xc42b2b(0x213)][_0xc42b2b(0x171)](_0x7c02d8))return'Antminer_antpool';}if(!_0x5bd704)return'';let _0x39790e=null;if(/\(/i[_0xc42b2b(0x1bd)](_0x5bd704))return _0x39790e=_0x5bd704['match'](/(\w+)[^\(]+\(\s*(\w+)/),_0x39790e[0x1]+'_'+(/vnish/i[_0xc42b2b(0x1bd)](_0x39790e[0x2])?_0xc42b2b(0x1e7):_0x39790e[0x2]);else{if(_0x5bd704)return _0x39790e=_0x5bd704['split'](/\s/),_0x39790e[0x0];}}function deriveApiVersion({minerInfo:minerInfo={},minerTyped:_0x546a73}){const _0x3d0ca2=_0x1e1f7a;let {apiVersion:_0x4202a7,minerType:_0x16e4fa,brand:_0x1a0202}=_0x546a73||{};if(_0x4202a7)return _0x4202a7;const {softwareVersion:_0x46b5cb,firmwareFileName:_0x42edec,brand:_0x449ce1}=minerInfo;_0x4202a7=deriveOverclockApi(_0x46b5cb,_0x16e4fa);if(_0x4202a7)return _0x4202a7;const _0x4b7a27=minerInfo[_0x3d0ca2(0x29f)]||_0x449ce1||_0x1a0202;if(_0x4b7a27)return _0x4b7a27;else{if(/updater/i[_0x3d0ca2(0x1bd)](_0x42edec))return _0x3d0ca2(0x1aa);}return _0x3d0ca2(0x2a1);}function parseMinerSystemInfo(_0x4c702b,_0x3d335d){const _0xf09c11=_0x1e1f7a;var _0x591f7f={'Antminer':function(_0x598c20,_0x2cf952){const _0x2b3a68=_0x4ef4;if(!_0x598c20[_0x2b3a68(0x2c8)])return null;const {uptime:_0x41db9e,curtime:_0xf10a9e,macaddr:_0x16df18,ipaddress:_0x54c73f,minertype:_0x4d3e75,bmminer_version:_0x32fcc3,cgminer_version:_0x14c373,ant_hwv:_0xe3e56e,hwv:_0x145f1b,swv:_0x4aa535,system_kernel_version:_0x27765e,system_filesystem_version:_0x263bf1,system_logic_version:_0x3a486a,miner_model:_0x44b310,hostname:_0x104aeb}=_0x598c20,_0x57ff14=((_0x32fcc3||_0x14c373||_0x2b3a68(0x1c4))[_0x2b3a68(0x207)](/((?:\d+\.)+\d+)/)||['',_0x2b3a68(0x1c4)])[0x1];let _0x3235c0=getMinerType(_0x4d3e75);const _0x4721f0=_0x32fcc3||_0x14c373?(_0x32fcc3?_0x2b3a68(0x25d):'cgminer\x20')+_0x57ff14:'';return _0x2cf952=_0x2cf952||deriveOverclockApi(_0x4721f0,_0x3235c0),{'minerType':_0x3235c0,'modelType':_0x4d3e75,'apiVersion':_0x2cf952,'upTime':_0x41db9e,'minerTime':_0xf10a9e,'macAddress':_0x16df18,'ipAddress':_0x54c73f,'hardwareVersion':_0xe3e56e||_0x145f1b,'systemKernelVersion':_0x27765e,'fileSystemTimestamp':_0x263bf1,'systemLogicVersion':_0x3a486a||_0x4aa535,'softwareVersion':_0x4721f0};},'Antminer_antpool':function(_0x5e1aef,_0x103c80){const _0x4eccea=_0x4ef4;if(!_0x5e1aef[_0x4eccea(0x2c8)])return null;const {uptime:_0x2ccf36,curtime:_0x471c0f,macaddr:_0x4f1b0d,ipaddress:_0x4ad5fe,minertype:_0x10d860,bmminer_version:_0x1a9d38,cgminer_version:_0x2075f0,ant_hwv:_0x5bb1a7,system_kernel_version:_0x289b51,system_filesystem_version:_0x2f5ab9,system_logic_version:_0x1774a5}=_0x5e1aef,_0x59c8f7=getMinerType(_0x10d860),_0x5d046c=_0x1a9d38||_0x2075f0;return{'minerType':_0x59c8f7,'modelType':_0x10d860,'apiVersion':_0x103c80,'upTime':_0x2ccf36,'minerTime':_0x471c0f,'macAddress':_0x4f1b0d,'ipAddress':_0x4ad5fe,'hardwareVersion':_0x5bb1a7,'systemKernelVersion':_0x289b51,'fileSystemTimestamp':_0x2f5ab9,'systemLogicVersion':_0x1774a5,'softwareVersion':(_0x1a9d38?_0x4eccea(0x25d):_0x4eccea(0x295))+_0x5d046c};},'Antminer_updater':function(_0x1f4a4e,_0x351950){const _0x4ba8b2=_0x4ef4;if(!_0x1f4a4e[_0x4ba8b2(0x2c8)])return null;const _0x545157=getMinerType(_0x1f4a4e[_0x4ba8b2(0x2c8)]),_0x546d4e=_0x1f4a4e[_0x4ba8b2(0x22e)]||_0x1f4a4e['cgminer_version'];return{'minerType':_0x545157,'modelType':_0x1f4a4e[_0x4ba8b2(0x2c8)],'apiVersion':_0x351950,'macAddress':_0x1f4a4e[_0x4ba8b2(0x21b)],'ipAddress':_0x1f4a4e['ipaddress'],'hardwareVersion':_0x1f4a4e['ant_hwv'],'systemKernelVersion':_0x1f4a4e['system_kernel_version'],'fileSystemTimestamp':_0x1f4a4e[_0x4ba8b2(0x2b5)],'systemLogicVersion':_0x1f4a4e[_0x4ba8b2(0x2b2)],'softwareVersion':(_0x1f4a4e['bmminer_version']?_0x4ba8b2(0x25d):_0x4ba8b2(0x295))+_0x546d4e};},'AvalonMiner':function(_0x3d4562,_0xfd3931){const _0x3ddbd2=_0x4ef4;_0x3d4562=JSON[_0x3ddbd2(0x1d6)]((_0x3d4562[_0x3ddbd2(0x206)]||_0x3d4562)[_0x3ddbd2(0x2de)](/^[^{]*{/,'{')[_0x3ddbd2(0x2de)](/,?\s*}\);\s*UpdatePageCallback[^}]*}\);\s*$/,'}'));const _0x5089a1=getMinerType(_0x3d4562[_0x3ddbd2(0x2b8)]);return{'minerType':_0x5089a1,'modelType':_0x3d4562[_0x3ddbd2(0x2b8)],'apiVersion':_0xfd3931,'macAddress':_0x3d4562[_0x3ddbd2(0x175)],'ipAddress':_0x3d4562['ipv4'],'hardwareVersion':'','systemKernelVersion':_0x3d4562[_0x3ddbd2(0x150)],'fileSystemTimestamp':'','systemLogicVersion':'','softwareVersion':''};},'Innosilicon':function(_0x3e0e95,_0x4bc3e9){const _0x2d2e93=_0x4ef4;if(!_0x3e0e95[_0x2d2e93(0x2c0)])return null;if(!_0x4bc3e9){if(_0x3e0e95['version'][_0x2d2e93(0x154)]===_0x2d2e93(0x166))_0x4bc3e9=_0x2d2e93(0x1ab);else _0x3e0e95[_0x2d2e93(0x150)]['hwver']===_0x2d2e93(0x290)&&(_0x4bc3e9='Innosilicon');}let _0x347c7b=_0x4bc3e9+'\x20'+_0x3e0e95[_0x2d2e93(0x2c0)];return{'brand':_0x2d2e93(0x19b),'minerType':_0x347c7b,'modelType':_0x347c7b,'apiVersion':_0x4bc3e9,'macAddress':_0x3e0e95[_0x2d2e93(0x150)][_0x2d2e93(0x266)],'ipAddress':_0x3e0e95['network'][_0x2d2e93(0x223)],'softwareVersion':_0x3e0e95[_0x2d2e93(0x150)][_0x2d2e93(0x26f)],'hardwareVersion':_0x3e0e95[_0x2d2e93(0x150)][_0x2d2e93(0x154)],'systemKernelVersion':'','fileSystemTimestamp':_0x3e0e95[_0x2d2e93(0x150)][_0x2d2e93(0x2ac)],'systemLogicVersion':''};}};if(!_0x4c702b)return null;_0x591f7f['FsMiner']=_0x591f7f[_0xf09c11(0x2a1)],_0x591f7f['ZigMiner']=_0x591f7f[_0xf09c11(0x168)],_0x591f7f['Whatsminer_CG']=_0x591f7f['Whatsminer'],_0x591f7f[_0xf09c11(0x152)]=_0x591f7f[_0xf09c11(0x2a1)],_0x591f7f[_0xf09c11(0x1bc)]=_0x591f7f[_0xf09c11(0x2a1)],_0x591f7f[_0xf09c11(0x15c)]=_0x591f7f[_0xf09c11(0x224)];let _0x396bde=_0x591f7f[_0x3d335d];if(!_0x396bde)return console[_0xf09c11(0x2a6)](_0xf09c11(0x233)+_0x3d335d,_0x4c702b),null;let _0x5ee8d0=_0x396bde(_0x4c702b,_0x3d335d);if(!_0x5ee8d0)return _0x5ee8d0;return _0x5ee8d0['brand']=(_0x5ee8d0[_0xf09c11(0x29f)]||_0x3d335d)['match'](/^([a-z0-9]+)/i)[0x1],_0x5ee8d0;}function parseKernelLogs(_0x606b4,_0x2f691d=_0x1e1f7a(0x2a1),_0x2f86db){const _0x1c43ca=_0x1e1f7a;function _0x2c9077(_0x43c204,_0x40c2d9,_0x24a2b3){_0x43c204['forEach'](_0xe81ca=>{const _0x28c0af=_0x4ef4;!_0xe81ca[_0x28c0af(0x162)]&&(_0xe81ca[_0x28c0af(0x2a0)]=[],_0xe81ca['matches'][_0x28c0af(0x1f2)](_0x4184c3=>{const _0x4f7577=_0x28c0af;_0xe81ca[_0x4f7577(0x2a0)][_0x4f7577(0x26b)](new RegExp(_0x4184c3,'i'));}));let _0x272e79=0x0;_0xe81ca[_0x28c0af(0x2a0)]['forEach'](_0x3ce43b=>{const _0x45245b=_0x28c0af;_0x3ce43b[_0x45245b(0x1bd)](_0x40c2d9)&&_0x272e79++;}),_0x272e79==_0xe81ca[_0x28c0af(0x2a0)][_0x28c0af(0x25f)]&&(console[_0x28c0af(0x1a8)](_0x28c0af(0x1ec)+_0xe81ca[_0x28c0af(0x14c)]),_0x24a2b3[_0x28c0af(0x26b)](_0xe81ca['message']));});}if(!_0x606b4)return null;!_0x606b4[_0x1c43ca(0x207)]&&(_0x606b4=_0x606b4['toString']());let _0x415389=[];if(/html/i[_0x1c43ca(0x1bd)](_0x2f86db)){const _0x5b3f41=/hidden["']\s+id\s*=\s*["']\s*cbid\.table\.(\d+)\.(code|cause|time)['"]\s+value\s*=\s*['"]([^'"]+)['"]/g,_0x55f02e=/hidden["']\s+id\s*=\s*["']\s*cbid\.table\.(\d+)\.(code|cause|time)['"]\s+value\s*=\s*['"]([^'"]+)['"]/,_0x409c01=_0x606b4[_0x1c43ca(0x207)](_0x5b3f41);for(var _0x41b909 in _0x409c01){const _0x38a24c=_0x409c01[_0x41b909][_0x1c43ca(0x207)](_0x55f02e),_0x2c1050=_0x38a24c[0x1]-0x1;!_0x415389[_0x2c1050]&&(_0x415389[_0x2c1050]={}),_0x415389[_0x2c1050][_0x38a24c[0x2]]=_0x38a24c[0x3];}}else _0x415389=_[_0x1c43ca(0x26a)](_0x606b4[_0x1c43ca(0x207)](/Error.+?[\n\r]/g)),_0x415389[_0x1c43ca(0x25f)]&&console[_0x1c43ca(0x1a8)](_0x1c43ca(0x23a),_0x415389);let _0x36421a=minerApis[(_0x2f691d||'')[_0x1c43ca(0x20d)]()][_0x1c43ca(0x25a)]||[];return _0x2c9077(_0x36421a,_0x606b4,_0x415389),{'errors':_0x415389};}function parseNetworkDiagnostic(_0x1e4d67,_0x5e08ca=_0x1e1f7a(0x2a1)){const _0x4e4f76=_0x1e1f7a;if(!_0x1e4d67||!_0x1e4d67[_0x4e4f76(0x207)])return _0x1e4d67;const _0x1f00b9=_0x1e4d67[_0x4e4f76(0x207)](/\/(\d+(?:\.\d+)?)\//);if(!_0x1f00b9)return _0x1e4d67;let _0x37a6ff=parseFloat(_0x1f00b9[0x1]);return{'latency':_0x37a6ff,'diagnosticResponse':_0x1e4d67};}function getMinerType(_0x429ee6){const _0x52f28b=_0x1e1f7a;return _0x429ee6[_0x52f28b(0x2de)](/\s+\(.*$/,'')['replace'](/(\-[^\-]+)+$/,'')['trim']();}function getMinerTypeMap(_0xddf3a5){const _0x293faf=_0x1e1f7a,_0x1d342f=getMinerType(_0xddf3a5[_0x293faf(0x2d9)]||_0xddf3a5[_0x293faf(0x24c)]);return config[_0x293faf(0x2cf)][_0x1d342f];}function getMinerFilterClause(_0x2859c3){const _0x3b9ba3=_0x1e1f7a;if(/admin/i[_0x3b9ba3(0x1bd)](_0x2859c3[_0x3b9ba3(0x1e8)]))return{};let _0x3cea76=[{'accountName':new RegExp(_0x3b9ba3(0x1f5)+_0x2859c3[_0x3b9ba3(0x1d3)][_0x3b9ba3(0x2de)](/^[\s,]+|[\s,]+$/gm,'')['split'](',')[_0x3b9ba3(0x198)]('|')+_0x3b9ba3(0x220),'i')}];if(_0x2859c3[_0x3b9ba3(0x2c1)])for(var _0x4e71b3=0x0;_0x4e71b3<_0x2859c3[_0x3b9ba3(0x2c1)][_0x3b9ba3(0x25f)];_0x4e71b3++){let _0x22a231=Object[_0x3b9ba3(0x142)](_0x2859c3[_0x3b9ba3(0x2c1)][_0x4e71b3])[0x0];if(/^\/[^\/]+\/\w*$/[_0x3b9ba3(0x1bd)](_0x22a231)){let _0x13033c=Object[_0x3b9ba3(0x1ed)](_0x2859c3[_0x3b9ba3(0x2c1)][_0x4e71b3])[0x0];_0x2859c3[_0x3b9ba3(0x2c1)][_0x4e71b3][_0x13033c]=eval(_0x22a231);}_0x3cea76[_0x3b9ba3(0x26b)](_0x2859c3['filter'][_0x4e71b3]);}return{'where':{'and':_0x3cea76}};};async function parseMinerSettings(_0x416b6d,_0x1aed45,_0x5f184e){const _0x1456bb=_0x1e1f7a;var _0x5c8701={'Antminer':function(_0x4a61d0,_0x51e0e2){const _0x5401dd=_0x4ef4,_0x4be50f=_0x4a61d0[_0x5401dd(0x1a2)],_0x432aa4=_0x4a61d0['bitmain-freq']||0x0,_0x57c001=_0x4a61d0[_0x5401dd(0x1b5)]||0x0;return{'pools':_0x4be50f,'frequency':_0x432aa4,'volts':_0x57c001};},'Antminer_X19':function(_0x171816,_0x23c1d7){const _0x24583d=_0x4ef4,_0x3977c5=_0x171816[_0x24583d(0x1f1)],_0x17b38c=0x0,_0xd32d9c=0x0;return{'pools':_0x3977c5,'frequency':_0x17b38c,'volts':_0xd32d9c};},'AvalonMiner':function(_0x514172,_0x3cca0a){const _0x478839=_0x4ef4;_0x514172=JSON['parse']((_0x514172[_0x478839(0x206)]||_0x514172)[_0x478839(0x2de)](/^.*CGConfCallback\(/,'')[_0x478839(0x2de)](/\)[^\)]*$/,''));const {pool1:_0x4fa974,worker1:_0x3ec4f9,pool2:_0x4288b4,worker2:_0xad5b9f,pool3:_0x554a38,worker3:_0x3cb81f}=_0x514172;return{'pools':[{'url':_0x4fa974,'user':_0x3ec4f9},{'url':_0x4288b4,'user':_0xad5b9f},{'url':_0x554a38,'user':_0x3cb81f}]};},'Innosilicon':function(_0x2e988b,_0x364417){const _0x3ffa7c=_0x4ef4,_0xcfc7d3=_0x2e988b[_0x3ffa7c(0x1a2)];return{'pools':_0xcfc7d3};},'Whatsminer':async function(_0xcd2d2e,_0x25c260){const _0x8c91c9=_0x4ef4;let _0x30e770='',_0x4b4a67,_0x2d417f;if(_0xcd2d2e&&_0xcd2d2e[_0x8c91c9(0x1ee)]){const _0x5a83df=_0xcd2d2e[_0x8c91c9(0x1ee)][0x0];_0x30e770=parseInt(parseFloat(_0x5a83df[_0x8c91c9(0x28e)]||0x0)*0x64);if(_0xcd2d2e['POOLS']&&_0xcd2d2e[_0x8c91c9(0x1f1)][0x0]&&_0xcd2d2e[_0x8c91c9(0x1f1)][0x0][_0x8c91c9(0x19f)]){const _0x368787=_0xcd2d2e[_0x8c91c9(0x1f1)][0x0];_0x4b4a67=_['map'](_0xcd2d2e['POOLS'],_0x598bae=>{const {User:_0x20e3da,URL:_0x428e18,Getworks:_0x13d798,Accepted:_0x2604ed,Rejected:_0x3c39cb,Discarded:_0x4c1799}=_0x598bae;return{'user':_0x20e3da,'url':_0x428e18,'getworks':_0x13d798,'accepted':_0x2604ed,'rejected':_0x3c39cb,'discarded':_0x4c1799};});}}return{'frequency':_0x30e770,'pools':_0x4b4a67,'volts':_0x2d417f};}};_0x5c8701[_0x1456bb(0x1a7)]=_0x5c8701[_0x1456bb(0x168)],_0x5c8701[_0x1456bb(0x25c)]=_0x5c8701[_0x1456bb(0x168)],_0x5c8701[_0x1456bb(0x1fb)]=_0x5c8701['Whatsminer'],_0x5c8701[_0x1456bb(0x1af)]=_0x5c8701['Whatsminer'],_0x5c8701[_0x1456bb(0x1aa)]=_0x5c8701[_0x1456bb(0x2a1)],_0x5c8701[_0x1456bb(0x152)]=_0x5c8701[_0x1456bb(0x2a1)],_0x5c8701[_0x1456bb(0x15c)]=_0x5c8701[_0x1456bb(0x224)];const _0x1e17d7=_0x5c8701[_0x5f184e];if(!_0x1e17d7)return console[_0x1456bb(0x2a6)](_0x1456bb(0x15b)+_0x5f184e,_0x416b6d),null;const _0x1113f7=_0x1e17d7(_0x416b6d,_0x1aed45);return _0x1113f7;};const rePoolName=/((?:\d+\.){3}\d+|[^\.\:\/]+)(?:\.\w+)\:\d{2,}/;async function getActivePoolName(_0x12909f){const _0x2e8f2e=_0x1e1f7a,_0x26b32a=_0x12909f[_0x2e8f2e(0x2a5)](({status:_0x5ed584})=>/alive/i['test'](_0x5ed584));let _0xc32f61='',_0x264023;return _0x26b32a&&(_0x264023=await extractAccountAndWorkerNumber({'poolWorkers':[_0x26b32a[_0x2e8f2e(0x16a)]]}),_0xc32f61=(_0x26b32a[_0x2e8f2e(0x1a3)]['match'](rePoolName)||[_0x2e8f2e(0x287)])[0x1]),{'poolName':_0xc32f61,'extracted':_0x264023};}async function parseMinerStatus({minerStatus:_0x315bae,minerTyped:_0x35db2e,apiVersion:_0x13602e}){const _0x35c8c1=_0x1e1f7a;var _0x5844d4={'Antminer':async function(_0x5f382e,_0x108cf7){const _0x3e10d=_0x4ef4;let _0x14d6c8=0x0,_0x3c7516=0x0,_0x2f8ff8=_0x3e10d(0x259),_0x5c3dd0=[],_0x590140=[],_0x4aa682=[],_0x1ce21d=0x0,_0xaa4863=0x0,_0x2188fc=0x0,_0x4b72e6=[],_0xe1fe6d=[],_0xef77a4={'accountName':'','workerName':'','workerTypeNumber':''},_0x166341={},_0x2f44fb=0x0,_0x55d3e2=0x0,_0x403ab8=0x0,_0x28d9e3=0x0,_0x4ec524=0x0,_0x49e2eb=[0x0],_0x23c4db=0x0,_0x4852fa=0x0,_0x19a56d=0x0;if(_0x5f382e&&_0x5f382e[_0x3e10d(0x176)]){console['debug'](global[_0x3e10d(0x288)][_0x3e10d(0x156)],_0x3e10d(0x238),_0x5f382e[_0x3e10d(0x176)]),_0x403ab8=parseInt(_0x5f382e[_0x3e10d(0x176)][_0x3e10d(0x1f8)]||'0',0xa),_0x14d6c8=parseFloat(_0x5f382e['summary'][_0x3e10d(0x2b9)]||'0'),_0x3c7516=parseFloat(_0x5f382e[_0x3e10d(0x176)]['ghsav']||'0'),_0x19a56d=parseInt(_0x5f382e[_0x3e10d(0x176)][_0x3e10d(0x2b6)]||'0',0xa),_0x4852fa=parseInt(_0x5f382e[_0x3e10d(0x176)][_0x3e10d(0x26e)]||'0',0xa),_0x28d9e3=parseInt(_0x5f382e['summary'][_0x3e10d(0x2d5)]||'0',0xa),_0x4ec524=parseInt(_0x5f382e['summary']['rejected']||'0',0xa),_0x49e2eb=[parseInt(_0x5f382e[_0x3e10d(0x176)]['hw']||'0',0xa)],_0x23c4db=parseFloat(_0x5f382e[_0x3e10d(0x176)][_0x3e10d(0x2b0)]||'0'),_0xe1fe6d=_0x5f382e[_0x3e10d(0x1a2)]||[];const _0x140a52=_0xe1fe6d['find'](({status:_0x468453})=>/alive/i[_0x3e10d(0x1bd)](_0x468453));_0x140a52&&(_0xef77a4=await extractAccountAndWorkerNumber({'poolWorkers':[_0x140a52[_0x3e10d(0x16a)]]}),_0x2f8ff8=(_0x140a52[_0x3e10d(0x1a3)][_0x3e10d(0x207)](rePoolName)||['Unknown'])[0x1]);if(_0x5f382e[_0x3e10d(0x2d8)]&&_0x5f382e[_0x3e10d(0x2d8)][0x0]){let _0xe070ae=_0x5f382e[_0x3e10d(0x2d8)][0x0];if(isNaN(_0xe070ae[_0x3e10d(0x14e)])){let _0x3bae16=/frequency1/i[_0x3e10d(0x1bd)](_0xe070ae[_0x3e10d(0x14e)])?_0xe070ae[_0x3e10d(0x14e)]:_0x3e10d(0x27b)+_0xe070ae[_0x3e10d(0x14e)];_0x3bae16=_0x3bae16[_0x3e10d(0x2de)](/":"/g,'=')[_0x3e10d(0x2de)](/=/g,_0x3e10d(0x1f3))[_0x3e10d(0x2de)](/,/g,'\x22,\x22')[_0x3e10d(0x2de)](/"{/g,'{\x22')['replace'](/}"/g,'\x22}')['replace'](/{""}/g,'{}')['replace'](/(:"[^,]+"):"[^,]+",/g,_0x3e10d(0x16b));try{_0x166341=JSON['parse']('{\x22'+_0x3bae16+'\x22}');}catch(_0x2948ab){console['warn'](_0x3e10d(0x159),_0xe070ae['freq']);}const _0x96101e=_0x108cf7&&_0x108cf7[_0x3e10d(0x285)]?new RegExp(_0x108cf7[_0x3e10d(0x285)]+_0x3e10d(0x1cf),'g'):/temp\d=(\d\d+)\,/g,_0xc3d211=_0x108cf7&&_0x108cf7[_0x3e10d(0x2e0)]?new RegExp(_0x108cf7[_0x3e10d(0x2e0)]+'=(\x5cd+)[,\x5c.]','g'):/freq(?:_avg)\d=(\d\d+)[\,\.]/g,_0x519eab=_0x108cf7&&_0x108cf7[_0x3e10d(0x246)]?new RegExp(_0x108cf7[_0x3e10d(0x246)]+_0x3e10d(0x1cf),'g'):/fan\d=(\d\d+)\,/g;_0x5c3dd0=(_0xe070ae['freq']['match'](_0x96101e)||['=0,'])[_0x3e10d(0x23b)](_0x26f5e7=>parseInt(_0x26f5e7[_0x3e10d(0x207)](/=(\d+),/)[0x1])),_0x4aa682=(_0xe070ae['freq'][_0x3e10d(0x207)](_0xc3d211)||['=0,'])[_0x3e10d(0x23b)](_0x1e5a0a=>parseInt(_0x1e5a0a[_0x3e10d(0x207)](/=(\d+)[,\.]/)[0x1])),_0x590140=(_0xe070ae[_0x3e10d(0x14e)][_0x3e10d(0x207)](_0x519eab)||[_0x3e10d(0x271)])['map'](_0x5f12fb=>parseInt(_0x5f12fb[_0x3e10d(0x207)](/=(\d+)[,\.]/)[0x1]));}else{_0x5c3dd0=_0x5f382e['devs'][_0x3e10d(0x23b)](_0x5bdb8d=>{const _0xb6f155=_0x3e10d;if(!_0x5bdb8d[_0xb6f155(0x1a4)])return _0x5bdb8d['temp'];let _0x44391b=_0x5bdb8d[_0xb6f155(0x1a4)]+'-'+(_0x5bdb8d[_0xb6f155(0x19e)]||0x0),_0x2776a5=_0x44391b[_0xb6f155(0x2de)](/(^-|-$)/,'')['split'](/\-+/);return Math[_0xb6f155(0x1e1)](..._0x2776a5);}),_0x4aa682=_0x5f382e[_0x3e10d(0x2d8)][_0x3e10d(0x23b)](_0x53f9a7=>!isNaN(_0x53f9a7[_0x3e10d(0x14e)])?parseInt(_0x53f9a7[_0x3e10d(0x14e)]):0x0);const _0xb3d97c=[_0xe070ae['fan1'],_0xe070ae[_0x3e10d(0x280)],_0xe070ae[_0x3e10d(0x189)],_0xe070ae[_0x3e10d(0x196)],_0xe070ae[_0x3e10d(0x1e0)],_0xe070ae[_0x3e10d(0x22f)],_0xe070ae[_0x3e10d(0x185)],_0xe070ae['fan8']];_0x590140=_0xb3d97c['filter'](_0xdec054=>_0xdec054>0x0);_0x590140[_0x3e10d(0x25f)]%0x2===0x1&&_0x590140[_0x3e10d(0x26b)](0x0);const _0x3384ef=_0x5f382e[_0x3e10d(0x2d8)][_0x3e10d(0x23b)](_0x4cf6ed=>_0x4cf6ed[_0x3e10d(0x1b9)]||_0x4cf6ed['voltage']);_0x2f44fb=_0x3384ef[_0x3e10d(0x1dd)]((_0x279f9a,_0x1a5a7d)=>Math[_0x3e10d(0x1e1)](parseInt(_0x279f9a,0xa),parseInt(_0x1a5a7d,0xa)));_0x2f44fb>=0x64&&(_0x2f44fb=_0x2f44fb/(_0x2f44fb>=0x2710?0x3e8:0x64));const _0x4f0af4=_0x5f382e[_0x3e10d(0x2d8)]['map'](_0x2528f2=>_0x2528f2[_0x3e10d(0x235)]);_0x55d3e2=_0x4f0af4[_0x3e10d(0x1dd)]((_0x560bc6,_0x2ce791)=>parseInt(_0x560bc6,0xa)+parseInt(_0x2ce791,0xa)),_0x49e2eb=_0x5f382e[_0x3e10d(0x2d8)]['map'](_0x4adf18=>_0x4adf18['hw']);}_0x1ce21d=_0x4aa682[0x0]||_0x4aa682[0x1]||_0x4aa682[0x2]||parseInt(_0x166341[_0x3e10d(0x14e)]),_0xaa4863=_0x590140,_0x2188fc=_0x590140[_0x590140[_0x3e10d(0x25f)]-0x1];if(_0x108cf7&&_0x108cf7['cardChipCount']&&_0xe070ae['freq'])for(var _0x2da517=0x0;_0x2da517<_0x108cf7[_0x3e10d(0x1ff)][_0x3e10d(0x25f)];_0x2da517++){let _0x3ff89d=_0x108cf7[_0x3e10d(0x1ff)][_0x2da517],_0x20d383=new RegExp(_0x3e10d(0x21e)+_0x108cf7[_0x3e10d(0x1ff)][_0x2da517]+_0x3e10d(0x2d3)),_0x39483b=_0x108cf7[_0x3e10d(0x2c9)]-((_0xe070ae[_0x3e10d(0x14e)][_0x3e10d(0x207)](_0x20d383)||['',''])[0x1][_0x3e10d(0x207)](/o/g)||[])['length'];_0x39483b>0x0&&_0x4b72e6['push']({'chain':_0x3ff89d,'chipFailCount':_0x39483b});;}}}let _0x2266d7=0xbb8;_0x108cf7[_0x3e10d(0x24b)]&&(_0x2266d7=parseInt((_0x108cf7['powerEfficiency']||0x0)*_0x3c7516));(_0x55d3e2<=0x0||_0x55d3e2>_0x2266d7*1.2)&&(_0x55d3e2=_0x2266d7>0x2710?CONSUMPTION_DEFAULT:_0x2266d7);let _0x309d53={'hashRate':_0x14d6c8,'hashRateAvg':_0x3c7516,'poolName':_0x2f8ff8,'temperatures':_0x5c3dd0,'frequency':_0x1ce21d,'pools':_0xe1fe6d,'intakeSpeed':_0xaa4863,'exhaustSpeed':_0x2188fc,'cardFailureChains':_0x4b72e6,'cardStatus':_0x166341,'elapsed':_0x403ab8,'volts':_0x2f44fb,'consumption':_0x55d3e2,'accepted':_0x28d9e3,'rejected':_0x4ec524,'hardwareErrors':_0x49e2eb,'sharesPerMinute':_0x23c4db,'foundBlocks':_0x19a56d,'workGetCount':_0x4852fa};return console[_0x3e10d(0x1a8)](global[_0x3e10d(0x288)][_0x3e10d(0x177)],_0x3e10d(0x2aa),_0x309d53,_0xef77a4),{..._0x309d53,..._0xef77a4};},'Antminer_X19':async function(_0x3cc9a6,_0x1dfc9f){const _0x31be26=_0x4ef4;let _0x137f62=0x0,_0x5ca938=0x0,_0x195fc4=_0x31be26(0x259),_0x10eae8=[],_0x1b18cd=[],_0x169c00=[],_0x1fe00e=0x0,_0x18e601=0x0,_0x1db732=0x0,_0x2d2cd5=[],_0xf2a731={'accountName':'','workerName':'','workerTypeNumber':''},_0x526507={},_0x479093=0x0,_0x229909=0x0;const _0x482da7=_0x3cc9a6[_0x31be26(0x176)]||_0x3cc9a6[_0x31be26(0x244)][0x0];let {Accepted:_0xb2b367=0x0,Rejected:_0x2f07da=0x0,Elapsed:_0x47cc89=0x0,Getwork:_0x1ef754=0x0,'Found\x20Blocks':_0x25bcca=0x0,'Hardware\x20Errors':_0x5a5ec9,Utility:_0x73d7a4=0x0}=_0x482da7||{};_0x5a5ec9=[_0x5a5ec9||0x0];const _0x455b47=(_0x3cc9a6[_0x31be26(0x1a2)]||_0x3cc9a6[_0x31be26(0x1f1)])['map'](({User:_0x42671d,URL:_0x541b6e,Status:_0x2516d2,Getworks:_0x5f13a3,Accepted:_0x293bee,Rejected:_0x2b374b,Discarded:_0x26fd6c})=>({'user':_0x42671d,'url':_0x541b6e,'status':_0x2516d2,'getworks':_0x5f13a3,'accepted':_0x293bee,'rejected':_0x2b374b,'discarded':_0x26fd6c}));if(_0x482da7){console[_0x31be26(0x1a8)](global['colorize'][_0x31be26(0x156)],_0x31be26(0x238),_0x482da7),_0x137f62=parseFloat(_0x482da7[_0x31be26(0x2dc)]||'0'),_0x5ca938=parseFloat(_0x482da7['GHS\x20av']||'0');if(_0x1dfc9f&&_0x1dfc9f['cardIDs']){_0x526507=_0x482da7[_0x31be26(0x180)]||_0x3cc9a6[_0x31be26(0x2a2)][0x1];for(var _0x5cbaf7=0x0;_0x5cbaf7<_0x1dfc9f['cardIDs'][_0x31be26(0x25f)];_0x5cbaf7++){const _0x534ba5=_0x1dfc9f[_0x31be26(0x1ff)][_0x5cbaf7],_0x2d5841=_0x526507[_0x31be26(0x268)+_0x534ba5]-_0x526507[_0x31be26(0x21e)+_0x534ba5];if(!_0x2d5841)continue;const _0x3a134a=_0x2d5841[_0x31be26(0x2de)](/[^o]/ig,'')[_0x31be26(0x25f)];_0x3a134a>0x0&&_0x2d2cd5[_0x31be26(0x26b)]({'cardId':_0x534ba5,'chipFailCount':_0x3a134a});;let _0x46803f=_0x526507[_0x31be26(0x157)+_0x534ba5]||_0x526507['temp_out_chip_'+_0x534ba5],_0x42109c=_0x46803f[_0x31be26(0x2bf)]('-')[_0x31be26(0x23b)](_0x5b1a47=>parseInt(_0x5b1a47||'0'));_0x10eae8[_0x31be26(0x26b)](Math[_0x31be26(0x1e1)](..._0x42109c)),_0x169c00[_0x31be26(0x26b)](_0x526507['freq'+_0x534ba5]);}_0x1b18cd=[_0x526507[_0x31be26(0x1fc)],_0x526507[_0x31be26(0x280)],_0x526507[_0x31be26(0x189)],_0x526507[_0x31be26(0x196)]],_0x1fe00e=average(_0x169c00),_0x18e601=_0x1b18cd,_0x1db732=_0x1b18cd[_0x1b18cd[_0x31be26(0x25f)]-0x1];}}const _0x1ff799=_0x455b47['find'](({status:_0x390e39})=>/alive/i[_0x31be26(0x1bd)](_0x390e39));_0x1ff799&&(_0xf2a731=await extractAccountAndWorkerNumber({'poolWorkers':[_0x1ff799[_0x31be26(0x16a)]]}),_0x195fc4=(_0x1ff799[_0x31be26(0x1a3)][_0x31be26(0x207)](rePoolName)||['Unknown'])[0x1]);let _0x2adf38=0xbb8;_0x1dfc9f[_0x31be26(0x24b)]&&(_0x2adf38=parseInt((_0x1dfc9f['powerEfficiency']||0x0)*_0x5ca938));(_0x229909<=0x0||_0x229909>_0x2adf38*1.2)&&(_0x229909=_0x2adf38>0x2710?CONSUMPTION_DEFAULT:_0x2adf38);let _0x2a71e5={'hashRate':_0x137f62,'hashRateAvg':_0x5ca938,'poolName':_0x195fc4,'temperatures':_0x10eae8,'frequency':_0x1fe00e,'pools':_0x455b47,'intakeSpeed':_0x18e601,'exhaustSpeed':_0x1db732,'cardFailureChains':_0x2d2cd5,'cardStatus':_0x526507,'elapsed':_0x47cc89,'volts':_0x479093,'consumption':_0x229909,'accepted':_0xb2b367,'rejected':_0x2f07da,'hardwareErrors':_0x5a5ec9,'sharesPerMinute':_0x73d7a4,'foundBlocks':_0x25bcca,'workGetCount':_0x1ef754};return console['debug'](global[_0x31be26(0x288)][_0x31be26(0x177)],_0x31be26(0x2aa),_0x2a71e5,_0xf2a731),{..._0x2a71e5,..._0xf2a731};},'AvalonMiner':async function(_0x484c59,_0x599529){const _0x55ea2b=_0x4ef4,_0x539152=JSON['parse']((_0x484c59['response']||_0x484c59)['replace'](/^[^{]*{/,'{')['replace'](/,?\s*}\);\s*UpdatePageCallback[^}]*}\);\s*$/,'}')[_0x55ea2b(0x2de)](/[^\x1F-\x7F]+/g,'')[_0x55ea2b(0x2de)](/":([^"][^,"]*)"?([,}])/g,_0x55ea2b(0x21f)));let {elapsed:_0x31c631,av:_0x182db5,url:_0x9cf11b,worker:_0x4fe6aa,accepted:_0x1ce54b,reject:_0x1bf64c,temperature:_0x4320ee,fan:_0x5bc99e,hash_5m:_0x333c23}=_0x539152,_0x5d2c4e,_0x375f01;_0x333c23=_0x333c23*0x3e8,_0x182db5=_0x182db5*0x3e8;const _0x38def3=[(_0x4320ee[_0x55ea2b(0x207)](/\/\s(\d+)/)||[0x0])[0x1]],_0x8de56b=_0x5bc99e*0x46,_0x2d0b0f=_0x8de56b,_0x73391f=[{'url':_0x9cf11b,'user':_0x4fe6aa}],_0x5542a6=_0x31c631['match'](/(?:(\d+)\s+d\s)?(?:(\d+)\s+h\s)?(?:(\d+)\s+m\s)?(?:(\d+)\s+s\s?)?/i);_0x5542a6[_0x55ea2b(0x25f)]&&(_0x31c631=parseInt(_0x5542a6[0x1]||0x0)*0x15180+parseInt(_0x5542a6[0x2]||0x0)*0xe10+parseInt(_0x5542a6[0x3]||0x0)*0x3c+parseInt(_0x5542a6[0x4]||0x0));if(_0x73391f[0x0]&&_0x73391f[0x0]['user']){const _0x38a0b9=_0x73391f[_0x55ea2b(0x2a5)](({status:_0x2d220a})=>/alive/i['test'](_0x2d220a))||_0x73391f[0x0];_0x5d2c4e=await extractAccountAndWorkerNumber({'poolWorkers':[_0x38a0b9[_0x55ea2b(0x16a)]||_0x73391f[0x0]?.[_0x55ea2b(0x16a)]]}),_0x375f01=(_0x38a0b9[_0x55ea2b(0x1a3)][_0x55ea2b(0x207)](rePoolName)||['Unknown'])[0x1];}const _0xa5400a=parseInt((_0x599529[_0x55ea2b(0x24b)]||0x0)*_0x182db5);let _0x3ee054={'hashRate':_0x333c23,'hashRateAvg':_0x182db5,'poolName':_0x375f01,'temperatures':_0x38def3,'pools':_0x73391f,'intakeSpeed':_0x8de56b,'exhaustSpeed':_0x2d0b0f,'elapsed':_0x31c631,'consumption':_0xa5400a,'accepted':_0x1ce54b,'rejected':_0x1bf64c};return console[_0x55ea2b(0x1a8)](global[_0x55ea2b(0x288)]['Green'],'Parsing\x20miner\x20status\x20result',_0x3ee054,_0x5d2c4e),{..._0x3ee054,..._0x5d2c4e};},'Dragonmint':async function(_0x32d4bf,_0x2a61f9){const _0x4466d6=_0x4ef4;let _0xa94ad3=0x0,_0x54bd75=0x0,_0x231fae='DEAD',_0x2b73e5=[],_0x1c88fd=0x0,_0xe6d51e=0x0,_0xa12f2e=0x0,_0x1be217=[],_0x515b71=[],_0x539218={'accountName':'','workerName':'','workerTypeNumber':''},_0x3e3c2b={},_0x52db7f=0x0;const _0x197dd8=_0x32d4bf?.['DEVS']||_0x32d4bf?.[_0x4466d6(0x2d8)]||[],_0x300ee4=_0x197dd8[0x0];if(_0x300ee4){const _0x28174f=_['map'](_0x197dd8,_0x4466d6(0x20b))[_0x4466d6(0x298)]([0x0]),_0x20b33a=_[_0x4466d6(0x23b)](_0x197dd8,'MHS\x20av')[_0x4466d6(0x298)]([0x0]);_0xa94ad3=parseInt(_0x28174f['reduce']((_0x115019,_0x23e671)=>(_0x115019||0x0)+(_0x23e671||0x0))/0x3e8),_0x54bd75=parseInt(_0x20b33a[_0x4466d6(0x1dd)]((_0x434bbb,_0x95c604)=>(_0x434bbb||0x0)+(_0x95c604||0x0))/0x3e8),_0x1c88fd=parseInt(parseFloat(_0x300ee4[_0x4466d6(0x28e)]||0x0)*0x64),_0x2b73e5=_[_0x4466d6(0x23b)](_0x197dd8,_0x4466d6(0x251)),_0x3e3c2b=_0x32d4bf[_0x4466d6(0x2a2)],_0x52db7f=parseInt(_0x300ee4['Device\x20Elapsed']);const _0x3e915f=_0x32d4bf?.[_0x4466d6(0x1f1)]||_0x32d4bf?.[_0x4466d6(0x1a2)]||[];_0x515b71=_0x3e915f[_0x4466d6(0x23b)](({User:_0x200403,URL:_0x18a329,Status:_0x3dd2b7,Getworks:_0x519292,Accepted:_0x57ed0e,Rejected:_0x50c3d1,Discarded:_0x4dcd86})=>({'user':_0x200403,'url':_0x18a329,'status':_0x3dd2b7,'getworks':_0x519292,'accepted':_0x57ed0e,'rejected':_0x50c3d1,'discarded':_0x4dcd86}));const _0x36fa01=_0x515b71['find'](({status:_0x392365})=>/alive/i[_0x4466d6(0x1bd)](_0x392365));_0x36fa01&&(_0x539218=await extractAccountAndWorkerNumber({'poolWorkers':[_0x36fa01[_0x4466d6(0x16a)]]}),_0x231fae=(_0x36fa01[_0x4466d6(0x1a3)][_0x4466d6(0x207)](rePoolName)||[_0x4466d6(0x287)])[0x1]);const _0x3da0a9=_0x32d4bf?.['HARDWARE']||_0x32d4bf?.['hardware'];_0x3da0a9&&(_0xe6d51e=parseInt(_0x3da0a9[_0x4466d6(0x28b)])/0x64*0x1964,_0xa12f2e=parseInt(_0x3da0a9[_0x4466d6(0x28b)])/0x64*0x1964);const _0x565dae=_0x32d4bf?.[_0x4466d6(0x244)]||_0x32d4bf?.[_0x4466d6(0x2a2)];_0x565dae&&(_0xe6d51e=parseInt((JSON['stringify'](_0x565dae)[_0x4466d6(0x207)](/fan1\[(\d+)\]/i)||[0x0])[0x1]),_0xa12f2e=parseInt((JSON[_0x4466d6(0x1b4)](_0x565dae)[_0x4466d6(0x207)](/fan2\[(\d+)\]/i)||[0x0])[0x1]));}const _0x390403=parseInt((_0x2a61f9[_0x4466d6(0x24b)]||0x0)*_0x54bd75);return{'hashRate':_0xa94ad3,'hashRateAvg':_0x54bd75,'poolName':_0x231fae,'temperatures':_0x2b73e5,'frequency':_0x1c88fd,'pools':_0x515b71,'intakeSpeed':_0xe6d51e,'exhaustSpeed':_0xa12f2e,'cardFailureChains':_0x1be217,'cardStatus':_0x3e3c2b,'elapsed':_0x52db7f,'consumption':_0x390403,..._0x539218};},'Innosilicon':async function(_0x26a228,_0x5282b5){const _0x4ac7cb=_0x4ef4;let _0x507e05=0x0,_0x3e0073=0x0,_0x44df2b=_0x4ac7cb(0x259),_0x25be4d=[],_0x5677dd=0x0,_0x18a151=0x0,_0x57d11b=0x0,_0x145f48=[],_0x1e46ae=[],_0x123c1d={'accountName':'','workerName':'','workerTypeNumber':''},_0x1dd701={},_0x1f4664=0x0;if(_0x26a228&&_0x26a228[_0x4ac7cb(0x1ee)]){const _0x208f3c=_0x26a228['DEVS'][0x0],_0xeb422=_['map'](_0x26a228['DEVS'],_0x4ac7cb(0x20b))[_0x4ac7cb(0x298)]([0x0]),_0x6af580=_['map'](_0x26a228[_0x4ac7cb(0x1ee)],_0x4ac7cb(0x20b))['concat']([0x0]);_0x507e05=parseInt(_0xeb422['reduce']((_0x499879,_0x2033cc)=>(_0x499879||0x0)+(_0x2033cc||0x0))/0x3e8),_0x3e0073=parseInt(_0x6af580[_0x4ac7cb(0x1dd)]((_0x32a31a,_0x336f0b)=>(_0x32a31a||0x0)+(_0x336f0b||0x0))/0x3e8),_0x5677dd=parseInt(parseFloat(_0x208f3c[_0x4ac7cb(0x28e)]||0x0)*0x64),_0x25be4d=_[_0x4ac7cb(0x23b)](_0x26a228[_0x4ac7cb(0x1ee)],'Temperature'),_0x1dd701=_0x26a228[_0x4ac7cb(0x244)],_0x1f4664=parseInt(_0x208f3c[_0x4ac7cb(0x141)]),_0x1e46ae=_[_0x4ac7cb(0x23b)](_0x26a228[_0x4ac7cb(0x1f1)]||[],_0x2ca2e0=>{const _0x332500=_0x4ac7cb;return{'user':_0x2ca2e0['User'],'url':_0x2ca2e0['URL'],'getworks':_0x2ca2e0[_0x332500(0x18b)],'accepted':_0x2ca2e0[_0x332500(0x239)],'rejected':_0x2ca2e0['Rejected'],'discarded':_0x2ca2e0['Discarded']};});const _0x266234=_0x1e46ae[0x0];_0x266234&&(_0x123c1d=await extractAccountAndWorkerNumber({'poolWorkers':[_0x266234[_0x4ac7cb(0x16a)]]}),_0x44df2b=(_0x266234['url'][_0x4ac7cb(0x207)](rePoolName)||[_0x4ac7cb(0x287)])[0x1]);if(_0x26a228['HARDWARE']){const _0x26de88=_0x26a228['HARDWARE'];_0x18a151=parseInt(_0x26de88[_0x4ac7cb(0x28b)])/0x64*0x1964,_0x57d11b=parseInt(_0x26de88['Fan\x20duty'])/0x64*0x1964;}}const _0x3c071f=parseInt((_0x5282b5[_0x4ac7cb(0x24b)]||0x0)*_0x3e0073);return{'hashRate':_0x507e05,'hashRateAvg':_0x3e0073,'poolName':_0x44df2b,'temperatures':_0x25be4d,'frequency':_0x5677dd,'pools':_0x1e46ae,'intakeSpeed':_0x18a151,'exhaustSpeed':_0x57d11b,'cardFailureChains':_0x145f48,'cardStatus':_0x1dd701,'elapsed':_0x1f4664,'consumption':_0x3c071f,..._0x123c1d};},'StuMiner':async function(_0x75f7f0,_0x11f179){const _0x3f8547=_0x4ef4,{'ghsav':_0x4af4cf,elapsed:_0x190d1b,'foundblocks':_0x1a9105,'utility':_0x3fc8c2,'fan1':_0x5debbc,'fan2':_0x275ca7,'wu':_0x17b243}=_0x75f7f0['summary'],_0xf8cad9=_0x75f7f0[_0x3f8547(0x2d8)],_0x5d2541=_0xf8cad9[_0x3f8547(0x23b)](_0x3fa04b=>parseFloat(_0x3fa04b[_0x3f8547(0x228)]||0x0)),_0x484270=_0xf8cad9['reduce']((_0x51a25a,_0x4e8ac6)=>_0x51a25a+parseInt(_0x4e8ac6[_0x3f8547(0x174)],0xa),0x0),_0x3faf38=_0xf8cad9['reduce']((_0x101f6a,_0x13b6a9)=>_0x101f6a+parseInt(_0x13b6a9[_0x3f8547(0x203)],0xa),0x0),_0x1dd17d=_0xf8cad9[_0x3f8547(0x1dd)]((_0x5dccd5,_0x5e905a)=>Math[_0x3f8547(0x1e1)](parseInt(_0x5dccd5[_0x3f8547(0x1c9)],0xa),parseInt(_0x5e905a['dev_freq'],0xa)),0x0),_0x422893=_0xf8cad9['map'](_0x3e9030=>parseFloat(_0x3e9030[_0x3f8547(0x25e)]||0x0))[_0x3f8547(0x1dd)]((_0x4922b3,_0x1214d9)=>_0x4922b3+_0x1214d9,0x0),_0x152fa7=parseInt((_0x11f179[_0x3f8547(0x24b)]||0x0)*parseInt(_0x4af4cf||0x0,0xa));let _0x3d520c={'hashRate':_0x422893,'hashRateAvg':_0x4af4cf,'elapsed':_0x190d1b,'accepted':_0x484270,'rejected':_0x3faf38,'sharesPerMinute':_0x3fc8c2,'exhaustSpeed':_0x275ca7,'intakeSpeed':_0x5debbc,'temperatures':_0x5d2541,'frequency':_0x1dd17d,'consumption':_0x152fa7,'foundBlocks':_0x1a9105,'workGetCount':_0x17b243},_0x222d06,_0x174a08,_0x28b0ae;if(_0x75f7f0[_0x3f8547(0x1a2)]&&_0x75f7f0['pools'][0x0]){const _0x5d4994=_0x75f7f0[_0x3f8547(0x1a2)][0x0];_0x222d06=_0x75f7f0[_0x3f8547(0x1a2)][_0x3f8547(0x23b)](_0x605327=>{const _0x2a6cb9=_0x3f8547;return{'user':_0x605327[_0x2a6cb9(0x16a)],'url':_0x605327[_0x2a6cb9(0x1a3)]};});const _0x42cd49=_0x222d06[_0x3f8547(0x23b)](_0x5a2b7a=>_0x5a2b7a[_0x3f8547(0x16a)]);_0x174a08=await extractAccountAndWorkerNumber({'poolWorkers':_0x42cd49}),_0x28b0ae=(_0x5d4994['url'][_0x3f8547(0x207)](/((?:\d+\.){3}\d+|[^\.\:\/]+)(?:\.\w+)\:\d{2,}/)||[_0x3f8547(0x287)])[0x1];}return console[_0x3f8547(0x1a8)](global[_0x3f8547(0x288)][_0x3f8547(0x28d)],_0x3f8547(0x199),_0x3d520c,_0x174a08,_0x222d06,_0x28b0ae),{..._0x174a08,..._0x3d520c,'pools':_0x222d06,'poolName':_0x28b0ae};},'Whatsminer':async function(_0x1465e5,_0x1fce5d){const _0x12044e=_0x4ef4,{'MHS\x205s':_0x365f7e,'MHS\x20av':_0x920f44,'GHS\x205s':_0xf1596d,'GHS\x20av':_0x1208fd,'Temperature':_0xdf707f,'freq_avg':_0x44569c,'Elapsed':_0x225b4c,'Voltage':_0x132618,'Power':_0x23ce94,'Accepted':_0x59975f,'Fan\x20Speed\x20In':_0x451d54,'Fan\x20Speed\x20Out':_0x1f4b6a,'Rejected':_0x32c09f,'Hardware\x20Errors':_0x1a707b,'Utility':_0x18cb21,'Found\x20Blocks':_0x323177,'Getworks':_0x530821}=_0x1465e5[_0x12044e(0x176)];let _0x5eb395={'hashRate':_0x365f7e?_0x365f7e/0x3e8:_0xf1596d,'hashRateAvg':_0x920f44?_0x920f44/0x3e8:_0x1208fd,'elapsed':_0x225b4c,'volts':_0x132618,'consumption':_0x23ce94,'accepted':_0x59975f,'rejected':_0x32c09f,'hardwareErrors':_0x1a707b,'sharesPerMinute':_0x18cb21,'exhaustSpeed':_0x1f4b6a,'intakeSpeed':_0x451d54,'frequency':_0x44569c,'foundBlocks':_0x323177,'workGetCount':_0x530821};!isNaN(_0x5eb395[_0x12044e(0x17b)])&&parseInt(_0x5eb395[_0x12044e(0x17b)])>0xf4240&&(_0x5eb395[_0x12044e(0x17b)]=_0x5eb395[_0x12044e(0x17b)]/0x3e8);!isNaN(_0x5eb395[_0x12044e(0x145)])&&parseInt(_0x5eb395[_0x12044e(0x145)])>0xf4240&&(_0x5eb395[_0x12044e(0x145)]=_0x5eb395[_0x12044e(0x145)]/0x3e8);_0x5eb395[_0x12044e(0x253)]=[_0x1a707b],_0x5eb395['temperatures']=[_0xdf707f],_0x5eb395[_0x12044e(0x1d2)]=parseInt(_0x5eb395['volts']/0xa)/0xa;let _0x1fa9a4=_0x1465e5[_0x12044e(0x1a2)]||_0x1465e5[_0x12044e(0x1f1)],_0x6dd9b2,_0xb00095='DEAD';_0x1fa9a4&&(_0x1fa9a4=_0x1fa9a4[_0x12044e(0x23b)](({User:_0x3db1dc,URL:_0x161ba2,Status:_0x204348,Getworks:_0x4ddcc2,Accepted:_0x2a9618,Rejected:_0x21b585,Discarded:_0x14e0b4})=>({'user':_0x3db1dc,'url':_0x161ba2,'status':_0x204348,'getworks':_0x4ddcc2,'accepted':_0x2a9618,'rejected':_0x21b585,'discarded':_0x14e0b4})));const _0x5c60bc=_0x1fa9a4?_0x1fa9a4[0x0]:null;_0x5c60bc&&(_0x6dd9b2=await extractAccountAndWorkerNumber({'poolWorkers':[_0x5c60bc[_0x12044e(0x16a)]]}),_0xb00095=(_0x5c60bc[_0x12044e(0x1a3)][_0x12044e(0x207)](rePoolName)||[_0x12044e(0x287)])[0x1]);const _0x39e53f=[];return console[_0x12044e(0x1a8)](global[_0x12044e(0x288)][_0x12044e(0x28d)],'Whatsminer\x20parsing\x20miner\x20status\x20result',_0x5eb395,_0x6dd9b2,_0x1fa9a4,_0xb00095,_0x39e53f),{..._0x6dd9b2,..._0x5eb395,'pools':_0x1fa9a4,'poolName':_0xb00095};},'ZigMiner':async function(_0x1ada68,_0x10d9ce){const _0x2d847e=_0x4ef4,{hashRate:_0x49792f,accepted:_0xc4ec05,rejected:_0x411c58,temperatures:_0x514f68,'upTime':_0x500e70,'fanIn':_0x4854e9,'fanOut':_0x3b31d9,'errors':_0x34c0eb}=_0x1ada68['summary'];let _0x291f32={'hashRate':_0x49792f*0x3e8,'temperatures':_0x514f68,'elapsed':_0x500e70,'accepted':_0xc4ec05,'rejected':_0x411c58,'hardwareErrors':_0x34c0eb,'exhaustSpeed':_0x3b31d9,'intakeSpeed':_0x4854e9};_0x291f32['hardwareErrors']=[_0x34c0eb];let _0x343dbd,_0x472730,_0x7f2c61;if(_0x1ada68['pools_details']&&_0x1ada68[_0x2d847e(0x214)][0x0]&&_0x1ada68[_0x2d847e(0x214)][0x0][_0x2d847e(0x155)]){const _0x5a04e5=_0x1ada68[_0x2d847e(0x214)][0x0];_0x343dbd=_0x1ada68[_0x2d847e(0x214)][_0x2d847e(0x23b)](_0x2066f2=>{const _0x18665c=_0x2d847e;return{'user':_0x2066f2[_0x18665c(0x155)],'url':_0x2066f2['url']};});const _0x2e38c3=_0x343dbd[_0x2d847e(0x23b)](_0x20577e=>_0x20577e[_0x2d847e(0x16a)]);_0x472730=await extractAccountAndWorkerNumber({'poolWorkers':_0x2e38c3}),_0x7f2c61=(_0x5a04e5[_0x2d847e(0x1a3)][_0x2d847e(0x207)](/((?:\d+\.){3}\d+|[^\.\:\/]+)(?:\.\w+)\:\d{2,}/)||['Unknown'])[0x1];}return console['debug'](global[_0x2d847e(0x288)][_0x2d847e(0x28d)],'Whatsminer\x20parsing\x20miner\x20status\x20result',_0x291f32,_0x472730,_0x343dbd,_0x7f2c61),{..._0x472730,..._0x291f32,'pools':_0x343dbd,'poolName':_0x7f2c61};}};_0x5844d4['FsMiner']=_0x5844d4[_0x35c8c1(0x168)],_0x5844d4[_0x35c8c1(0x1b3)]=_0x5844d4['Whatsminer'],_0x5844d4[_0x35c8c1(0x1af)]=_0x5844d4[_0x35c8c1(0x168)],_0x5844d4['Antminer_updater']=_0x5844d4[_0x35c8c1(0x2a1)],_0x5844d4[_0x35c8c1(0x15c)]=_0x5844d4[_0x35c8c1(0x224)];const _0x1b3d3c=_0x5844d4[_0x13602e];if(!_0x1b3d3c)return console[_0x35c8c1(0x2a6)]('parseMinerStatus.\x20Unknown\x20apiVersion:'+_0x13602e,_0x315bae),null;return _0x1b3d3c(_0x315bae,_0x35db2e);}function completeMinerVersion(_0x3fa552){const _0x1257c9=_0x1e1f7a;let {systemKernelVersion:systemKernelVersion='',softwareVersion:softwareVersion='',modelType:modelType='',minerType:_0x15d87b,apiVersion:_0x4c7780,brand:_0x32ed92,completed:_0x4c7a28}=_0x3fa552;if(_0x4c7a28&&modelType[_0x1257c9(0x2ce)](_0x15d87b)>=0x0)return _0x3fa552;if(_0x15d87b&&modelType['indexOf'](_0x15d87b)<0x0){if(modelType[_0x1257c9(0x2ce)](_0x32ed92)>=0x0)_0x15d87b=modelType;else _0x15d87b['indexOf'](_0x32ed92)>=0x0&&(modelType=_0x15d87b);}_0x3fa552['minerType']=getMinerType(modelType),softwareVersion=softwareVersion[_0x1257c9(0x2de)](/\-git\-.+$/,'');const _0x7925b3=(systemKernelVersion+'~'+softwareVersion)[_0x1257c9(0x2d1)](),_0x427b8a=minerVersionsLookup[_0x7925b3+_0x15d87b]||minerVersionsLookup[_0x7925b3];if(!_0x427b8a){if(_0x15d87b){if(minerTypeMap[_0x15d87b])return _0x3fa552[_0x1257c9(0x29f)]=minerTypeMap[_0x15d87b][_0x1257c9(0x29f)]||minerTypeMap[_0x15d87b]['brand'],{..._0x3fa552,'softwareVersion':softwareVersion,'completed':!![]};else console[_0x1257c9(0x2a6)](_0x1257c9(0x24a)+_0x15d87b,_0x3fa552);}else console['warn'](_0x1257c9(0x184)+_0x7925b3,_0x3fa552);return _0x3fa552[_0x1257c9(0x29f)]=_0x1257c9(0x161),_0x3fa552[_0x1257c9(0x24c)]=_0x1257c9(0x1ca),_0x3fa552;}else{if(_0x32ed92&&_0x32ed92!==_0x427b8a[_0x1257c9(0x209)]||_0x15d87b&&_0x15d87b!==_0x427b8a['minerType'])return{..._0x3fa552,'softwareVersion':softwareVersion,'completed':!![]};}return{..._0x3fa552,'softwareVersion':softwareVersion,..._0x427b8a,'completed':!![]};}async function checkMinerStates({ipAddress:_0x489826,brand:_0x1c8bfd,commands:_0xc6237a}){const _0x15fb47=_0x1e1f7a;let _0x402e16=_0x1c8bfd?{'brand':_0x1c8bfd}:null,_0x349752=_0x1c8bfd;if(_0xc6237a)return{'commands':await getAllMinerStateByCommands(_0x489826,_0xc6237a,_0x349752)};else _0xc6237a=[_0x15fb47(0x176),_0x15fb47(0x1a2),_0x15fb47(0x2d8),_0x15fb47(0x2a2),_0x15fb47(0x150)];let _0x31305b={};_0x31305b['versionInfo']=await getVersionInfo(_0x489826)[_0x15fb47(0x178)](_0x3d28cd=>{const _0x331286=_0x15fb47;return _0x3d28cd['apiVersion']&&(_0x349752=_0x3d28cd[_0x331286(0x29f)]),_0x3d28cd;})[_0x15fb47(0x2c2)](_0xf0b7bd=>{const _0x550845=_0x15fb47;return{'error':_0xf0b7bd[_0x550845(0x20f)],'stack':_0xf0b7bd[_0x550845(0x292)]};}),_0x31305b[_0x15fb47(0x1df)]=await getMinerInfo({'ipAddress':_0x489826})[_0x15fb47(0x2c2)](_0x5208a4=>{const _0x303389=_0x15fb47;return{'error':_0x5208a4[_0x303389(0x20f)],'stack':_0x5208a4[_0x303389(0x292)]};});_0x31305b['minerInfo']?_0x31305b[_0x15fb47(0x1f0)]=await getKernelLogs(_0x31305b)['catch'](_0x2525bb=>{const _0x5e4281=_0x15fb47;return{'error':_0x2525bb[_0x5e4281(0x20f)],'stack':_0x2525bb[_0x5e4281(0x292)]};}):(_0x31305b[_0x15fb47(0x1df)]=_0x15fb47(0x195),_0x31305b[_0x15fb47(0x1f0)]=_0x15fb47(0x1c0));_0x31305b[_0x15fb47(0x173)]=await getMinerSystemInfo({'ipAddress':_0x489826,'minerTyped':_0x402e16,'apiVersion':_0x349752},_0x31305b[_0x15fb47(0x272)])[_0x15fb47(0x2c2)](_0x3d183e=>{const _0xc81b6c=_0x15fb47;return{'error':_0x3d183e[_0xc81b6c(0x20f)],'stack':_0x3d183e[_0xc81b6c(0x292)]};});_0x31305b[_0x15fb47(0x173)]['apiVersion']&&(_0x349752=_0x31305b[_0x15fb47(0x272)][_0x15fb47(0x29f)]);if(_0x349752){_0x402e16=getMinerTypeMap(_0x31305b['minerSystemInfo'])||{},_0x31305b[_0x15fb47(0x210)]=await getMinerStatus({'ipAddress':_0x489826,'minerTyped':_0x402e16,'apiVersion':_0x349752})[_0x15fb47(0x2c2)](_0x4fd1e3=>{const _0x192032=_0x15fb47;return{'error':_0x4fd1e3[_0x192032(0x20f)],'stack':_0x4fd1e3[_0x192032(0x292)]};});const _0x1d3086=await getRemotesPools({'ipAddress':_0x489826,'apiVersion':_0x349752},_0x402e16)['catch'](_0x4c55fb=>{const _0x15c664=_0x15fb47;return{'info':'getMinerSystemInfo\x20failed!!!','error':_0x4c55fb[_0x15c664(0x20f)],'stack':_0x4c55fb[_0x15c664(0x292)]};});if(Array[_0x15fb47(0x26c)](_0x1d3086[_0x15fb47(0x1a2)])){const _0x198200=_0x1d3086['pools'][_0x15fb47(0x23b)](_0x296db4=>_0x296db4['user']),{accountName:_0x1f3e0a,workerName:_0x364248,workerTypeNumber:_0x2e8b7e}=await extractAccountAndWorkerNumber({'poolWorkers':_0x198200})||{};_0x31305b[_0x15fb47(0x15d)]={'accountName':_0x1f3e0a,'workerName':_0x364248,'workerTypeNumber':_0x2e8b7e,..._0x1d3086,'poolWorkers':_0x198200};}}return!_0x31305b[_0x15fb47(0x210)]&&(_0x31305b[_0x15fb47(0x210)]=_0x15fb47(0x23d)),!_0x31305b['remotesPools']&&(_0x31305b['remotesPools']=_0x15fb47(0x293)),_0x31305b[_0x15fb47(0x257)]=await getAllMinerStateByCommands(_0x489826,_0xc6237a,_0x349752)[_0x15fb47(0x2c2)](_0x5dfe29=>{const _0x1e21f5=_0x15fb47;return{'error':_0x5dfe29['message'],'stack':_0x5dfe29[_0x1e21f5(0x292)]};}),_0x31305b;}async function modifyMinerStates({ipAddress:_0x2d199d,brand:_0x41a015,username:_0x24d332,worker:_0x589940}){const _0x9c4b57=_0x1e1f7a;let _0x401794=_0x41a015?{'brand':_0x41a015}:null,_0xffcc1b=_0x41a015,_0x31d468={};_0x31d468[_0x9c4b57(0x272)]=await getVersionInfo(_0x2d199d)[_0x9c4b57(0x178)](_0x385262=>{const _0x132ec6=_0x9c4b57;return _0x385262['apiVersion']&&(_0xffcc1b=_0x385262[_0x132ec6(0x29f)]),_0x385262;})[_0x9c4b57(0x2c2)](_0xddc916=>{const _0x2d6b93=_0x9c4b57;return{'error':_0xddc916['message'],'stack':_0xddc916[_0x2d6b93(0x292)]};});let _0x4a90af=await getMinerInfo({'ipAddress':_0x2d199d})[_0x9c4b57(0x2c2)](_0x6d3209=>{const _0x175bb4=_0x9c4b57;return{'error':_0x6d3209[_0x175bb4(0x20f)],'stack':_0x6d3209[_0x175bb4(0x292)]};});if(_0x4a90af){if(_0x24d332||_0x589940){const {condition:condition={},ipAddress:_0x9545f4,apiVersion:_0x32f644}=_0x4a90af;let {pools:_0x46cc65}=condition;return _0x31d468[_0x9c4b57(0x265)]=_0x46cc65,_0x31d468[_0x9c4b57(0x200)]=await getRemotesPools({'ipAddress':_0x9545f4,'apiVersion':_0x32f644},_0x401794)[_0x9c4b57(0x2c2)](_0x4dc902=>{const _0x80fdb8=_0x9c4b57;return{'info':_0x80fdb8(0x267),'error':_0x4dc902[_0x80fdb8(0x20f)],'stack':_0x4dc902[_0x80fdb8(0x292)]};}),!_0x46cc65&&(_0x46cc65=remotePools[_0x9c4b57(0x1a2)]),Array[_0x9c4b57(0x26c)](_0x46cc65)?(_0x24d332&&_0x46cc65['forEach'](_0x325a0b=>{const _0x1a747e=_0x9c4b57;_0x325a0b[_0x1a747e(0x16a)]=_0x325a0b['user']['replace'](/^[^\.]+\./,_0x24d332+'.');}),_0x589940&&_0x46cc65['forEach'](_0x2c5b9c=>{const _0x541bdc=_0x9c4b57;_0x2c5b9c['user']=_0x2c5b9c[_0x541bdc(0x16a)][_0x541bdc(0x2de)](/\..+$/,'.'+_0x589940);}),_0x31d468[_0x9c4b57(0x240)]=await updateMinerSettings({'minerInfo':_0x31d468['minerInfo'],'minerTyped':{},'pools':_0x46cc65,'apiVersion':_0x32f644})):_0x31d468[_0x9c4b57(0x240)]=_0x9c4b57(0x1fd),_0x31d468;}}else{if(_0x24d332)return _0x31d468[_0x9c4b57(0x240)]='Unable\x20to\x20set\x20pools.\x20Not\x20possible\x20without\x20minerInfo!\x20Run\x20discover\x20first.\x20\x0a\x20MinerInfo\x20is\x20not\x20available!\x20Run\x20discovery\x20routine.\x20\x0a\x20/scan?settings={\x22range\x22:[\x22'+_0x2d199d+'\x22,\x22'+_0x2d199d+_0x9c4b57(0x26d),_0x31d468;else _0x31d468['minerInfo']=_0x9c4b57(0x21d)+_0x2d199d+_0x9c4b57(0x23c)+_0x2d199d+_0x9c4b57(0x26d),_0x31d468[_0x9c4b57(0x1f0)]=_0x9c4b57(0x1c0);}return _0x31d468;}module[_0x1e1f7a(0x275)]={'MAX_POOLS':MAX_POOLS,'buildSetMinerSettingsRequestBody':buildSetMinerSettingsRequestBody,'getRemotesPools':getRemotesPools,'getMinerSystemInfo':getMinerSystemInfo,'getMinerSettingsUrl':getMinerSettingsUrl,'getMinerSettings':getMinerSettings,'getSummaryAndPools':getSummaryAndPools,'getUpdateMinerSettingsUrl':getUpdateMinerSettingsUrl,'getMinerLandingPageUrl':getMinerLandingPageUrl,'updateMinerSettings':updateMinerSettings,'updateMinerNetworkSettings':updateMinerNetworkSettings,'updateMinerFirmware':updateMinerFirmware,'retrieveMinerNetworkDiagnostics':retrieveMinerNetworkDiagnostics,'updateEnableSSH':updateEnableSSH,'getWallets':getWallets,'createMinerInfo':createMinerInfo,'getMinerInfo':getMinerInfo,'getPoolTemplates':getPoolTemplates,'getMinerStatus':getMinerStatus,'havePoolConfigsChanged':havePoolConfigsChanged,'validateMinerConfig':validateMinerConfig,'getRemotesPoolConfig':getRemotesPoolConfig,'extractAccountAndWorkerNumber':extractAccountAndWorkerNumber,'upsertMinerInfo':upsertMinerInfo,'updateMinerInfo':updateMinerInfo,'getPoolConfigs':getPoolConfigs,'getMinerReboot':getMinerReboot,'getMinerReset':getMinerReset,'getMinerType':getMinerType,'getMinerTypeMap':getMinerTypeMap,'getUniqueWorkerName':getUniqueWorkerName,'getMinerFilterClause':getMinerFilterClause,'getMinerLayoutFields':getMinerLayoutFields,'getKernelLogs':getKernelLogs,'getPoolIDs':getPoolIDs,'deriveApiVersion':deriveApiVersion,'enableFirmwareUpload':enableFirmwareUpload,'completeMinerVersion':completeMinerVersion,'checkMinerStates':checkMinerStates,'modifyMinerStates':modifyMinerStates,'trendsAggregate':trendsAggregate};