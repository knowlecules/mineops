/* Copyright (C) 9208-9721 Quebec, Inc - All Rights Reserved
* Unauthorized copying of this file, via any medium is strictly prohibited
* Proprietary and confidential
* Written by Jason Rudland <jason.g.rudland@gmail.com>, September 2022
*/'use strict';const _0xd0b8fc=_0x2d26;(function(_0x1b0ac8,_0x53f85f){const _0x434e4b=_0x2d26,_0x3af6d6=_0x1b0ac8();while(!![]){try{const _0x3048df=parseInt(_0x434e4b(0xcb))/0x1+-parseInt(_0x434e4b(0xbc))/0x2+-parseInt(_0x434e4b(0xb3))/0x3+-parseInt(_0x434e4b(0xbb))/0x4*(parseInt(_0x434e4b(0xbe))/0x5)+parseInt(_0x434e4b(0xa6))/0x6*(-parseInt(_0x434e4b(0xa7))/0x7)+-parseInt(_0x434e4b(0xc7))/0x8+parseInt(_0x434e4b(0xb8))/0x9;if(_0x3048df===_0x53f85f)break;else _0x3af6d6['push'](_0x3af6d6['shift']());}catch(_0x3b2825){_0x3af6d6['push'](_0x3af6d6['shift']());}}}(_0x5dac,0x27e03));function _0x2d26(_0x44c205,_0x385695){const _0x5dac36=_0x5dac();return _0x2d26=function(_0x2d26c5,_0x2ee755){_0x2d26c5=_0x2d26c5-0xa2;let _0x3ddb44=_0x5dac36[_0x2d26c5];return _0x3ddb44;},_0x2d26(_0x44c205,_0x385695);}const faker=require(_0xd0b8fc(0xc6)),{buildSetMinerSettingsRequestBody,getUpdateMinerSettingsUrl,DEFAULT_MINER_FREQUENCY,DEFAULT_MINER_VOLTAGE,MAX_POOLS}=require(_0xd0b8fc(0xb0));function _0x5dac(){const _0x17448b=['&_ant_pool1user=','faker','869760ivARcd','&_ant_pool2url=','password','&_ant_pool3url=','161854bKCVOa','Specify\x20at\x20least\x20one\x20pool.','toEqual','WHEN\x20no\x20config\x20is\x20passed\x20in\x20to\x20buildSetMinerSettingsRequestBody','&_ant_pool1pw=','_ant_pool1url=','&_ant_pool2pw=','1147140pQNtPe','7JpMNlL','SHOULD\x20throw','&_ant_pool3user=','WHEN\x20three\x20pools\x20are\x20passed\x20in\x20to\x20buildSetMinerSettingsRequestBody','toThrow','&_ant_pool3pw=','userName','Miner\x20IP\x20address\x20cannot\x20be\x20null.','not','./miner-settings','url','&_ant_pool3url=&_ant_pool3user=&_ant_pool3pw=&_ant_nobeeper=false&_ant_notempoverctrl=false&_ant_fan_customize_switch=false&_ant_fan_customize_value=&_ant_freq=0&','326550vdlbGK','SHOULD\x20not\x20throw','WHEN\x20more\x20than\x20','&_ant_nobeeper=false&_ant_notempoverctrl=false&_ant_fan_customize_switch=false&_ant_fan_customize_value=&_ant_freq=0&','WHEN\x20two\x20pools\x20are\x20passed\x20in\x20to\x20buildSetMinerSettingsRequestBody','5155227ZAUjuD','\x20pools.','internet','308192AsFVQB','16940oVurpt','&_ant_pool2url=&_ant_pool2user=&_ant_pool2pw=&_ant_pool3url=&_ant_pool3user=&_ant_pool3pw=&_ant_nobeeper=false&_ant_notempoverctrl=false&_ant_fan_customize_switch=false&_ant_fan_customize_value=&_ant_freq=0&','10jrWySm','fill','Number\x20of\x20pools\x20exceeded.\x20You\x20can\x20configure\x20up\x20to\x20','WHEN\x20one\x20pool\x20pool\x20is\x20passed\x20in\x20to\x20buildSetMinerSettingsRequestBody','WHEN\x20no\x20pools\x20are\x20defined\x20in\x20the\x20config\x20passed\x20in\x20to\x20buildSetMinerSettingsRequestBody','SHOULD\x20return\x20a\x20valid\x20configuration','SHOULD\x20return\x20a\x20valid\x20raw\x20form\x20body\x20for\x20the\x20miner\x20settings\x20update\x20endpoint.'];_0x5dac=function(){return _0x17448b;};return _0x5dac();}describe('Miner\x20Settings\x20Utilities',()=>{const _0x15f0c3=_0xd0b8fc;describe(_0x15f0c3(0xa2),()=>{const _0x51cc0a=_0x15f0c3;it(_0x51cc0a(0xa8),()=>{const _0x19aef6=_0x51cc0a;expect(()=>{buildSetMinerSettingsRequestBody();})[_0x19aef6(0xab)](_0x19aef6(0xcc));});}),describe(_0x15f0c3(0xc2),()=>{const _0x54f683=_0x15f0c3;it(_0x54f683(0xa8),()=>{const _0x117569=_0x54f683;expect(()=>{buildSetMinerSettingsRequestBody({});})[_0x117569(0xab)](_0x117569(0xcc));});}),describe(_0x15f0c3(0xb5)+MAX_POOLS+'\x20pools\x20are\x20passed\x20in\x20to\x20buildSetMinerSettingsRequestBody',()=>{it('SHOULD\x20throw',()=>{const _0x136224=_0x2d26;expect(()=>{const _0x3a1a9e=_0x2d26,_0x2d1661=new Array(0x4)[_0x3a1a9e(0xbf)]('');buildSetMinerSettingsRequestBody({'pools':_0x2d1661});})[_0x136224(0xaf)]['toThrow'](_0x136224(0xc0)+MAX_POOLS+_0x136224(0xb9));});}),describe('WHEN\x20at\x20least\x20one\x20pool\x20pool\x20is\x20passed\x20in\x20to\x20buildSetMinerSettingsRequestBody',()=>{const _0x5da57f=_0x15f0c3;it(_0x5da57f(0xb4),()=>{const _0x20e609=_0x5da57f;expect(()=>{const _0x46024c=_0x2d26,_0x3da66b=[{'index':0x1,'url':faker[_0x46024c(0xba)][_0x46024c(0xb1)](),'username':faker['internet'][_0x46024c(0xad)](),'password':faker[_0x46024c(0xba)][_0x46024c(0xc9)]()}];buildSetMinerSettingsRequestBody({'pools':_0x3da66b});})[_0x20e609(0xaf)][_0x20e609(0xab)]();});}),describe(_0x15f0c3(0xc1),()=>{const _0x4248d4=_0x15f0c3;it(_0x4248d4(0xc3),()=>{const _0x5159b5=_0x4248d4,_0x582d1f='besthashing.com:3333',_0x3cc54b=faker[_0x5159b5(0xba)]['userName'](),_0x4f669f=faker['internet'][_0x5159b5(0xc9)](),_0x1a3b62=[{'index':0x1,'stratum':_0x582d1f,'username':_0x3cc54b,'password':_0x4f669f}],_0x5a45c5=_0x5159b5(0xa4)+encodeURIComponent(_0x582d1f)+_0x5159b5(0xc5)+encodeURIComponent(_0x3cc54b)+_0x5159b5(0xa3)+encodeURIComponent(_0x4f669f)+_0x5159b5(0xbd),_0x55f56f=buildSetMinerSettingsRequestBody({'pools':_0x1a3b62});expect(_0x55f56f)[_0x5159b5(0xcd)](_0x5a45c5);});}),describe(_0x15f0c3(0xb7),()=>{const _0x491103=_0x15f0c3;it(_0x491103(0xc4),()=>{const _0x19a514=_0x491103,_0x522d70=faker[_0x19a514(0xba)][_0x19a514(0xb1)](),_0x520874=faker[_0x19a514(0xba)]['userName'](),_0x593f41=faker['internet']['password'](),_0x1416be=faker[_0x19a514(0xba)][_0x19a514(0xb1)](),_0x393551=faker['internet'][_0x19a514(0xad)](),_0x51ff28=faker['internet'][_0x19a514(0xc9)](),_0x3e54ff=[{'index':0x1,'stratum':_0x522d70,'username':_0x520874,'password':_0x593f41},{'index':0x2,'stratum':_0x1416be,'username':_0x393551,'password':_0x51ff28}],_0x334402='_ant_pool1url='+encodeURIComponent(_0x522d70)+'&_ant_pool1user='+encodeURIComponent(_0x520874)+_0x19a514(0xa3)+encodeURIComponent(_0x593f41)+'&_ant_pool2url='+encodeURIComponent(_0x1416be)+'&_ant_pool2user='+encodeURIComponent(_0x393551)+_0x19a514(0xa5)+encodeURIComponent(_0x51ff28)+_0x19a514(0xb2),_0x5a8a17=buildSetMinerSettingsRequestBody({'pools':_0x3e54ff});expect(_0x5a8a17)[_0x19a514(0xcd)](_0x334402);});}),describe(_0x15f0c3(0xaa),()=>{const _0x5c2089=_0x15f0c3;it(_0x5c2089(0xc4),()=>{const _0x6dd409=_0x5c2089,_0x352631=faker[_0x6dd409(0xba)][_0x6dd409(0xb1)](),_0x481f5e=faker[_0x6dd409(0xba)][_0x6dd409(0xad)](),_0x22fc0f=faker[_0x6dd409(0xba)][_0x6dd409(0xc9)](),_0x20d5cd=faker['internet'][_0x6dd409(0xb1)](),_0xb6ec4c=faker[_0x6dd409(0xba)][_0x6dd409(0xad)](),_0x11d1b3=faker[_0x6dd409(0xba)][_0x6dd409(0xc9)](),_0x296b22=faker[_0x6dd409(0xba)]['url'](),_0x253e3f=faker[_0x6dd409(0xba)][_0x6dd409(0xad)](),_0x4ed7f8=faker['internet']['password'](),_0x4ca40e=[{'index':0x1,'stratum':_0x352631,'username':_0x481f5e,'password':_0x22fc0f},{'index':0x2,'stratum':_0x20d5cd,'username':_0xb6ec4c,'password':_0x11d1b3},{'index':0x3,'stratum':_0x296b22,'username':_0x253e3f,'password':_0x4ed7f8}],_0x1f485c='_ant_pool1url='+encodeURIComponent(_0x352631)+'&_ant_pool1user='+encodeURIComponent(_0x481f5e)+_0x6dd409(0xa3)+encodeURIComponent(_0x22fc0f)+_0x6dd409(0xc8)+encodeURIComponent(_0x20d5cd)+'&_ant_pool2user='+encodeURIComponent(_0xb6ec4c)+_0x6dd409(0xa5)+encodeURIComponent(_0x11d1b3)+_0x6dd409(0xca)+encodeURIComponent(_0x296b22)+_0x6dd409(0xa9)+encodeURIComponent(_0x253e3f)+_0x6dd409(0xac)+encodeURIComponent(_0x4ed7f8)+_0x6dd409(0xb6),_0x1afa03=buildSetMinerSettingsRequestBody({'pools':_0x4ca40e});expect(_0x1afa03)[_0x6dd409(0xcd)](_0x1f485c);});}),describe('WHEN\x20no\x20IP\x20address\x20is\x20passed\x20to\x20getMinerSettingsUrl',()=>{const _0x5e008f=_0x15f0c3;it(_0x5e008f(0xa8),()=>{const _0x21bf79=_0x5e008f;expect(()=>{getMinerSettingsUrl();})[_0x21bf79(0xab)](_0x21bf79(0xae));});}),describe('WHEN\x20a\x20null\x20IP\x20address\x20is\x20passed\x20to\x20getMinerSettingsUrl',()=>{it('SHOULD\x20throw',()=>{const _0x1e3edd=_0x2d26;expect(()=>{getMinerSettingsUrl();})[_0x1e3edd(0xab)](_0x1e3edd(0xae));});});});