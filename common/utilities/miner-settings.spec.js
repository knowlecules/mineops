/* Copyright (C) 9208-9721 Quebec, Inc - All Rights Reserved
* Unauthorized copying of this file, via any medium is strictly prohibited
* Proprietary and confidential
* Written by Jason Rudland <jason.g.rudland@gmail.com>, September 2022
*/'use strict';function _0x1ce2(){const _0x1563ff=['\x20pools\x20are\x20passed\x20in\x20to\x20buildSetMinerSettingsRequestBody','SHOULD\x20not\x20throw','SHOULD\x20return\x20a\x20valid\x20raw\x20form\x20body\x20for\x20the\x20miner\x20settings\x20update\x20endpoint.','&_ant_pool1pw=','1143423myDfvH','&_ant_pool2user=','WHEN\x20more\x20than\x20','888TlVZXg','2692557HLzOHI','Miner\x20Settings\x20Utilities','WHEN\x20a\x20null\x20IP\x20address\x20is\x20passed\x20to\x20getMinerSettingsUrl','SHOULD\x20throw','&_ant_pool3pw=','./miner-settings','faker','SHOULD\x20return\x20a\x20valid\x20configuration','Specify\x20at\x20least\x20one\x20pool.','url','22LekxES','1655382CtWDsx','&_ant_pool3user=','WHEN\x20at\x20least\x20one\x20pool\x20pool\x20is\x20passed\x20in\x20to\x20buildSetMinerSettingsRequestBody','&_ant_pool2url=','3046304VBuOCT','Miner\x20IP\x20address\x20cannot\x20be\x20null.','userName','1498614BeDWaE','&_ant_pool3url=&_ant_pool3user=&_ant_pool3pw=&_ant_nobeeper=false&_ant_notempoverctrl=false&_ant_fan_customize_switch=false&_ant_fan_customize_value=&_ant_freq=0&','&_ant_pool1user=','&_ant_pool2pw=','password','_ant_pool1url=','besthashing.com:3333','WHEN\x20no\x20config\x20is\x20passed\x20in\x20to\x20buildSetMinerSettingsRequestBody','\x20pools.','7285WlGvFz','WHEN\x20two\x20pools\x20are\x20passed\x20in\x20to\x20buildSetMinerSettingsRequestBody','WHEN\x20three\x20pools\x20are\x20passed\x20in\x20to\x20buildSetMinerSettingsRequestBody','10406OfBnhn','&_ant_pool3url=','&_ant_nobeeper=false&_ant_notempoverctrl=false&_ant_fan_customize_switch=false&_ant_fan_customize_value=&_ant_freq=0&','Number\x20of\x20pools\x20exceeded.\x20You\x20can\x20configure\x20up\x20to\x20','toEqual','internet','toThrow'];_0x1ce2=function(){return _0x1563ff;};return _0x1ce2();}const _0x2c8139=_0x55cd;function _0x55cd(_0x3372ec,_0x5c7204){const _0x1ce2f4=_0x1ce2();return _0x55cd=function(_0x55cde4,_0x40f9f7){_0x55cde4=_0x55cde4-0x156;let _0x130df9=_0x1ce2f4[_0x55cde4];return _0x130df9;},_0x55cd(_0x3372ec,_0x5c7204);}(function(_0x3454f3,_0x2a4d71){const _0x3ab59c=_0x55cd,_0x2a37d4=_0x3454f3();while(!![]){try{const _0x4731f6=parseInt(_0x3ab59c(0x17f))/0x1*(parseInt(_0x3ab59c(0x16b))/0x2)+-parseInt(_0x3ab59c(0x173))/0x3+parseInt(_0x3ab59c(0x160))/0x4*(parseInt(_0x3ab59c(0x17c))/0x5)+parseInt(_0x3ab59c(0x16c))/0x6+-parseInt(_0x3ab59c(0x161))/0x7+parseInt(_0x3ab59c(0x170))/0x8+parseInt(_0x3ab59c(0x15d))/0x9;if(_0x4731f6===_0x2a4d71)break;else _0x2a37d4['push'](_0x2a37d4['shift']());}catch(_0x1bc26e){_0x2a37d4['push'](_0x2a37d4['shift']());}}}(_0x1ce2,0x52637));const faker=require(_0x2c8139(0x167)),{buildSetMinerSettingsRequestBody,getUpdateMinerSettingsUrl,DEFAULT_MINER_FREQUENCY,DEFAULT_MINER_VOLTAGE,MAX_POOLS}=require(_0x2c8139(0x166));describe(_0x2c8139(0x162),()=>{const _0x48b77b=_0x2c8139;describe(_0x48b77b(0x17a),()=>{const _0x4ea436=_0x48b77b;it(_0x4ea436(0x164),()=>{expect(()=>{buildSetMinerSettingsRequestBody();})['toThrow']('Specify\x20at\x20least\x20one\x20pool.');});}),describe('WHEN\x20no\x20pools\x20are\x20defined\x20in\x20the\x20config\x20passed\x20in\x20to\x20buildSetMinerSettingsRequestBody',()=>{const _0x2867dd=_0x48b77b;it(_0x2867dd(0x164),()=>{const _0x39947f=_0x2867dd;expect(()=>{buildSetMinerSettingsRequestBody({});})['toThrow'](_0x39947f(0x169));});}),describe(_0x48b77b(0x15f)+MAX_POOLS+_0x48b77b(0x159),()=>{const _0x4729bd=_0x48b77b;it(_0x4729bd(0x164),()=>{const _0x5e5cb1=_0x4729bd;expect(()=>{const _0x3da1ac=new Array(0x4)['fill']('');buildSetMinerSettingsRequestBody({'pools':_0x3da1ac});})['not'][_0x5e5cb1(0x158)](_0x5e5cb1(0x182)+MAX_POOLS+_0x5e5cb1(0x17b));});}),describe(_0x48b77b(0x16e),()=>{const _0x8c3818=_0x48b77b;it(_0x8c3818(0x15a),()=>{expect(()=>{const _0x512e38=_0x55cd,_0x4f7c9a=[{'index':0x1,'url':faker[_0x512e38(0x157)][_0x512e38(0x16a)](),'username':faker[_0x512e38(0x157)][_0x512e38(0x172)](),'password':faker[_0x512e38(0x157)][_0x512e38(0x177)]()}];buildSetMinerSettingsRequestBody({'pools':_0x4f7c9a});})['not']['toThrow']();});}),describe('WHEN\x20one\x20pool\x20pool\x20is\x20passed\x20in\x20to\x20buildSetMinerSettingsRequestBody',()=>{const _0x1aaf2a=_0x48b77b;it(_0x1aaf2a(0x168),()=>{const _0x4c0e16=_0x1aaf2a,_0x1ef3f8=_0x4c0e16(0x179),_0x29f8b6=faker[_0x4c0e16(0x157)][_0x4c0e16(0x172)](),_0x5483f0=faker[_0x4c0e16(0x157)][_0x4c0e16(0x177)](),_0x47ec2f=[{'index':0x1,'stratum':_0x1ef3f8,'username':_0x29f8b6,'password':_0x5483f0}],_0x112eae=_0x4c0e16(0x178)+encodeURIComponent(_0x1ef3f8)+_0x4c0e16(0x175)+encodeURIComponent(_0x29f8b6)+'&_ant_pool1pw='+encodeURIComponent(_0x5483f0)+'&_ant_pool2url=&_ant_pool2user=&_ant_pool2pw=&_ant_pool3url=&_ant_pool3user=&_ant_pool3pw=&_ant_nobeeper=false&_ant_notempoverctrl=false&_ant_fan_customize_switch=false&_ant_fan_customize_value=&_ant_freq=0&',_0x9bbe49=buildSetMinerSettingsRequestBody({'pools':_0x47ec2f});expect(_0x9bbe49)[_0x4c0e16(0x156)](_0x112eae);});}),describe(_0x48b77b(0x17d),()=>{const _0x51a4e3=_0x48b77b;it(_0x51a4e3(0x15b),()=>{const _0x4dec1c=_0x51a4e3,_0x512fe6=faker[_0x4dec1c(0x157)][_0x4dec1c(0x16a)](),_0x650dfe=faker[_0x4dec1c(0x157)][_0x4dec1c(0x172)](),_0x3eb42a=faker[_0x4dec1c(0x157)][_0x4dec1c(0x177)](),_0x2bfade=faker[_0x4dec1c(0x157)]['url'](),_0x230c53=faker[_0x4dec1c(0x157)]['userName'](),_0x68a7dd=faker['internet']['password'](),_0x196430=[{'index':0x1,'stratum':_0x512fe6,'username':_0x650dfe,'password':_0x3eb42a},{'index':0x2,'stratum':_0x2bfade,'username':_0x230c53,'password':_0x68a7dd}],_0x6cacd1=_0x4dec1c(0x178)+encodeURIComponent(_0x512fe6)+_0x4dec1c(0x175)+encodeURIComponent(_0x650dfe)+_0x4dec1c(0x15c)+encodeURIComponent(_0x3eb42a)+_0x4dec1c(0x16f)+encodeURIComponent(_0x2bfade)+_0x4dec1c(0x15e)+encodeURIComponent(_0x230c53)+_0x4dec1c(0x176)+encodeURIComponent(_0x68a7dd)+_0x4dec1c(0x174),_0x5b1d0a=buildSetMinerSettingsRequestBody({'pools':_0x196430});expect(_0x5b1d0a)[_0x4dec1c(0x156)](_0x6cacd1);});}),describe(_0x48b77b(0x17e),()=>{const _0x3bdfde=_0x48b77b;it(_0x3bdfde(0x15b),()=>{const _0x220dfb=_0x3bdfde,_0x32e397=faker[_0x220dfb(0x157)][_0x220dfb(0x16a)](),_0x2cc184=faker[_0x220dfb(0x157)]['userName'](),_0x3791aa=faker['internet'][_0x220dfb(0x177)](),_0xa33d11=faker['internet'][_0x220dfb(0x16a)](),_0x5d9867=faker['internet']['userName'](),_0x1ea1aa=faker[_0x220dfb(0x157)]['password'](),_0x253aa7=faker[_0x220dfb(0x157)][_0x220dfb(0x16a)](),_0x1ca4f1=faker[_0x220dfb(0x157)][_0x220dfb(0x172)](),_0x1cadbe=faker[_0x220dfb(0x157)][_0x220dfb(0x177)](),_0x151335=[{'index':0x1,'stratum':_0x32e397,'username':_0x2cc184,'password':_0x3791aa},{'index':0x2,'stratum':_0xa33d11,'username':_0x5d9867,'password':_0x1ea1aa},{'index':0x3,'stratum':_0x253aa7,'username':_0x1ca4f1,'password':_0x1cadbe}],_0x87208a=_0x220dfb(0x178)+encodeURIComponent(_0x32e397)+_0x220dfb(0x175)+encodeURIComponent(_0x2cc184)+_0x220dfb(0x15c)+encodeURIComponent(_0x3791aa)+_0x220dfb(0x16f)+encodeURIComponent(_0xa33d11)+'&_ant_pool2user='+encodeURIComponent(_0x5d9867)+_0x220dfb(0x176)+encodeURIComponent(_0x1ea1aa)+_0x220dfb(0x180)+encodeURIComponent(_0x253aa7)+_0x220dfb(0x16d)+encodeURIComponent(_0x1ca4f1)+_0x220dfb(0x165)+encodeURIComponent(_0x1cadbe)+_0x220dfb(0x181),_0x27b070=buildSetMinerSettingsRequestBody({'pools':_0x151335});expect(_0x27b070)[_0x220dfb(0x156)](_0x87208a);});}),describe('WHEN\x20no\x20IP\x20address\x20is\x20passed\x20to\x20getMinerSettingsUrl',()=>{it('SHOULD\x20throw',()=>{const _0x3e988d=_0x55cd;expect(()=>{getMinerSettingsUrl();})[_0x3e988d(0x158)](_0x3e988d(0x171));});}),describe(_0x48b77b(0x163),()=>{it('SHOULD\x20throw',()=>{const _0x22b7cb=_0x55cd;expect(()=>{getMinerSettingsUrl();})[_0x22b7cb(0x158)]('Miner\x20IP\x20address\x20cannot\x20be\x20null.');});});});