/* Copyright (C) 9208-9721 Quebec, Inc - All Rights Reserved
* Unauthorized copying of this file, via any medium is strictly prohibited
* Proprietary and confidential
* Written by Jason Rudland <jason.g.rudland@gmail.com>, September 2022
*/'use strict';const _0x405a33=_0x1461;(function(_0x4b819e,_0x4eda4e){const _0xb0f841=_0x1461,_0x195e80=_0x4b819e();while(!![]){try{const _0x71d564=-parseInt(_0xb0f841(0x142))/0x1+parseInt(_0xb0f841(0x139))/0x2+-parseInt(_0xb0f841(0x134))/0x3+parseInt(_0xb0f841(0x14b))/0x4*(-parseInt(_0xb0f841(0x150))/0x5)+parseInt(_0xb0f841(0x14e))/0x6*(parseInt(_0xb0f841(0x13f))/0x7)+parseInt(_0xb0f841(0x15b))/0x8*(parseInt(_0xb0f841(0x147))/0x9)+-parseInt(_0xb0f841(0x159))/0xa;if(_0x71d564===_0x4eda4e)break;else _0x195e80['push'](_0x195e80['shift']());}catch(_0x3c1618){_0x195e80['push'](_0x195e80['shift']());}}}(_0x315a,0x3eef0));function _0x1461(_0x55d69c,_0x22121f){const _0x315ae4=_0x315a();return _0x1461=function(_0x1461bf,_0x22e3eb){_0x1461bf=_0x1461bf-0x12e;let _0x4c443e=_0x315ae4[_0x1461bf];return _0x4c443e;},_0x1461(_0x55d69c,_0x22121f);}const faker=require(_0x405a33(0x156)),{buildSetMinerSettingsRequestBody,getUpdateMinerSettingsUrl,DEFAULT_MINER_FREQUENCY,DEFAULT_MINER_VOLTAGE,MAX_POOLS}=require(_0x405a33(0x15c));function _0x315a(){const _0x33c23e=['WHEN\x20no\x20config\x20is\x20passed\x20in\x20to\x20buildSetMinerSettingsRequestBody','&_ant_nobeeper=false&_ant_notempoverctrl=false&_ant_fan_customize_switch=false&_ant_fan_customize_value=&_ant_freq=0&','380616Bkaopc','WHEN\x20a\x20null\x20IP\x20address\x20is\x20passed\x20to\x20getMinerSettingsUrl','&_ant_pool2pw=','2150772KGgzvl','\x20pools\x20are\x20passed\x20in\x20to\x20buildSetMinerSettingsRequestBody','5JidGHi','&_ant_pool2url=&_ant_pool2user=&_ant_pool2pw=&_ant_pool3url=&_ant_pool3user=&_ant_pool3pw=&_ant_nobeeper=false&_ant_notempoverctrl=false&_ant_fan_customize_switch=false&_ant_fan_customize_value=&_ant_freq=0&','WHEN\x20no\x20pools\x20are\x20defined\x20in\x20the\x20config\x20passed\x20in\x20to\x20buildSetMinerSettingsRequestBody','WHEN\x20two\x20pools\x20are\x20passed\x20in\x20to\x20buildSetMinerSettingsRequestBody','password','userName','faker','&_ant_pool1user=','&_ant_pool1pw=','2280950bGNPuo','\x20pools.','72ixCkdJ','./miner-settings','WHEN\x20at\x20least\x20one\x20pool\x20pool\x20is\x20passed\x20in\x20to\x20buildSetMinerSettingsRequestBody','&_ant_pool3url=','&_ant_pool2user=','WHEN\x20three\x20pools\x20are\x20passed\x20in\x20to\x20buildSetMinerSettingsRequestBody','not','toEqual','971739ImOzKY','SHOULD\x20throw','WHEN\x20more\x20than\x20','_ant_pool1url=','SHOULD\x20return\x20a\x20valid\x20raw\x20form\x20body\x20for\x20the\x20miner\x20settings\x20update\x20endpoint.','764416QdTIDH','url','&_ant_pool3url=&_ant_pool3user=&_ant_pool3pw=&_ant_nobeeper=false&_ant_notempoverctrl=false&_ant_fan_customize_switch=false&_ant_fan_customize_value=&_ant_freq=0&','internet','Specify\x20at\x20least\x20one\x20pool.','WHEN\x20one\x20pool\x20pool\x20is\x20passed\x20in\x20to\x20buildSetMinerSettingsRequestBody','7zWvlza','toThrow','&_ant_pool3user=','254916jMRGMP','fill','besthashing.com:3333','Miner\x20IP\x20address\x20cannot\x20be\x20null.','&_ant_pool2url=','419184OMtixY','Number\x20of\x20pools\x20exceeded.\x20You\x20can\x20configure\x20up\x20to\x20'];_0x315a=function(){return _0x33c23e;};return _0x315a();}describe('Miner\x20Settings\x20Utilities',()=>{const _0x194205=_0x405a33;describe(_0x194205(0x149),()=>{const _0xcd40c4=_0x194205;it(_0xcd40c4(0x135),()=>{const _0x5eda1b=_0xcd40c4;expect(()=>{buildSetMinerSettingsRequestBody();})[_0x5eda1b(0x140)](_0x5eda1b(0x13d));});}),describe(_0x194205(0x152),()=>{const _0x2024ad=_0x194205;it(_0x2024ad(0x135),()=>{const _0x2817b6=_0x2024ad;expect(()=>{buildSetMinerSettingsRequestBody({});})[_0x2817b6(0x140)](_0x2817b6(0x13d));});}),describe(_0x194205(0x136)+MAX_POOLS+_0x194205(0x14f),()=>{const _0xddce94=_0x194205;it(_0xddce94(0x135),()=>{const _0x482b83=_0xddce94;expect(()=>{const _0x2a8deb=_0x1461,_0x4a0780=new Array(0x4)[_0x2a8deb(0x143)]('');buildSetMinerSettingsRequestBody({'pools':_0x4a0780});})[_0x482b83(0x132)][_0x482b83(0x140)](_0x482b83(0x148)+MAX_POOLS+_0x482b83(0x15a));});}),describe(_0x194205(0x12e),()=>{it('SHOULD\x20not\x20throw',()=>{const _0x2c7a2f=_0x1461;expect(()=>{const _0x1a1823=_0x1461,_0x207a7a=[{'index':0x1,'url':faker[_0x1a1823(0x13c)]['url'](),'username':faker[_0x1a1823(0x13c)][_0x1a1823(0x155)](),'password':faker[_0x1a1823(0x13c)][_0x1a1823(0x154)]()}];buildSetMinerSettingsRequestBody({'pools':_0x207a7a});})[_0x2c7a2f(0x132)]['toThrow']();});}),describe(_0x194205(0x13e),()=>{it('SHOULD\x20return\x20a\x20valid\x20configuration',()=>{const _0x522fe8=_0x1461,_0x21246f=_0x522fe8(0x144),_0x429b3c=faker[_0x522fe8(0x13c)][_0x522fe8(0x155)](),_0xc65092=faker[_0x522fe8(0x13c)]['password'](),_0x2242c4=[{'index':0x1,'stratum':_0x21246f,'username':_0x429b3c,'password':_0xc65092}],_0x3d223f=_0x522fe8(0x137)+encodeURIComponent(_0x21246f)+'&_ant_pool1user='+encodeURIComponent(_0x429b3c)+_0x522fe8(0x158)+encodeURIComponent(_0xc65092)+_0x522fe8(0x151),_0x2874cd=buildSetMinerSettingsRequestBody({'pools':_0x2242c4});expect(_0x2874cd)[_0x522fe8(0x133)](_0x3d223f);});}),describe(_0x194205(0x153),()=>{const _0x4f4e65=_0x194205;it(_0x4f4e65(0x138),()=>{const _0x180c9f=_0x4f4e65,_0x4596e8=faker['internet']['url'](),_0x11ab78=faker['internet'][_0x180c9f(0x155)](),_0x2b440f=faker[_0x180c9f(0x13c)][_0x180c9f(0x154)](),_0x1e6be5=faker[_0x180c9f(0x13c)]['url'](),_0x404825=faker[_0x180c9f(0x13c)]['userName'](),_0x26d29b=faker['internet'][_0x180c9f(0x154)](),_0x1ef14f=[{'index':0x1,'stratum':_0x4596e8,'username':_0x11ab78,'password':_0x2b440f},{'index':0x2,'stratum':_0x1e6be5,'username':_0x404825,'password':_0x26d29b}],_0x5a69c5=_0x180c9f(0x137)+encodeURIComponent(_0x4596e8)+_0x180c9f(0x157)+encodeURIComponent(_0x11ab78)+_0x180c9f(0x158)+encodeURIComponent(_0x2b440f)+_0x180c9f(0x146)+encodeURIComponent(_0x1e6be5)+_0x180c9f(0x130)+encodeURIComponent(_0x404825)+_0x180c9f(0x14d)+encodeURIComponent(_0x26d29b)+_0x180c9f(0x13b),_0x3a7952=buildSetMinerSettingsRequestBody({'pools':_0x1ef14f});expect(_0x3a7952)[_0x180c9f(0x133)](_0x5a69c5);});}),describe(_0x194205(0x131),()=>{const _0x1d986e=_0x194205;it(_0x1d986e(0x138),()=>{const _0x19e0b0=_0x1d986e,_0x4c0df4=faker[_0x19e0b0(0x13c)][_0x19e0b0(0x13a)](),_0x19359a=faker['internet'][_0x19e0b0(0x155)](),_0x1a3970=faker[_0x19e0b0(0x13c)][_0x19e0b0(0x154)](),_0x10fcd4=faker[_0x19e0b0(0x13c)]['url'](),_0x2d7016=faker['internet'][_0x19e0b0(0x155)](),_0xe8abc3=faker[_0x19e0b0(0x13c)][_0x19e0b0(0x154)](),_0x443766=faker['internet'][_0x19e0b0(0x13a)](),_0x589da8=faker[_0x19e0b0(0x13c)][_0x19e0b0(0x155)](),_0x45292c=faker['internet']['password'](),_0x22a16b=[{'index':0x1,'stratum':_0x4c0df4,'username':_0x19359a,'password':_0x1a3970},{'index':0x2,'stratum':_0x10fcd4,'username':_0x2d7016,'password':_0xe8abc3},{'index':0x3,'stratum':_0x443766,'username':_0x589da8,'password':_0x45292c}],_0x45e4d5=_0x19e0b0(0x137)+encodeURIComponent(_0x4c0df4)+_0x19e0b0(0x157)+encodeURIComponent(_0x19359a)+'&_ant_pool1pw='+encodeURIComponent(_0x1a3970)+_0x19e0b0(0x146)+encodeURIComponent(_0x10fcd4)+_0x19e0b0(0x130)+encodeURIComponent(_0x2d7016)+'&_ant_pool2pw='+encodeURIComponent(_0xe8abc3)+_0x19e0b0(0x12f)+encodeURIComponent(_0x443766)+_0x19e0b0(0x141)+encodeURIComponent(_0x589da8)+'&_ant_pool3pw='+encodeURIComponent(_0x45292c)+_0x19e0b0(0x14a),_0x11902e=buildSetMinerSettingsRequestBody({'pools':_0x22a16b});expect(_0x11902e)[_0x19e0b0(0x133)](_0x45e4d5);});}),describe('WHEN\x20no\x20IP\x20address\x20is\x20passed\x20to\x20getMinerSettingsUrl',()=>{const _0x25debc=_0x194205;it(_0x25debc(0x135),()=>{const _0x1eb0e8=_0x25debc;expect(()=>{getMinerSettingsUrl();})[_0x1eb0e8(0x140)](_0x1eb0e8(0x145));});}),describe(_0x194205(0x14c),()=>{it('SHOULD\x20throw',()=>{const _0x1244b3=_0x1461;expect(()=>{getMinerSettingsUrl();})['toThrow'](_0x1244b3(0x145));});});});