# MineOps-api

## About

MineOps, an easier way to configure pools for asic miners. It can be triggered from a DHCP server or via a REST API (POST), `https://{IP_OR_NAME}/api/minerInfos/provisionMiners` with a payload of e.g. `{ "ips":["192.242.1.21, 192.242.1.22"], "minerConfigOptions": { "frequency": 351 }}`.

## Development

If you are running a version of node that is pre version 7, install npm 5 globally, `npm install npm -g`. This is required so that the `package-lock.json` file gets updated.

### Debugging

* To debug in Visual Studio Code:
  * Select the Debug MineOps configuration (default configuration) then press F5.
  * To debug with hot reloading, select the Debug MineOps (Hot Reload) configuration then press F5.
* To debug in Chrome/Brave, from the command line at the root of the application, run `node --inspect-brk app.js`. Once running, the terminal should have an output similar to this.

```text
Debugger listening on port 9229.
Warning: This is an experimental feature and could change at any time.
To start debugging, open the following URL in Chrome:
    chrome-devtools://devtools/bundled/inspector.html?experiments=true&v8only=true&ws=127.0.0.1:9229/bfd80bfb-65e3-4a03-bb44-092dff9e3da7
```

Paste the URL provide in the terminal, e.g. `chrome-devtools://devtools/bundled/inspector.html?experiments=true&v8only=true&ws=127.0.0.1:9229/bfd80bfb-65e3-4a03-bb44-092dff9e3da7` and paste it into the address bar in Chrome/Brave. From there you will be able to debug the application.

### Troubleshooting

* If you have issues with precommit scripts nochrome-devtools://devtools/bundled/inspector.html?experiments=true&v8only=true&ws=127.0.0.1:9229/bfd80bfb-65e3-4a03-bb44-092dff9e3da7t running, it's most likely because you reinstalled your packages and npm reinstalled from its cache. When you reinstall from the cache, post install scripts of packages do not reinstall. To fix this, delete your `node_modules` folder then run `npm install --no-cache`.# My Application

The project is generated by [LoopBack](http://loopback.io).

### .env
```bash
NODE_DEBUG=proxy
smtpTransport={"service": "Gmail","auth": {"user": "username@gmail.com", "pass": "Pa55w0rd"}}
NODE_ENV=
DISABLE_CONSOLE_METHODS=trace,info
CONSOLE_METHODS_FILTER={"debug":{"key":"logType", "matchText":"_trace", "method":"log"}} 
LOG_LEVEL_OPTIONS= ERROR, WARNING, LOG, INFO, DEBUG, ALL
LOG_LEVEL=INFO
MESSAGE_SERVICES=
_NETWORK_DIAGNOSTIC={"type":"ping", "ipAddress":"8.8.8.8"}
_MONGO_URL=mongodb+srv://digger_admin:GinRLvppH35bbe6@digger.av05u.mongodb.net/diggerCentral?retryWrites=true&w=majority
DEBUG=loopback:zzzdatasource
UNSAFE_EDITS=true;  
```